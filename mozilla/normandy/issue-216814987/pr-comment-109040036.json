{"original_position": 33, "diff_hunk": "@@ -29,6 +30,35 @@ function loadStorage() {\n }\n \n this.Storage = {\n+  DURABILITY_NAMESPACE: 'normandy_storageDurability',\n+  DURABILITY_KEY: 'durable',\n+  isDurabilityInvalid(value) {\n+    return typeof value === 'undefined' || isNaN(value);\n+  },\n+  async seedDurability(sandbox) {\n+    const globalDurabilityStore = Storage.makeStorage(this.DURABILITY_NAMESPACE, sandbox);\n+    let durability = await globalDurabilityStore.getItem(this.DURABILITY_KEY);\n+\n+    if (this.isDurabilityInvalid(durability)) {\n+      durability = 0;\n+    }\n+\n+    globalDurabilityStore.setItem(this.DURABILITY_KEY, durability + 1);\n+  },\n+\n+  async checkDurability(sandbox) {\n+      const globalDurabilityStore = Storage.makeStorage(this.DURABILITY_NAMESPACE, sandbox);\n+\n+      const durability = await globalDurabilityStore.getItem(this.DURABILITY_KEY)\n+\n+      const isDurabilityInvalid = this.isDurabilityInvalid(durability) || durability < 2;", "body_text": "Nit: We could probably reduce the number of blank lines in this function.", "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/633", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/109040036", "created_at": "2017-03-30T21:18:34Z", "author_association": "MEMBER", "body": "Nit: We could probably reduce the number of blank lines in this function.", "updated_at": "2017-03-31T17:53:47Z", "html_url": "https://github.com/mozilla/normandy/pull/633#discussion_r109040036", "pull_request_review_id": 30116772, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/109040036"}, "html": {"href": "https://github.com/mozilla/normandy/pull/633#discussion_r109040036"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/633"}}, "commit_id": "ced6ba379fc6d24d135c186440c27c9d64326b5e", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "position": null, "path": "recipe-client-addon/lib/Storage.jsm", "body_html": "<p>Nit: We could probably reduce the number of blank lines in this function.</p>", "original_commit_id": "8e0b16506df2b45b39a0e25d2d39cc355a59f72d", "id": 109040036}