{"original_position": 15, "diff_hunk": "@@ -29,6 +30,34 @@ function loadStorage() {\n }\n \n this.Storage = {\n+  DURABILITY_NAMESPACE: '_storageDurability',\n+  DURABILITY_KEY: 'durable',\n+  async seedDurability(sandbox) {\n+    const globalDurabilityStore = Storage.makeStorage(this.DURABILITY_NAMESPACE, sandbox);", "body_text": "\ud83d\udc4d to both of these ideas. I think the key _storageDurability is unique enough and obvious enough what it is doing. I mostly wanted to make sure we were doing this on purpose, knowing the tradeoffs.\nAs for prefix/namespace: that's also a good idea. You're right that prefix is more a implementation detail, and namespace is really the concept we should be conveying. That change would be good in another PR, and I think we'll have to update actions as well.", "in_reply_to_id": 108528016, "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/633", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/108733065", "created_at": "2017-03-29T17:09:55Z", "author_association": "MEMBER", "body": "\ud83d\udc4d to both of these ideas. I think the key `_storageDurability` is unique enough and obvious enough what it is doing. I mostly wanted to make sure we were doing this on purpose, knowing the tradeoffs.\r\n\r\nAs for `prefix`/`namespace`: that's also a good idea. You're right that `prefix` is more a implementation detail, and `namespace` is really the concept we should be conveying. That change would be good in another PR, and I think we'll have to update actions as well.", "updated_at": "2017-03-31T17:53:47Z", "html_url": "https://github.com/mozilla/normandy/pull/633#discussion_r108733065", "pull_request_review_id": 29784145, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/108733065"}, "html": {"href": "https://github.com/mozilla/normandy/pull/633#discussion_r108733065"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/633"}}, "commit_id": "ced6ba379fc6d24d135c186440c27c9d64326b5e", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "position": null, "path": "recipe-client-addon/lib/Storage.jsm", "body_html": "<p><g-emoji class=\"g-emoji\" alias=\"+1\" fallback-src=\"https://assets-cdn.github.com/images/icons/emoji/unicode/1f44d.png\">\ud83d\udc4d</g-emoji> to both of these ideas. I think the key <code>_storageDurability</code> is unique enough and obvious enough what it is doing. I mostly wanted to make sure we were doing this on purpose, knowing the tradeoffs.</p>\n<p>As for <code>prefix</code>/<code>namespace</code>: that's also a good idea. You're right that <code>prefix</code> is more a implementation detail, and <code>namespace</code> is really the concept we should be conveying. That change would be good in another PR, and I think we'll have to update actions as well.</p>", "original_commit_id": "9c3ec361368d18a6ee65b66c0c754b16e0588975", "id": 108733065}