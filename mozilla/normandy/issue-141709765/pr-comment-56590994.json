{"original_position": 51, "diff_hunk": "@@ -56,11 +51,26 @@ def test_it_filters_by_locale(self, client):\n         recipe_names = set(r['name'] for r in res.data['recipes'])\n         assert recipe_names == {'german', 'any', 'both'}\n \n+    def test_it_filters_by_locale_with_json(self, api_client):", "body_text": "This is to test the fix in the FetchBundle view where we were pulling from request.POST instead of request.data. We want to pull from request.data to support different encodings, like JSON. I have it reusing the filter test because the other tests only test when nothing is sent, and would pass even if data was sent as JSON because the locale param would default to None.", "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/78", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/56590994", "created_at": "2016-03-17T22:51:53Z", "author_association": "MEMBER", "body": "This is to test [the fix in the FetchBundle view](https://github.com/mozilla/normandy/pull/78/files/0f39707be504fe890e761ed05499cf94b3a84b2e#diff-e8a07d3ca4f0d4fd6d4ea0aadb2180ddR27) where we were pulling from `request.POST` instead of `request.data`. We want to pull from `request.data` to support different encodings, like JSON. I have it reusing the filter test because the other tests only test when nothing is sent, and would pass even if data was sent as JSON because the locale param would default to None.\n", "updated_at": "2016-03-18T17:31:47Z", "html_url": "https://github.com/mozilla/normandy/pull/78#discussion_r56590994", "pull_request_review_id": null, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/56590994"}, "html": {"href": "https://github.com/mozilla/normandy/pull/78#discussion_r56590994"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/78"}}, "commit_id": "93c542cc806f6669493580f76e5e925545f5789c", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "position": 51, "path": "normandy/classifier/tests/test_api.py", "body_html": "<p>This is to test <a href=\"https://github.com/mozilla/normandy/pull/78/files/0f39707be504fe890e761ed05499cf94b3a84b2e#diff-e8a07d3ca4f0d4fd6d4ea0aadb2180ddR27\">the fix in the FetchBundle view</a> where we were pulling from <code>request.POST</code> instead of <code>request.data</code>. We want to pull from <code>request.data</code> to support different encodings, like JSON. I have it reusing the filter test because the other tests only test when nothing is sent, and would pass even if data was sent as JSON because the locale param would default to None.</p>", "original_commit_id": "0f39707be504fe890e761ed05499cf94b3a84b2e", "id": 56590994}