{"original_position": 27, "diff_hunk": "@@ -0,0 +1,105 @@\n+import React from 'react'\n+import { reduxForm } from 'redux-form'\n+import { _ } from 'underscore'\n+import { formatLabel } from '../../utils/formHelpers.js'\n+\n+\n+class SurveyForm extends React.Component {\n+  render() {\n+    const { selectedSurvey, fields, showDefaults } = this.props;\n+    const surveyObject = selectedSurvey || fields.defaults;\n+    let headerText = 'Default Survey Values';\n+    let containerClass = 'fluid-8';\n+    if (selectedSurvey) {\n+      headerText = selectedSurvey.title.initialValue || 'New survey';\n+      containerClass += ' active';\n+    }\n+\n+    return (\n+      <div id='survey-form' className={containerClass}>\n+        { selectedSurvey &&\n+          <span className=\"return-to-defaults\" onClick={showDefaults}>\n+            <i className=\"fa fa-long-arrow-left pre\"></i> Return to defaults\n+          </span>\n+        }\n+        <h4>{headerText}</h4>\n+        {\n+          Object.keys(surveyObject).map(fieldName =>", "body_text": "It's a little bit easier to iterate through the list with Object.keys right now because we toggle between showing the default fields and a selected survey's fields. Selected surveys will have a title & weight field associated with them, defaults will not. So we'd need to add some conditional logic in to determine whether or not those should be rendered if we decide to hardcode the fields rather than iterating the keys.", "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/147", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/66668129", "created_at": "2016-06-10T19:25:01Z", "author_association": "CONTRIBUTOR", "body": "It's a little bit easier to iterate through the list with `Object.keys` right now because we toggle between showing the default fields and a selected survey's fields. Selected surveys will have a title & weight field associated with them, defaults will not. So we'd need to add some conditional logic in to determine whether or not those should be rendered if we decide to hardcode the fields rather than iterating the keys.\n", "updated_at": "2016-06-11T20:31:01Z", "html_url": "https://github.com/mozilla/normandy/pull/147#discussion_r66668129", "pull_request_review_id": null, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/66668129"}, "html": {"href": "https://github.com/mozilla/normandy/pull/147#discussion_r66668129"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/147"}}, "commit_id": "e9e64618bd413173d122d6fc56dced3ae4d47462", "user": {"following_url": "https://api.github.com/users/brittanystoroz/following{/other_user}", "events_url": "https://api.github.com/users/brittanystoroz/events{/privacy}", "organizations_url": "https://api.github.com/users/brittanystoroz/orgs", "url": "https://api.github.com/users/brittanystoroz", "gists_url": "https://api.github.com/users/brittanystoroz/gists{/gist_id}", "html_url": "https://github.com/brittanystoroz", "subscriptions_url": "https://api.github.com/users/brittanystoroz/subscriptions", "avatar_url": "https://avatars2.githubusercontent.com/u/856935?v=4", "repos_url": "https://api.github.com/users/brittanystoroz/repos", "received_events_url": "https://api.github.com/users/brittanystoroz/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/brittanystoroz/starred{/owner}{/repo}", "site_admin": false, "login": "brittanystoroz", "type": "User", "id": 856935, "followers_url": "https://api.github.com/users/brittanystoroz/followers"}, "position": null, "path": "normandy/control/static/control/js/components/action_forms/HeartbeatForm.jsx", "body_html": "<p>It's a little bit easier to iterate through the list with <code>Object.keys</code> right now because we toggle between showing the default fields and a selected survey's fields. Selected surveys will have a title &amp; weight field associated with them, defaults will not. So we'd need to add some conditional logic in to determine whether or not those should be rendered if we decide to hardcode the fields rather than iterating the keys.</p>", "original_commit_id": "ff4187c58306bdda5101ce994013480d2819a853", "id": 66668129}