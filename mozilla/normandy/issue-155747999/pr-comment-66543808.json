{"original_position": 27, "diff_hunk": "@@ -0,0 +1,105 @@\n+import React from 'react'\n+import { reduxForm } from 'redux-form'\n+import { _ } from 'underscore'\n+import { formatLabel } from '../../utils/formHelpers.js'\n+\n+\n+class SurveyForm extends React.Component {\n+  render() {\n+    const { selectedSurvey, fields, showDefaults } = this.props;\n+    const surveyObject = selectedSurvey || fields.defaults;\n+    let headerText = 'Default Survey Values';\n+    let containerClass = 'fluid-8';\n+    if (selectedSurvey) {\n+      headerText = selectedSurvey.title.initialValue || 'New survey';\n+      containerClass += ' active';\n+    }\n+\n+    return (\n+      <div id='survey-form' className={containerClass}>\n+        { selectedSurvey &&\n+          <span className=\"return-to-defaults\" onClick={showDefaults}>\n+            <i className=\"fa fa-long-arrow-left pre\"></i> Return to defaults\n+          </span>\n+        }\n+        <h4>{headerText}</h4>\n+        {\n+          Object.keys(surveyObject).map(fieldName =>", "body_text": "I am undecided as to whether I think we should stick with this (where we specify the fields in the field list we give to Redux Form, and then pull from that list dynamically here) or go with fully explicit forms (where we specify the fields in the field list as well as having individual components here for each field). If we were fully explicit this would look something like (assuming we also add a TextField component):\n<TextField className=\"row\" label=\"message\" field={surveyObject.message} />\n<TextField className=\"row\" label=\"thanksMessage\" field={surveyObject.thanksMessage} />\n<TextField className=\"row\" label=\"engagementURL\" field={surveyObject.engagementURL} />\nEither would probably be fine, so maybe this should remain unchanged.", "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/147", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/66543808", "created_at": "2016-06-10T00:12:49Z", "author_association": "MEMBER", "body": "I am undecided as to whether I think we should stick with this (where we specify the fields in the field list we give to Redux Form, and then pull from that list dynamically here) or go with fully explicit forms (where we specify the fields in the field list as well as having individual components here for each field). If we were fully explicit this would look something like (assuming we also add a `TextField` component):\n\n``` jsx\n<TextField className=\"row\" label=\"message\" field={surveyObject.message} />\n<TextField className=\"row\" label=\"thanksMessage\" field={surveyObject.thanksMessage} />\n<TextField className=\"row\" label=\"engagementURL\" field={surveyObject.engagementURL} />\n```\n\nEither would probably be fine, so maybe this should remain unchanged.\n", "updated_at": "2016-06-11T20:31:01Z", "html_url": "https://github.com/mozilla/normandy/pull/147#discussion_r66543808", "pull_request_review_id": null, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/66543808"}, "html": {"href": "https://github.com/mozilla/normandy/pull/147#discussion_r66543808"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/147"}}, "commit_id": "e9e64618bd413173d122d6fc56dced3ae4d47462", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "position": null, "path": "normandy/control/static/control/js/components/action_forms/HeartbeatForm.jsx", "body_html": "<p>I am undecided as to whether I think we should stick with this (where we specify the fields in the field list we give to Redux Form, and then pull from that list dynamically here) or go with fully explicit forms (where we specify the fields in the field list as well as having individual components here for each field). If we were fully explicit this would look something like (assuming we also add a <code>TextField</code> component):</p>\n<div class=\"highlight highlight-source-js-jsx\"><pre>&lt;<span class=\"pl-ent\"><span class=\"pl-c1\">TextField</span></span> <span class=\"pl-e\">className</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>row<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">label</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>message<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">field</span><span class=\"pl-k\">=</span><span class=\"pl-pse\">{</span><span class=\"pl-s1\"><span class=\"pl-smi\">surveyObject</span><span class=\"pl-k\">.</span><span class=\"pl-smi\">message</span></span><span class=\"pl-pse\">}</span> /&gt;\n&lt;<span class=\"pl-ent\"><span class=\"pl-c1\">TextField</span></span> <span class=\"pl-e\">className</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>row<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">label</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>thanksMessage<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">field</span><span class=\"pl-k\">=</span><span class=\"pl-pse\">{</span><span class=\"pl-s1\"><span class=\"pl-smi\">surveyObject</span><span class=\"pl-k\">.</span><span class=\"pl-smi\">thanksMessage</span></span><span class=\"pl-pse\">}</span> /&gt;\n&lt;<span class=\"pl-ent\"><span class=\"pl-c1\">TextField</span></span> <span class=\"pl-e\">className</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>row<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">label</span><span class=\"pl-k\">=</span><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>engagementURL<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">field</span><span class=\"pl-k\">=</span><span class=\"pl-pse\">{</span><span class=\"pl-s1\"><span class=\"pl-smi\">surveyObject</span><span class=\"pl-k\">.</span><span class=\"pl-smi\">engagementURL</span></span><span class=\"pl-pse\">}</span> /&gt;</pre></div>\n<p>Either would probably be fine, so maybe this should remain unchanged.</p>", "original_commit_id": "ff4187c58306bdda5101ce994013480d2819a853", "id": 66543808}