{"body": "> So this perma-disables recipes while we're offline? I'm... not sure that's a good idea? It will lead to different Firefox app behaviour (esp. for pref experiments etc.) depending on whether Firefox can connect to the internet...\r\n\r\nThis change doesn't; that behavior is already normal. This just avoids running pre-execution hooks without running the post-execution ones as well.\r\n\r\nJust because recipes don't run, that doesn't mean that the experiment is no longer active. Rather, if a user is offline, the recipe won't run, and the only side effect is that, if the user is offline for 7/14 days (whatever we decide in #647) then the experiment will disable itself (which we want; otherwise experiments could break internet connectivity and the user would never be able to get back). But the experiment doesn't _require_ the recipe to be run to stay active all the time.\r\n\r\nGenerally I think that recipes should be designed to run occasionally and not have large side effects if they miss an update or two. Also, not running any recipes is semantically different than running recipes and not seeing a specific recipe, which we use as a signal for rollback in several places.", "body_text": "So this perma-disables recipes while we're offline? I'm... not sure that's a good idea? It will lead to different Firefox app behaviour (esp. for pref experiments etc.) depending on whether Firefox can connect to the internet...\n\nThis change doesn't; that behavior is already normal. This just avoids running pre-execution hooks without running the post-execution ones as well.\nJust because recipes don't run, that doesn't mean that the experiment is no longer active. Rather, if a user is offline, the recipe won't run, and the only side effect is that, if the user is offline for 7/14 days (whatever we decide in #647) then the experiment will disable itself (which we want; otherwise experiments could break internet connectivity and the user would never be able to get back). But the experiment doesn't require the recipe to be run to stay active all the time.\nGenerally I think that recipes should be designed to run occasionally and not have large side effects if they miss an update or two. Also, not running any recipes is semantically different than running recipes and not seeing a specific recipe, which we use as a signal for rollback in several places.", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/309077826", "created_at": "2017-06-16T16:53:15Z", "author_association": "MEMBER", "html_url": "https://github.com/mozilla/normandy/pull/814#issuecomment-309077826", "updated_at": "2017-06-16T16:53:15Z", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "body_html": "<blockquote>\n<p>So this perma-disables recipes while we're offline? I'm... not sure that's a good idea? It will lead to different Firefox app behaviour (esp. for pref experiments etc.) depending on whether Firefox can connect to the internet...</p>\n</blockquote>\n<p>This change doesn't; that behavior is already normal. This just avoids running pre-execution hooks without running the post-execution ones as well.</p>\n<p>Just because recipes don't run, that doesn't mean that the experiment is no longer active. Rather, if a user is offline, the recipe won't run, and the only side effect is that, if the user is offline for 7/14 days (whatever we decide in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"217711435\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/mozilla/normandy/issues/647\" href=\"https://github.com/mozilla/normandy/issues/647\">#647</a>) then the experiment will disable itself (which we want; otherwise experiments could break internet connectivity and the user would never be able to get back). But the experiment doesn't <em>require</em> the recipe to be run to stay active all the time.</p>\n<p>Generally I think that recipes should be designed to run occasionally and not have large side effects if they miss an update or two. Also, not running any recipes is semantically different than running recipes and not seeing a specific recipe, which we use as a signal for rollback in several places.</p>", "id": 309077826, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/814"}