{"original_position": 17, "diff_hunk": "@@ -2,22 +2,24 @@\n \n import uuid\n \n-from django.utils.functional import cached_property\n-\n from normandy.classifier.geolocation import get_country_code\n from normandy.recipes.models import Recipe\n \n \n class Client(object):\n     \"\"\"A client attempting to fetch a set of recipes.\"\"\"\n-    def __init__(self, request, locale=None):\n+    def __init__(self, request, locale=None, release_channel=None, country=None):\n         self.request = request\n         self.locale = locale\n+        self.release_channel = release_channel\n+        self._country = country", "body_text": "You can actually just set self.country = country and it will use that instead of the cached property. So setting it if country isn't None will let you retain the decorator while allowing it to be set manually.", "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/41", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/54004408", "created_at": "2016-02-24T20:53:09Z", "author_association": "MEMBER", "body": "You can actually just set `self.country = country` and it will use that instead of the cached property. So setting it if country isn't `None` will let you retain the decorator while allowing it to be set manually.\n", "updated_at": "2016-02-25T00:25:49Z", "html_url": "https://github.com/mozilla/normandy/pull/41#discussion_r54004408", "pull_request_review_id": null, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/54004408"}, "html": {"href": "https://github.com/mozilla/normandy/pull/41#discussion_r54004408"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/41"}}, "commit_id": "d3180532a4ebe41ac75295517ebfa4e173982549", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "position": null, "path": "normandy/classifier/models.py", "body_html": "<p>You can actually just set <code>self.country = country</code> and it will use that instead of the cached property. So setting it if country isn't <code>None</code> will let you retain the decorator while allowing it to be set manually.</p>", "original_commit_id": "060dae782c3507444402a8c120d963272c925bdf", "id": 54004408}