{"original_position": 25, "diff_hunk": "@@ -81,6 +81,20 @@ this.RecipeRunner = {\n       await ClientEnvironment.getClientClassification();\n     }\n \n+    // Run pre-execution hooks. If a hook fails, we don't run recipes with that\n+    // action to avoid inconsistencies.\n+    const actions = await NormandyApi.fetchActions();\n+    for (const action of Object.values(actions)) {\n+      try {\n+        await this.runActionCallback(action, \"preExecution\");", "body_text": "We should make very clear in the docs that preExecution hooks, if any, will run even on builds where filters don't match, as that might surprise people who didn't expect to have to deal with backward compat in the future, or with windows environments when they wrote something for mac users, or...", "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/659", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/109623586", "created_at": "2017-04-04T10:08:11Z", "author_association": "CONTRIBUTOR", "body": "We should make very clear in the docs that preExecution hooks, if any, will run even on builds where filters don't match, as that might surprise people who didn't expect to have to deal with backward compat in the future, or with windows environments when they wrote something for mac users, or...", "updated_at": "2017-04-13T20:52:41Z", "html_url": "https://github.com/mozilla/normandy/pull/659#discussion_r109623586", "pull_request_review_id": 30735217, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/109623586"}, "html": {"href": "https://github.com/mozilla/normandy/pull/659#discussion_r109623586"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/659"}}, "commit_id": "6d3d2f5c4585a8588829ddf4a62a9b490309bb8c", "user": {"following_url": "https://api.github.com/users/gijsk/following{/other_user}", "events_url": "https://api.github.com/users/gijsk/events{/privacy}", "organizations_url": "https://api.github.com/users/gijsk/orgs", "url": "https://api.github.com/users/gijsk", "gists_url": "https://api.github.com/users/gijsk/gists{/gist_id}", "html_url": "https://github.com/gijsk", "subscriptions_url": "https://api.github.com/users/gijsk/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/375983?v=4", "repos_url": "https://api.github.com/users/gijsk/repos", "received_events_url": "https://api.github.com/users/gijsk/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/gijsk/starred{/owner}{/repo}", "site_admin": false, "login": "gijsk", "type": "User", "id": 375983, "followers_url": "https://api.github.com/users/gijsk/followers"}, "position": null, "path": "recipe-client-addon/lib/RecipeRunner.jsm", "body_html": "<p>We should make very clear in the docs that preExecution hooks, if any, will run even on builds where filters don't match, as that might surprise people who didn't expect to have to deal with backward compat in the future, or with windows environments when they wrote something for mac users, or...</p>", "original_commit_id": "41d6ba3fe48b729d3f3179dff3bb25be0c35e5cd", "id": 109623586}