{"body": "A `keys` operator to get a list of keys is easy enough. `hasAny` seems a bit unwieldy though.\r\n\r\nJEXL allows us to add custom operators, what if we add a new `intersection` operator that computes the intersection between two list-like objects? We could also use the `&` operator, which python uses for that operation. Something like:\r\n\r\n```js\r\nnormandy.telemetry.main.environment.addons.activeAddons|keys intersect ['addon@mozilla.org']\r\n// or\r\nnormandy.telemetry.main.environment.addons.activeAddons|keys & ['addon@mozilla.org']\r\n```", "body_text": "A keys operator to get a list of keys is easy enough. hasAny seems a bit unwieldy though.\nJEXL allows us to add custom operators, what if we add a new intersection operator that computes the intersection between two list-like objects? We could also use the & operator, which python uses for that operation. Something like:\nnormandy.telemetry.main.environment.addons.activeAddons|keys intersect ['addon@mozilla.org']\n// or\nnormandy.telemetry.main.environment.addons.activeAddons|keys & ['addon@mozilla.org']", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/300963279", "created_at": "2017-05-12T01:56:55Z", "author_association": "MEMBER", "html_url": "https://github.com/mozilla/normandy/issues/756#issuecomment-300963279", "updated_at": "2017-05-12T01:56:55Z", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "body_html": "<p>A <code>keys</code> operator to get a list of keys is easy enough. <code>hasAny</code> seems a bit unwieldy though.</p>\n<p>JEXL allows us to add custom operators, what if we add a new <code>intersection</code> operator that computes the intersection between two list-like objects? We could also use the <code>&amp;</code> operator, which python uses for that operation. Something like:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">normandy</span>.<span class=\"pl-smi\">telemetry</span>.<span class=\"pl-smi\">main</span>.<span class=\"pl-smi\">environment</span>.<span class=\"pl-smi\">addons</span>.<span class=\"pl-smi\">activeAddons</span><span class=\"pl-k\">|</span>keys intersect [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>addon@mozilla.org<span class=\"pl-pds\">'</span></span>]\n<span class=\"pl-c\"><span class=\"pl-c\">//</span> or</span>\n<span class=\"pl-smi\">normandy</span>.<span class=\"pl-smi\">telemetry</span>.<span class=\"pl-smi\">main</span>.<span class=\"pl-smi\">environment</span>.<span class=\"pl-smi\">addons</span>.<span class=\"pl-smi\">activeAddons</span><span class=\"pl-k\">|</span>keys <span class=\"pl-k\">&amp;</span> [<span class=\"pl-s\"><span class=\"pl-pds\">'</span>addon@mozilla.org<span class=\"pl-pds\">'</span></span>]</pre></div>", "id": 300963279, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/756"}