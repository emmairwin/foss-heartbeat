{"original_position": 5, "diff_hunk": "@@ -1,5 +1,13 @@\n-/* eslint import/prefer-default-export: \"off\" */\n-\n export function getAction(state, id, defaultsTo = null) {\n-  return state.app.actions.items.get(id, defaultsTo);\n+  // Convert string IDs to integers, since the state is keyed by ints.", "body_text": "I actually think this conversion business should remain; getAction is not always used within a connect or with router params. I found these cases after searching:\ngetAction(state, revision.getIn(['recipe', 'action_id']));\ngetAction(state, recipe.get('action_id'));\n  (state, props) => ({\n    selectedAction: getAction(\n      state,\n      props.form.getFieldValue('action_id'),\n      new Map(),\n    ),\n  }),\n)\n\nIn order to keep these sections concise, it makes sense to me to leave the int parsing within getAction.", "in_reply_to_id": 126365766, "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/859", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/126747604", "created_at": "2017-07-11T16:55:16Z", "author_association": "CONTRIBUTOR", "body": "I actually think this conversion business should remain; `getAction` is not always used within a `connect` or with router params. I found these cases after searching:\r\n\r\n`getAction(state, revision.getIn(['recipe', 'action_id']));`\r\n`getAction(state, recipe.get('action_id'));`\r\n```@connect(\r\n  (state, props) => ({\r\n    selectedAction: getAction(\r\n      state,\r\n      props.form.getFieldValue('action_id'),\r\n      new Map(),\r\n    ),\r\n  }),\r\n)\r\n```\r\n\r\n\r\nIn order to keep these sections concise, it makes sense to me to leave the int parsing within `getAction`. ", "updated_at": "2017-07-11T16:55:36Z", "html_url": "https://github.com/mozilla/normandy/pull/859#discussion_r126747604", "pull_request_review_id": 49261303, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/126747604"}, "html": {"href": "https://github.com/mozilla/normandy/pull/859#discussion_r126747604"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/859"}}, "commit_id": "086fe7a6a22652b6ef3e20181e3a2f9364bd9eee", "user": {"following_url": "https://api.github.com/users/andymikulski/following{/other_user}", "events_url": "https://api.github.com/users/andymikulski/events{/privacy}", "organizations_url": "https://api.github.com/users/andymikulski/orgs", "url": "https://api.github.com/users/andymikulski", "gists_url": "https://api.github.com/users/andymikulski/gists{/gist_id}", "html_url": "https://github.com/andymikulski", "subscriptions_url": "https://api.github.com/users/andymikulski/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/2767162?v=4", "repos_url": "https://api.github.com/users/andymikulski/repos", "received_events_url": "https://api.github.com/users/andymikulski/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/andymikulski/starred{/owner}{/repo}", "site_admin": false, "login": "andymikulski", "type": "User", "id": 2767162, "followers_url": "https://api.github.com/users/andymikulski/followers"}, "position": 5, "path": "recipe-server/client/control_new/state/actions/selectors.js", "body_html": "<p>I actually think this conversion business should remain; <code>getAction</code> is not always used within a <code>connect</code> or with router params. I found these cases after searching:</p>\n<p><code>getAction(state, revision.getIn(['recipe', 'action_id']));</code><br>\n<code>getAction(state, recipe.get('action_id'));</code></p>\n<pre lang=\"@connect(\"><code>  (state, props) =&gt; ({\n    selectedAction: getAction(\n      state,\n      props.form.getFieldValue('action_id'),\n      new Map(),\n    ),\n  }),\n)\n</code></pre>\n<p>In order to keep these sections concise, it makes sense to me to leave the int parsing within <code>getAction</code>.</p>", "original_commit_id": "086fe7a6a22652b6ef3e20181e3a2f9364bd9eee", "id": 126747604}