{"body_text": "The API index URLs are cached in NormandyApi.jsm. In normal operation this isn't a problem, because we only run once a session. This does, however, break the mock-server pattern of pasting code into the developer console to re-fetch recipes.\nIn the near future we're going to look at fetching recipes once every 24 hours if the user hasn't restarted, which will also make this an issue, especially if we expect a long-running session to not break if the server decides to change the API urls.\nI'm not sure if we just want to not cache them at all, or add an easy way for the mock-server to clear the cache.", "labels": [], "number": 575, "assignee": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "repository_url": "https://api.github.com/repos/mozilla/normandy", "closed_at": "2017-03-13T23:53:16Z", "body_html": "<p>The API index URLs are cached in <code>NormandyApi.jsm</code>. In normal operation this isn't a problem, because we only run once a session. This does, however, break the mock-server pattern of pasting code into the developer console to re-fetch recipes.</p>\n<p>In the near future we're going to look at fetching recipes once every 24 hours if the user hasn't restarted, which will also make this an issue, especially if we expect a long-running session to not break if the server decides to change the API urls.</p>\n<p>I'm not sure if we just want to not cache them at all, or add an easy way for the mock-server to clear the cache.</p>", "id": 211576806, "title": "API index URLs are cached", "comments": 0, "state": "closed", "body": "The API index URLs are cached in `NormandyApi.jsm`. In normal operation this isn't a problem, because we only run once a session. This does, however, break the mock-server pattern of pasting code into the developer console to re-fetch recipes.\r\n\r\nIn the near future we're going to look at fetching recipes once every 24 hours if the user hasn't restarted, which will also make this an issue, especially if we expect a long-running session to not break if the server decides to change the API urls.\r\n\r\nI'm not sure if we just want to not cache them at all, or add an easy way for the mock-server to clear the cache.", "events_url": "https://api.github.com/repos/mozilla/normandy/issues/575/events", "labels_url": "https://api.github.com/repos/mozilla/normandy/issues/575/labels{/name}", "author_association": "MEMBER", "comments_url": "https://api.github.com/repos/mozilla/normandy/issues/575/comments", "html_url": "https://github.com/mozilla/normandy/issues/575", "updated_at": "2017-03-13T23:53:16Z", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "milestone": null, "locked": false, "url": "https://api.github.com/repos/mozilla/normandy/issues/575", "created_at": "2017-03-03T02:18:28Z", "assignees": [{"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}]}