{"original_position": 27, "diff_hunk": "@@ -0,0 +1,37 @@\n+-- vim:ft=lua\n+message_matcher = message_matcher .. \" && Fields[Type] == 'request.summary'\"\n+\n+s3_path_dimensions = {\n+\t{name=\"log\", source=\"Type\"},\n+\t{name=\"type\", source=\"Fields[Type]\"},\n+\t{name=\"date\", source=\"Fields[Date]\"},\n+\t{name=\"hour\", source=\"Fields[Hour]\"},\n+}\n+\n+parquet_schema = [=[\n+message Log {\n+    required int64 Timestamp;\n+    optional binary Type (UTF8);\n+    optional binary Hostname (UTF8);\n+    optional binary Logger (UTF8);\n+    optional binary EnvVersion (UTF8);\n+    optional int64 Severity;\n+    optional int64 Pid;\n+    optional binary fields_lang (UTF8);\n+    optional binary fields_method (UTF8);\n+    optional binary fields_path (UTF8);\n+    optional binary fields_rid (UTF8);\n+    optional binary fields_uid (UTF8);\n+    optional binary fields_user_agent_browser (UTF8);\n+    optional binary fields_user_agent_os (UTF8);\n+    optional binary fields_user_agent_version (UTF8);", "body_text": "The logs I see just have an agent field, unparsed. Can we include that as well as the parsed versions? (Or just that).\nAlso, where is the code that extracts these values from the mozlog format? (I know we talked about it living elsewhere, but  I'd like to see it).", "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/472", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/99184190", "created_at": "2017-02-02T18:14:44Z", "author_association": "MEMBER", "body": "The logs I see just have an `agent` field, unparsed. Can we include that as well as the parsed versions? (Or just that).\r\n\r\nAlso, where is the code that extracts these values from the mozlog format? (I know we talked about it living elsewhere, but  I'd like to see it).", "updated_at": "2017-02-06T22:56:33Z", "html_url": "https://github.com/mozilla/normandy/pull/472#discussion_r99184190", "pull_request_review_id": 19853015, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/99184190"}, "html": {"href": "https://github.com/mozilla/normandy/pull/472#discussion_r99184190"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/472"}}, "commit_id": "0d8a9598c0acc6da4ba0c68101ac209d46cd7005", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "position": 29, "path": "recipe-server/parquet_schemas/normandy.admin.docker.app/request.summary.cfg", "body_html": "<p>The logs I see just have an <code>agent</code> field, unparsed. Can we include that as well as the parsed versions? (Or just that).</p>\n<p>Also, where is the code that extracts these values from the mozlog format? (I know we talked about it living elsewhere, but  I'd like to see it).</p>", "original_commit_id": "a8beb1e3c3f4a88ee95d7f5c77f9934f45bad7a2", "id": 99184190}