{"body": "@mythmon Ready for feedback on commit 4d11c30309ecd846b504410099dc5f71278c5cbf . Essentially, I abstracted the preference managing bits into `PreferenceManagement.jsm`, and left the `start`/`stop` functions in `Preference[Rollout|Experiments].jsm`.\r\n\r\nBasically, you can instantiate a namespaced pref manager based on its purpose (rollouts get the `rollout` namespace, experiments `experiments`, etc), and then it exposes all the necessary functions to access those prefs.\r\n\r\nLet me know if you think this is a more appropriate path. Tests are currently failing, but I wanted to get some feedback before tackling those.", "body_text": "@mythmon Ready for feedback on commit 4d11c30 . Essentially, I abstracted the preference managing bits into PreferenceManagement.jsm, and left the start/stop functions in Preference[Rollout|Experiments].jsm.\nBasically, you can instantiate a namespaced pref manager based on its purpose (rollouts get the rollout namespace, experiments experiments, etc), and then it exposes all the necessary functions to access those prefs.\nLet me know if you think this is a more appropriate path. Tests are currently failing, but I wanted to get some feedback before tackling those.", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/299891432", "created_at": "2017-05-08T14:59:32Z", "author_association": "CONTRIBUTOR", "html_url": "https://github.com/mozilla/normandy/pull/724#issuecomment-299891432", "updated_at": "2017-05-08T14:59:32Z", "user": {"following_url": "https://api.github.com/users/andymikulski/following{/other_user}", "events_url": "https://api.github.com/users/andymikulski/events{/privacy}", "organizations_url": "https://api.github.com/users/andymikulski/orgs", "url": "https://api.github.com/users/andymikulski", "gists_url": "https://api.github.com/users/andymikulski/gists{/gist_id}", "html_url": "https://github.com/andymikulski", "subscriptions_url": "https://api.github.com/users/andymikulski/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/2767162?v=4", "repos_url": "https://api.github.com/users/andymikulski/repos", "received_events_url": "https://api.github.com/users/andymikulski/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/andymikulski/starred{/owner}{/repo}", "site_admin": false, "login": "andymikulski", "type": "User", "id": 2767162, "followers_url": "https://api.github.com/users/andymikulski/followers"}, "body_html": "<p><a class=\"user-mention\" href=\"https://github.com/mythmon\">@mythmon</a> Ready for feedback on commit <a class=\"commit-link\" href=\"https://github.com/mozilla/normandy/commit/4d11c30309ecd846b504410099dc5f71278c5cbf\"><tt>4d11c30</tt></a> . Essentially, I abstracted the preference managing bits into <code>PreferenceManagement.jsm</code>, and left the <code>start</code>/<code>stop</code> functions in <code>Preference[Rollout|Experiments].jsm</code>.</p>\n<p>Basically, you can instantiate a namespaced pref manager based on its purpose (rollouts get the <code>rollout</code> namespace, experiments <code>experiments</code>, etc), and then it exposes all the necessary functions to access those prefs.</p>\n<p>Let me know if you think this is a more appropriate path. Tests are currently failing, but I wanted to get some feedback before tackling those.</p>", "id": 299891432, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/724"}