{"original_position": 37, "diff_hunk": "@@ -15,12 +15,44 @@\n       \"title\": \"Log a message to the console\",\n       \"type\": \"object\"\n     },\n-    \"implementation_url\": \"https://localhost:8000/api/v1/action/console-log/implementation/0765c6302db2846b85543eea743f959c19b42559/\",\n+    \"implementation_url\": \"https://localhost:8443/api/v1/action/console-log/implementation/sha384-RGx3rydrSq53UfmW9kFcK0mQYra67XIvZvr4MhmAe--ljiiMQOtgM7Cmca48um3v/\",\n     \"name\": \"console-log\"\n   },\n   {\n     \"arguments_schema\": {\n       \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n+      \"properties\": {\n+        \"addonUrl\": {\n+          \"description\": \"URL of the add-on XPI file\",\n+          \"format\": \"uri\",\n+          \"minLength\": 1,\n+          \"type\": \"string\"\n+        },\n+        \"description\": {\n+          \"description\": \"User-facing description of the study\",\n+          \"minLength\": 1,\n+          \"type\": \"string\"\n+        },\n+        \"name\": {\n+          \"description\": \"User-facing name of the study\",\n+          \"minLength\": 1,\n+          \"type\": \"string\"\n+        }\n+      },\n+      \"required\": [\n+        \"name\",\n+        \"description\",\n+        \"addonUrl\"\n+      ],\n+      \"title\": \"Enroll a user in an opt-out SHIELD study\",\n+      \"type\": \"object\"\n+    },\n+    \"implementation_url\": \"https://localhost:8443/api/v1/action/opt-out-study/implementation/sha384-HM_avYcD00o27ufwU1V7PIBtiuMAXML6MMwlYrDEqDX-XzGVuOfL52RCM680JExN/\",", "body_text": "As mentioned above, I think it would be cleaner to split this into\n{\n\"implementation_url\": \"https://localhost:8443/api/v1/action/opt-out-study/implementation/foo\",\n\"implementation_hash\": \"HM_avYcD00o27ufwU1V7PIBtiuMAXML6MMwlYrDEqDX-XzGVuOfL52RCM680JExN\",\n}\nwhich, in passing, doesn't really need to be base64url, since it's not in a url.", "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/934", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/131764806", "created_at": "2017-08-07T21:12:40Z", "author_association": "CONTRIBUTOR", "body": "As mentioned above, I think it would be cleaner to split this into\r\n```json\r\n{\r\n\"implementation_url\": \"https://localhost:8443/api/v1/action/opt-out-study/implementation/foo\",\r\n\"implementation_hash\": \"HM_avYcD00o27ufwU1V7PIBtiuMAXML6MMwlYrDEqDX-XzGVuOfL52RCM680JExN\",\r\n}\r\n```\r\nwhich, in passing, doesn't really need to be base64url, since it's not in a url.", "updated_at": "2017-08-09T17:29:37Z", "html_url": "https://github.com/mozilla/normandy/pull/934#discussion_r131764806", "pull_request_review_id": 54769937, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/131764806"}, "html": {"href": "https://github.com/mozilla/normandy/pull/934#discussion_r131764806"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/934"}}, "commit_id": "9b11c6f569d0e9e3d25e024a14c775e0184ba9b7", "user": {"following_url": "https://api.github.com/users/jvehent/following{/other_user}", "events_url": "https://api.github.com/users/jvehent/events{/privacy}", "organizations_url": "https://api.github.com/users/jvehent/orgs", "url": "https://api.github.com/users/jvehent", "gists_url": "https://api.github.com/users/jvehent/gists{/gist_id}", "html_url": "https://github.com/jvehent", "subscriptions_url": "https://api.github.com/users/jvehent/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/415617?v=4", "repos_url": "https://api.github.com/users/jvehent/repos", "received_events_url": "https://api.github.com/users/jvehent/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/jvehent/starred{/owner}{/repo}", "site_admin": false, "login": "jvehent", "type": "User", "id": 415617, "followers_url": "https://api.github.com/users/jvehent/followers"}, "position": 37, "path": "recipe-client-addon/test/unit/mock_api/api/v1/action/index.json", "body_html": "<p>As mentioned above, I think it would be cleaner to split this into</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>implementation_url<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>https://localhost:8443/api/v1/action/opt-out-study/implementation/foo<span class=\"pl-pds\">\"</span></span>,\n<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>implementation_hash<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>HM_avYcD00o27ufwU1V7PIBtiuMAXML6MMwlYrDEqDX-XzGVuOfL52RCM680JExN<span class=\"pl-pds\">\"</span></span>,\n}</pre></div>\n<p>which, in passing, doesn't really need to be base64url, since it's not in a url.</p>", "original_commit_id": "276fd5fbb89f000267cede859a3f01dbbaecd9dc", "id": 131764806}