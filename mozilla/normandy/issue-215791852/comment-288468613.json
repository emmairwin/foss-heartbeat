{"body": "The CSP report in my last comment was produced by following the steps to reproduce that @andymikulski provided. Specifically I was using Nightly.\r\n\r\nAs discussed in #604, we can't use `frame-ancestors 'none'` right now, because we require framing of some pages by [parts of Firefox](https://dxr.mozilla.org/mozilla-central/source/browser/modules/SelfSupportBackend.jsm#256-273) which [as far as we can tell don't have a origin that can be named](https://github.com/mozilla/normandy/pull/604#issuecomment-286104143).  We also can't remove `frame-ancestors` only on the page needed, because of mozilla/django-csp#85.\r\n\r\nWe use the header `X-Frame-Options` to deny framing, and this works because the parts of Firefox we require being framed in ignores `X-Frame-Options`.\r\n\r\nI'll ask in #contentsecurity about the devtools and CSS.", "body_text": "The CSP report in my last comment was produced by following the steps to reproduce that @andymikulski provided. Specifically I was using Nightly.\nAs discussed in #604, we can't use frame-ancestors 'none' right now, because we require framing of some pages by parts of Firefox which as far as we can tell don't have a origin that can be named.  We also can't remove frame-ancestors only on the page needed, because of mozilla/django-csp#85.\nWe use the header X-Frame-Options to deny framing, and this works because the parts of Firefox we require being framed in ignores X-Frame-Options.\nI'll ask in #contentsecurity about the devtools and CSS.", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/288468613", "created_at": "2017-03-22T17:04:35Z", "author_association": "MEMBER", "html_url": "https://github.com/mozilla/normandy/issues/621#issuecomment-288468613", "updated_at": "2017-03-22T17:04:35Z", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "body_html": "<p>The CSP report in my last comment was produced by following the steps to reproduce that <a class=\"user-mention\" href=\"https://github.com/andymikulski\">@andymikulski</a> provided. Specifically I was using Nightly.</p>\n<p>As discussed in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"213424540\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/mozilla/normandy/issues/604\" href=\"https://github.com/mozilla/normandy/pull/604\">#604</a>, we can't use <code>frame-ancestors 'none'</code> right now, because we require framing of some pages by <a href=\"https://dxr.mozilla.org/mozilla-central/source/browser/modules/SelfSupportBackend.jsm#256-273\" rel=\"nofollow\">parts of Firefox</a> which <a href=\"https://github.com/mozilla/normandy/pull/604#issuecomment-286104143\">as far as we can tell don't have a origin that can be named</a>.  We also can't remove <code>frame-ancestors</code> only on the page needed, because of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"213494251\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/mozilla/django-csp/issues/85\" href=\"https://github.com/mozilla/django-csp/pull/85\">mozilla/django-csp#85</a>.</p>\n<p>We use the header <code>X-Frame-Options</code> to deny framing, and this works because the parts of Firefox we require being framed in ignores <code>X-Frame-Options</code>.</p>\n<p>I'll ask in #contentsecurity about the devtools and CSS.</p>", "id": 288468613, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/621"}