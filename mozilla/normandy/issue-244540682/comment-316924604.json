{"body": "I added some functional tests for `about:studies` and am no longer getting the `NS_ERROR_NOT_INITIALIZED` error. Hooray!\r\n\r\nInstead, though, I'm seeing the following logs during a mochitest run:\r\n\r\n```\r\n448 INFO Console message: [JavaScript Error: \"NS_ERROR_FACTORY_EXISTS: Component returned failure code: 0xc1f30100 (NS_ERROR_FACTORY_EXISTS) [nsIComponentRegistrar.registerFactory]\" {file: \"resource://shield-recipe-client/content/AboutPages.jsm\" line: 74}]\r\n```\r\n\r\nand\r\n\r\n```\r\nGECKO(4353) | JavaScript error: resource://shield-recipe-client/content/AboutPages.jsm, line 87: TypeError: Cm is undefined\r\n```\r\n\r\nPerhaps something about how mochitests are run is re-running the about page initialization without cleaning it up?", "body_text": "I added some functional tests for about:studies and am no longer getting the NS_ERROR_NOT_INITIALIZED error. Hooray!\nInstead, though, I'm seeing the following logs during a mochitest run:\n448 INFO Console message: [JavaScript Error: \"NS_ERROR_FACTORY_EXISTS: Component returned failure code: 0xc1f30100 (NS_ERROR_FACTORY_EXISTS) [nsIComponentRegistrar.registerFactory]\" {file: \"resource://shield-recipe-client/content/AboutPages.jsm\" line: 74}]\n\nand\nGECKO(4353) | JavaScript error: resource://shield-recipe-client/content/AboutPages.jsm, line 87: TypeError: Cm is undefined\n\nPerhaps something about how mochitests are run is re-running the about page initialization without cleaning it up?", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/316924604", "created_at": "2017-07-21T07:17:49Z", "author_association": "MEMBER", "html_url": "https://github.com/mozilla/normandy/pull/902#issuecomment-316924604", "updated_at": "2017-07-21T07:17:49Z", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "body_html": "<p>I added some functional tests for <code>about:studies</code> and am no longer getting the <code>NS_ERROR_NOT_INITIALIZED</code> error. Hooray!</p>\n<p>Instead, though, I'm seeing the following logs during a mochitest run:</p>\n<pre><code>448 INFO Console message: [JavaScript Error: \"NS_ERROR_FACTORY_EXISTS: Component returned failure code: 0xc1f30100 (NS_ERROR_FACTORY_EXISTS) [nsIComponentRegistrar.registerFactory]\" {file: \"resource://shield-recipe-client/content/AboutPages.jsm\" line: 74}]\n</code></pre>\n<p>and</p>\n<pre><code>GECKO(4353) | JavaScript error: resource://shield-recipe-client/content/AboutPages.jsm, line 87: TypeError: Cm is undefined\n</code></pre>\n<p>Perhaps something about how mochitests are run is re-running the about page initialization without cleaning it up?</p>", "id": 316924604, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/902"}