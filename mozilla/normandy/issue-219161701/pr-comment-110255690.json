{"original_position": 16, "diff_hunk": "@@ -174,6 +179,21 @@ this.ClientEnvironment = {\n       return Preferences.get(\"privacy.donottrackheader.enabled\", false);\n     });\n \n+    XPCOMUtils.defineLazyGetter(environment, \"experiments\", async () => {", "body_text": "These are being set on the return value of getEnvironment, which is called once per filter expression we evaluate (we actually should probably optimize that to run once per call to run instead). So they aren't shared between filter expression evals, nor between calls to run every 24 hours.", "in_reply_to_id": 110214603, "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/660", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/110255690", "created_at": "2017-04-06T20:09:48Z", "author_association": "MEMBER", "body": "These are being set on the return value of `getEnvironment`, which is called once per filter expression we evaluate (we actually should probably optimize that to run once per call to `run` instead). So they aren't shared between filter expression evals, nor between calls to `run` every 24 hours.", "updated_at": "2017-04-06T20:09:48Z", "html_url": "https://github.com/mozilla/normandy/pull/660#discussion_r110255690", "pull_request_review_id": 31417445, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/110255690"}, "html": {"href": "https://github.com/mozilla/normandy/pull/660#discussion_r110255690"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/660"}}, "commit_id": "9bbce66ba5d240d9175fb9e178358cabfe34eebf", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "position": 16, "path": "recipe-client-addon/lib/ClientEnvironment.jsm", "body_html": "<p>These are being set on the return value of <code>getEnvironment</code>, which is called once per filter expression we evaluate (we actually should probably optimize that to run once per call to <code>run</code> instead). So they aren't shared between filter expression evals, nor between calls to <code>run</code> every 24 hours.</p>", "original_commit_id": "9bbce66ba5d240d9175fb9e178358cabfe34eebf", "id": 110255690}