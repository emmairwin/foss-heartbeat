{"body_text": "The driver should have a function that allows actions to register callbacks that are run after a delay, similar to setTimeout. The differences are:\n\nTimeouts should persist through restarts; we should be able to register a callback that runs in a week, and have it not disappear if the user restarts the browser.\nIf the timeout delay runs out and the user isn't running Firefox, it should execute on the subsequent startup.\nTimeouts should be named so that recipes can cancel them without a reference to the function that was registered.\n\nThis implies that we'll be serializing the functions and that they won't have access to their surrounding scope when executed, since the sandbox they were defined in no longer exists.", "labels": [], "number": 591, "assignee": null, "repository_url": "https://api.github.com/repos/mozilla/normandy", "closed_at": "2017-03-14T20:30:45Z", "body_html": "<p>The driver should have a function that allows actions to register callbacks that are run after a delay, similar to <code>setTimeout</code>. The differences are:</p>\n<ul>\n<li>Timeouts should persist through restarts; we should be able to register a callback that runs in a week, and have it not disappear if the user restarts the browser.</li>\n<li>If the timeout delay runs out and the user isn't running Firefox, it should execute on the subsequent startup.</li>\n<li>Timeouts should be named so that recipes can cancel them without a reference to the function that was registered.</li>\n</ul>\n<p>This implies that we'll be serializing the functions and that they won't have access to their surrounding scope when executed, since the sandbox they were defined in no longer exists.</p>", "id": 212299000, "title": "Driver function for running a callback after a delay that persists through restarts", "comments": 1, "state": "closed", "body": "The driver should have a function that allows actions to register callbacks that are run after a delay, similar to `setTimeout`. The differences are:\r\n\r\n- Timeouts should persist through restarts; we should be able to register a callback that runs in a week, and have it not disappear if the user restarts the browser.\r\n- If the timeout delay runs out and the user isn't running Firefox, it should execute on the subsequent startup.\r\n- Timeouts should be named so that recipes can cancel them without a reference to the function that was registered.\r\n\r\nThis implies that we'll be serializing the functions and that they won't have access to their surrounding scope when executed, since the sandbox they were defined in no longer exists.", "events_url": "https://api.github.com/repos/mozilla/normandy/issues/591/events", "labels_url": "https://api.github.com/repos/mozilla/normandy/issues/591/labels{/name}", "author_association": "MEMBER", "comments_url": "https://api.github.com/repos/mozilla/normandy/issues/591/comments", "html_url": "https://github.com/mozilla/normandy/issues/591", "updated_at": "2018-01-30T17:40:32Z", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "milestone": null, "locked": false, "url": "https://api.github.com/repos/mozilla/normandy/issues/591", "created_at": "2017-03-07T01:03:01Z", "assignees": []}