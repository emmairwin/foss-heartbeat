{"body_text": "This bug means that we currently are not filtering on the latest version of each type of telemetry ping, but instead on whatever one is returned first by TelemetryArchive.getArchivedPings, which is typically the oldest.\nI noticed this when trying to test if we could filter on the channel attribute in the main ping. When a profile created on beta was switched to release, it still returned true for a beta channel check since it still had the archived ping from when it was on beta.", "labels": [], "number": 1070, "assignee": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "repository_url": "https://api.github.com/repos/mozilla/normandy", "closed_at": "2017-09-25T18:03:39Z", "body_html": "<p>This bug means that we currently are not filtering on the latest version of each type of telemetry ping, but instead on whatever one is returned first by <code>TelemetryArchive.getArchivedPings</code>, which is typically the oldest.</p>\n<p>I noticed this when trying to test if we could filter on the channel attribute in the main ping. When a profile created on beta was switched to release, it still returned <code>true</code> for a beta channel check since it still had the archived ping from when it was on beta.</p>", "id": 259883293, "title": "Use the correct attribute name when comparing telemetry timestamps.", "pull_request": {"url": "https://api.github.com/repos/mozilla/normandy/pulls/1070", "diff_url": "https://github.com/mozilla/normandy/pull/1070.diff", "html_url": "https://github.com/mozilla/normandy/pull/1070", "patch_url": "https://github.com/mozilla/normandy/pull/1070.patch"}, "comments": 0, "state": "closed", "body": "This bug means that we currently are not filtering on the latest version of each type of telemetry ping, but instead on whatever one is returned first by `TelemetryArchive.getArchivedPings`, which is typically the oldest.\r\n\r\nI noticed this when trying to test if we could filter on the channel attribute in the main ping. When a profile created on beta was switched to release, it still returned `true` for a beta channel check since it still had the archived ping from when it was on beta.", "events_url": "https://api.github.com/repos/mozilla/normandy/issues/1070/events", "labels_url": "https://api.github.com/repos/mozilla/normandy/issues/1070/labels{/name}", "author_association": "MEMBER", "comments_url": "https://api.github.com/repos/mozilla/normandy/issues/1070/comments", "html_url": "https://github.com/mozilla/normandy/pull/1070", "updated_at": "2017-09-25T18:03:42Z", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "milestone": null, "locked": false, "url": "https://api.github.com/repos/mozilla/normandy/issues/1070", "created_at": "2017-09-22T17:25:03Z", "assignees": [{"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, {"following_url": "https://api.github.com/users/gijsk/following{/other_user}", "events_url": "https://api.github.com/users/gijsk/events{/privacy}", "organizations_url": "https://api.github.com/users/gijsk/orgs", "url": "https://api.github.com/users/gijsk", "gists_url": "https://api.github.com/users/gijsk/gists{/gist_id}", "html_url": "https://github.com/gijsk", "subscriptions_url": "https://api.github.com/users/gijsk/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/375983?v=4", "repos_url": "https://api.github.com/users/gijsk/repos", "received_events_url": "https://api.github.com/users/gijsk/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/gijsk/starred{/owner}{/repo}", "site_admin": false, "login": "gijsk", "type": "User", "id": 375983, "followers_url": "https://api.github.com/users/gijsk/followers"}]}