{"body_text": "This came from a desire to know when we deployed a version to prod. It isn't quite the same, as we build the docker images at least an hour before they actually get deployed. This would also show the same time on both stage and prod, and won't take into account re-deploys. This is better than nothing though.\nThe code here is starting to get a little unwieldy, but I think the best next step is to start using python-dockerflow instead of continuing on our own custom thing.\n@milescrabill Does this look like an ok thing to add to our version endpoint? Is it possible to get the actual deploy time as an envvar or a file injected into our image?", "labels": [], "number": 705, "assignee": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "repository_url": "https://api.github.com/repos/mozilla/normandy", "closed_at": "2017-05-08T17:34:13Z", "body_html": "<p>This came from a desire to know when we deployed a version to prod. It isn't quite the same, as we build the docker images at least an hour before they actually get deployed. This would also show the same time on both stage and prod, and won't take into account re-deploys. This is better than nothing though.</p>\n<p>The code here is starting to get a little unwieldy, but I think the best next step is to start using <a href=\"https://github.com/mozilla-services/python-dockerflow\">python-dockerflow</a> instead of continuing on our own custom thing.</p>\n<p><a class=\"user-mention\" href=\"https://github.com/milescrabill\">@milescrabill</a> Does this look like an ok thing to add to our version endpoint? Is it possible to get the actual deploy time as an envvar or a file injected into our image?</p>", "id": 223899424, "title": "recipe-server: Add build time to __version__ endpoint", "pull_request": {"url": "https://api.github.com/repos/mozilla/normandy/pulls/705", "diff_url": "https://github.com/mozilla/normandy/pull/705.diff", "html_url": "https://github.com/mozilla/normandy/pull/705", "patch_url": "https://github.com/mozilla/normandy/pull/705.patch"}, "comments": 4, "state": "closed", "body": "This came from a desire to know when we deployed a version to prod. It isn't quite the same, as we build the docker images at least an hour before they actually get deployed. This would also show the same time on both stage and prod, and won't take into account re-deploys. This is better than nothing though.\r\n\r\nThe code here is starting to get a little unwieldy, but I think the best next step is to start using [python-dockerflow](https://github.com/mozilla-services/python-dockerflow) instead of continuing on our own custom thing.\r\n\r\n@milescrabill Does this look like an ok thing to add to our version endpoint? Is it possible to get the actual deploy time as an envvar or a file injected into our image?", "events_url": "https://api.github.com/repos/mozilla/normandy/issues/705/events", "labels_url": "https://api.github.com/repos/mozilla/normandy/issues/705/labels{/name}", "author_association": "MEMBER", "comments_url": "https://api.github.com/repos/mozilla/normandy/issues/705/comments", "html_url": "https://github.com/mozilla/normandy/pull/705", "updated_at": "2017-05-24T22:22:48Z", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "milestone": null, "locked": false, "url": "https://api.github.com/repos/mozilla/normandy/issues/705", "created_at": "2017-04-24T17:45:23Z", "assignees": [{"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}]}