{"original_position": 10, "diff_hunk": "@@ -6,8 +6,34 @@ export default class ShieldStudyAction extends Action {\n     this.storage = normandy.createStorage(recipe.id);\n   }\n \n+  setHasBeenShown() {\n+    this.storage.setItem('studyHasBeenShown', true);\n+  }\n+\n+  async getHasBeenShown() {\n+    const hasBeenShown = await this.storage.getItem('studyHasBeenShown');\n+    return hasBeenShown;", "body_text": "You can make this\ngetHasBeenShown() {\n  return this.storage.getItem('studyHasBeenShown');\n}\nsince async/await just evaluate to a function that returns a Promise, you can just return the promise directly.", "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/291", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/84151618", "created_at": "2016-10-19T19:46:12Z", "author_association": "MEMBER", "body": "You can make this\n\n``` js\ngetHasBeenShown() {\n  return this.storage.getItem('studyHasBeenShown');\n}\n```\n\nsince async/await just evaluate to a function that returns a Promise, you can just return the promise directly.\n", "updated_at": "2016-11-03T23:10:01Z", "html_url": "https://github.com/mozilla/normandy/pull/291#discussion_r84151618", "pull_request_review_id": 4947157, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/84151618"}, "html": {"href": "https://github.com/mozilla/normandy/pull/291#discussion_r84151618"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/291"}}, "commit_id": "f905b2547d3135fff8e4e9a69edcfae9c9892a91", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "position": null, "path": "client/actions/shield-study/index.js", "body_html": "<p>You can make this</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-en\">getHasBeenShown</span>() {\n  <span class=\"pl-k\">return</span> <span class=\"pl-c1\">this</span>.<span class=\"pl-smi\">storage</span>.<span class=\"pl-c1\">getItem</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>studyHasBeenShown<span class=\"pl-pds\">'</span></span>);\n}</pre></div>\n<p>since async/await just evaluate to a function that returns a Promise, you can just return the promise directly.</p>", "original_commit_id": "1c04fda867875e5e03787678ff27f009b930e3aa", "id": 84151618}