{"body_text": "Currently, there are a few bits of info that the frontend needs to fetch from the API, including the current user ID and CSRF token. This data is sent to the frontend via data attributes on the <html> element: https://github.com/mozilla/normandy/blob/master/recipe-server/normandy/control/templates/control/admin/base.html\nIn the long term, we probably want an API that returns this data, and frontend code to fetch and store the data in the state tree so that it's accessible to the frontend.\nNot sure what we should name the endpoint. I'm not a fan of settings or config, they're a bit too generic. Maybe service_config?", "labels": [], "number": 765, "assignee": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "repository_url": "https://api.github.com/repos/mozilla/normandy", "closed_at": "2017-07-06T20:30:13Z", "body_html": "<p>Currently, there are a few bits of info that the frontend needs to fetch from the API, including the current user ID and CSRF token. This data is sent to the frontend via data attributes on the <code>&lt;html&gt;</code> element: <a href=\"https://github.com/mozilla/normandy/blob/master/recipe-server/normandy/control/templates/control/admin/base.html\">https://github.com/mozilla/normandy/blob/master/recipe-server/normandy/control/templates/control/admin/base.html</a></p>\n<p>In the long term, we probably want an API that returns this data, and frontend code to fetch and store the data in the state tree so that it's accessible to the frontend.</p>\n<p>Not sure what we should name the endpoint. I'm not a fan of <code>settings</code> or <code>config</code>, they're a bit too generic. Maybe <code>service_config</code>?</p>", "id": 229779761, "title": "Send backend settings to frontend via API instead of data attributes", "comments": 0, "state": "closed", "body": "Currently, there are a few bits of info that the frontend needs to fetch from the API, including the current user ID and CSRF token. This data is sent to the frontend via data attributes on the `<html>` element: https://github.com/mozilla/normandy/blob/master/recipe-server/normandy/control/templates/control/admin/base.html\r\n\r\nIn the long term, we probably want an API that returns this data, and frontend code to fetch and store the data in the state tree so that it's accessible to the frontend.\r\n\r\nNot sure what we should name the endpoint. I'm not a fan of `settings` or `config`, they're a bit too generic. Maybe `service_config`?", "events_url": "https://api.github.com/repos/mozilla/normandy/issues/765/events", "labels_url": "https://api.github.com/repos/mozilla/normandy/issues/765/labels{/name}", "author_association": "MEMBER", "comments_url": "https://api.github.com/repos/mozilla/normandy/issues/765/comments", "html_url": "https://github.com/mozilla/normandy/issues/765", "updated_at": "2018-01-30T17:38:42Z", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "milestone": null, "locked": false, "url": "https://api.github.com/repos/mozilla/normandy/issues/765", "created_at": "2017-05-18T19:28:51Z", "assignees": [{"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, {"following_url": "https://api.github.com/users/rehandalal/following{/other_user}", "events_url": "https://api.github.com/users/rehandalal/events{/privacy}", "organizations_url": "https://api.github.com/users/rehandalal/orgs", "url": "https://api.github.com/users/rehandalal", "gists_url": "https://api.github.com/users/rehandalal/gists{/gist_id}", "html_url": "https://github.com/rehandalal", "subscriptions_url": "https://api.github.com/users/rehandalal/subscriptions", "avatar_url": "https://avatars2.githubusercontent.com/u/987136?v=4", "repos_url": "https://api.github.com/users/rehandalal/repos", "received_events_url": "https://api.github.com/users/rehandalal/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/rehandalal/starred{/owner}{/repo}", "site_admin": false, "login": "rehandalal", "type": "User", "id": 987136, "followers_url": "https://api.github.com/users/rehandalal/followers"}]}