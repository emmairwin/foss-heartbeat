{"body_text": "#347 changes the show-heartbeat action to only prompt the user once, and never again, per-recipe. To accommodate the long-term Release Heartbeat survey, in which we do want to occasionally re-prompt users (after a long time we'll exhaust the user population, so we want to eventually make people eligible to see the prompt again), we should add a new argument to show-heartbeat recipes for configuring when a recipe should re-prompt users.\nThe new argument should be a choice between two options, using radio buttons:\n\nDo not show this prompt to specific users more than once\nAllow re-prompting users who have already seen this prompt after X days since they last saw it\n\nX should be a number input that defaults to 30, is disabled if the option isn't selected, and is required if the option is selected.\nWhen run, show-heartbeat should store the datetime that it was seen. If the first option is selected, the action should not prompt the user if any datetime is logged If the second option is selected, the action should compare the request time returned by the server with the stored datetime, and if the difference is larger than the specified delay, then it should re-prompt and store the request time as the last-seen date.", "labels": [], "number": 336, "assignee": {"following_url": "https://api.github.com/users/andymikulski/following{/other_user}", "events_url": "https://api.github.com/users/andymikulski/events{/privacy}", "organizations_url": "https://api.github.com/users/andymikulski/orgs", "url": "https://api.github.com/users/andymikulski", "gists_url": "https://api.github.com/users/andymikulski/gists{/gist_id}", "html_url": "https://github.com/andymikulski", "subscriptions_url": "https://api.github.com/users/andymikulski/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/2767162?v=4", "repos_url": "https://api.github.com/users/andymikulski/repos", "received_events_url": "https://api.github.com/users/andymikulski/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/andymikulski/starred{/owner}{/repo}", "site_admin": false, "login": "andymikulski", "type": "User", "id": 2767162, "followers_url": "https://api.github.com/users/andymikulski/followers"}, "repository_url": "https://api.github.com/repos/mozilla/normandy", "closed_at": "2017-01-25T21:17:25Z", "body_html": "<p><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"189900649\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/mozilla/normandy/issues/347\" href=\"https://github.com/mozilla/normandy/issues/347\">#347</a> changes the <code>show-heartbeat</code> action to only prompt the user once, and never again, per-recipe. To accommodate the long-term Release Heartbeat survey, in which we do want to occasionally re-prompt users (after a long time we'll exhaust the user population, so we want to eventually make people eligible to see the prompt again), we should add a new argument to <code>show-heartbeat</code> recipes for configuring when a recipe should re-prompt users.</p>\n<p>The new argument should be a choice between two options, using radio buttons:</p>\n<ul>\n<li>Do not show this prompt to specific users more than once</li>\n<li>Allow re-prompting users who have already seen this prompt after <code>X</code> days since they last saw it</li>\n</ul>\n<p><code>X</code> should be a number input that defaults to 30, is disabled if the option isn't selected, and is required if the option is selected.</p>\n<p>When run, <code>show-heartbeat</code> should store the datetime that it was seen. If the first option is selected, the action should not prompt the user if any datetime is logged If the second option is selected, the action should compare the request time returned by the server with the stored datetime, and if the difference is larger than the specified delay, then it should re-prompt and store the request time as the last-seen date.</p>", "id": 189239665, "title": "Option to make messaging studies show once or re-prompt ", "comments": 9, "state": "closed", "body": "#347 changes the `show-heartbeat` action to only prompt the user once, and never again, per-recipe. To accommodate the long-term Release Heartbeat survey, in which we do want to occasionally re-prompt users (after a long time we'll exhaust the user population, so we want to eventually make people eligible to see the prompt again), we should add a new argument to `show-heartbeat` recipes for configuring when a recipe should re-prompt users.\r\n\r\nThe new argument should be a choice between two options, using radio buttons:\r\n\r\n- Do not show this prompt to specific users more than once\r\n- Allow re-prompting users who have already seen this prompt after `X` days since they last saw it\r\n\r\n`X` should be a number input that defaults to 30, is disabled if the option isn't selected, and is required if the option is selected.\r\n\r\nWhen run, `show-heartbeat` should store the datetime that it was seen. If the first option is selected, the action should not prompt the user if any datetime is logged If the second option is selected, the action should compare the request time returned by the server with the stored datetime, and if the difference is larger than the specified delay, then it should re-prompt and store the request time as the last-seen date.", "events_url": "https://api.github.com/repos/mozilla/normandy/issues/336/events", "labels_url": "https://api.github.com/repos/mozilla/normandy/issues/336/labels{/name}", "author_association": "MEMBER", "comments_url": "https://api.github.com/repos/mozilla/normandy/issues/336/comments", "html_url": "https://github.com/mozilla/normandy/issues/336", "updated_at": "2017-01-25T21:17:25Z", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "milestone": null, "locked": false, "url": "https://api.github.com/repos/mozilla/normandy/issues/336", "created_at": "2016-11-14T22:04:57Z", "assignees": [{"following_url": "https://api.github.com/users/andymikulski/following{/other_user}", "events_url": "https://api.github.com/users/andymikulski/events{/privacy}", "organizations_url": "https://api.github.com/users/andymikulski/orgs", "url": "https://api.github.com/users/andymikulski", "gists_url": "https://api.github.com/users/andymikulski/gists{/gist_id}", "html_url": "https://github.com/andymikulski", "subscriptions_url": "https://api.github.com/users/andymikulski/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/2767162?v=4", "repos_url": "https://api.github.com/users/andymikulski/repos", "received_events_url": "https://api.github.com/users/andymikulski/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/andymikulski/starred{/owner}{/repo}", "site_admin": false, "login": "andymikulski", "type": "User", "id": 2767162, "followers_url": "https://api.github.com/users/andymikulski/followers"}]}