{"body": "On a more specific level, I think that doing something in a `beforeAll` function, and then trying to test that it happened with spies in an actual `it('should ...', () => {})` test seems a bit odd. I could imagine Jasmine being designed such that spies actually get reset before tests run. Did you ever try putting all of the code in one test, instead of splitting it between `beforeAll` and `it` functions?\n", "body_text": "On a more specific level, I think that doing something in a beforeAll function, and then trying to test that it happened with spies in an actual it('should ...', () => {}) test seems a bit odd. I could imagine Jasmine being designed such that spies actually get reset before tests run. Did you ever try putting all of the code in one test, instead of splitting it between beforeAll and it functions?", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/229725430", "created_at": "2016-06-30T17:13:22Z", "author_association": "MEMBER", "html_url": "https://github.com/mozilla/normandy/pull/185#issuecomment-229725430", "updated_at": "2016-06-30T17:13:22Z", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "body_html": "<p>On a more specific level, I think that doing something in a <code>beforeAll</code> function, and then trying to test that it happened with spies in an actual <code>it('should ...', () =&gt; {})</code> test seems a bit odd. I could imagine Jasmine being designed such that spies actually get reset before tests run. Did you ever try putting all of the code in one test, instead of splitting it between <code>beforeAll</code> and <code>it</code> functions?</p>", "id": 229725430, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/185"}