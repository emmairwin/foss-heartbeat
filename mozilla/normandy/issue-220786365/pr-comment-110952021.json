{"original_position": 23, "diff_hunk": "@@ -97,11 +98,17 @@ this.PreferenceExperiments = {\n    */\n   async init() {\n     const store = await ensureStorage();\n+\n     Object.values(store.data).forEach(experiment => {\n-      const {expired, preferenceBranchType, preferenceName, preferenceValue} = experiment;\n+      const {name, branch, expired, preferenceBranchType, preferenceName, preferenceValue} = experiment;\n+\n+      // Set experiment default preferences, since they don't persist between restarts\n       if (!expired && preferenceBranchType === \"default\") {\n         DefaultPreferences.set(preferenceName, preferenceValue);\n       }\n+\n+      // Notify Telemetry of experiments we're running, since they don't persist between restarts\n+      TelemetryEnvironment.setExperimentActive(name, branch);", "body_text": "This needs to check if the experiment in question is disabled or not.", "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/674", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/110952021", "created_at": "2017-04-11T16:36:43Z", "author_association": "MEMBER", "body": "This needs to check if the experiment in question is disabled or not.", "updated_at": "2017-04-11T18:36:20Z", "html_url": "https://github.com/mozilla/normandy/pull/674#discussion_r110952021", "pull_request_review_id": 32160620, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/110952021"}, "html": {"href": "https://github.com/mozilla/normandy/pull/674#discussion_r110952021"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/674"}}, "commit_id": "cf1299a98a9b04400e92e8a9b18814223df60d89", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "position": null, "path": "recipe-client-addon/lib/PreferenceExperiments.jsm", "body_html": "<p>This needs to check if the experiment in question is disabled or not.</p>", "original_commit_id": "a3a035498656dc5543278d0f8406ae062068eeee", "id": 110952021}