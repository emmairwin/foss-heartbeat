{"body_text": "I added the django-reversion library & its middleware to keep track of changes to recipes/actions as per bug 1253717. You'll have to run manage.py migrate and manage.py createinitialrevisions to populate the new reversion tables.\nThere were a couple of options listed for creating revisions with django-reversion. I went with the middleware but it did come with this warning. Do we care about that? I don't totally understand what it means.\nWe can also add extra metadata to our revisions if we want. As is, it gives us all the serialized data for each revision of a recipe/action so I think we've got what we need, but let me know if there's anything else we might want to keep track of. Each row has its own revision_id field which could maybeee get confusing with the revision_id field that was added to recipes in Rehan's recent pull request for salt hashes? Thoughts?\nI haven't added any sort of front-end for this information yet - just wanted to make sure this was on the right track first.  I can file a new bug and PR for that assuming the work here is all good.", "labels": [], "number": 79, "assignee": null, "repository_url": "https://api.github.com/repos/mozilla/normandy", "closed_at": "2016-03-23T17:19:31Z", "body_html": "<p>I added the <a href=\"http://django-reversion.readthedocs.org/en/latest/\" rel=\"nofollow\">django-reversion</a> library &amp; its middleware to keep track of changes to recipes/actions as per <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1253717\" rel=\"nofollow\">bug 1253717</a>. You'll have to run <code>manage.py migrate</code> and <code>manage.py createinitialrevisions</code> to populate the new reversion tables.</p>\n<p>There were a couple of options listed for creating revisions with django-reversion. I went with the middleware but it did come with this <a href=\"http://django-reversion.readthedocs.org/en/latest/api.html?highlight=json#revisionmiddleware\" rel=\"nofollow\">warning</a>. Do we care about that? I don't totally understand what it means.</p>\n<p>We can also add extra metadata to our revisions if we want. As is, it gives us all the serialized data for each revision of a recipe/action so I think we've got what we need, but let me know if there's anything else we might want to keep track of. Each row has its own <code>revision_id</code> field which could maybeee get confusing with the <code>revision_id</code> field that was added to recipes in Rehan's recent <a href=\"https://github.com/mozilla/normandy/pull/75/files\">pull request for salt hashes</a>? Thoughts?</p>\n<p>I haven't added any sort of front-end for this information yet - just wanted to make sure this was on the right track first.  I can file a new bug and PR for that assuming the work here is all good.</p>", "id": 142398275, "title": "[Bug 1253717] Keep history of changes to Actions / Recipes", "pull_request": {"url": "https://api.github.com/repos/mozilla/normandy/pulls/79", "diff_url": "https://github.com/mozilla/normandy/pull/79.diff", "html_url": "https://github.com/mozilla/normandy/pull/79", "patch_url": "https://github.com/mozilla/normandy/pull/79.patch"}, "comments": 4, "state": "closed", "body": "I added the [django-reversion](http://django-reversion.readthedocs.org/en/latest/) library & its middleware to keep track of changes to recipes/actions as per [bug 1253717](https://bugzilla.mozilla.org/show_bug.cgi?id=1253717). You'll have to run `manage.py migrate` and `manage.py createinitialrevisions` to populate the new reversion tables. \n\nThere were a couple of options listed for creating revisions with django-reversion. I went with the middleware but it did come with this [warning](http://django-reversion.readthedocs.org/en/latest/api.html?highlight=json#revisionmiddleware). Do we care about that? I don't totally understand what it means.\n\nWe can also add extra metadata to our revisions if we want. As is, it gives us all the serialized data for each revision of a recipe/action so I think we've got what we need, but let me know if there's anything else we might want to keep track of. Each row has its own `revision_id` field which could maybeee get confusing with the `revision_id` field that was added to recipes in Rehan's recent [pull request for salt hashes](https://github.com/mozilla/normandy/pull/75/files)? Thoughts?\n\nI haven't added any sort of front-end for this information yet - just wanted to make sure this was on the right track first.  I can file a new bug and PR for that assuming the work here is all good.\n", "events_url": "https://api.github.com/repos/mozilla/normandy/issues/79/events", "labels_url": "https://api.github.com/repos/mozilla/normandy/issues/79/labels{/name}", "author_association": "CONTRIBUTOR", "comments_url": "https://api.github.com/repos/mozilla/normandy/issues/79/comments", "html_url": "https://github.com/mozilla/normandy/pull/79", "updated_at": "2016-03-23T17:19:32Z", "user": {"following_url": "https://api.github.com/users/brittanystoroz/following{/other_user}", "events_url": "https://api.github.com/users/brittanystoroz/events{/privacy}", "organizations_url": "https://api.github.com/users/brittanystoroz/orgs", "url": "https://api.github.com/users/brittanystoroz", "gists_url": "https://api.github.com/users/brittanystoroz/gists{/gist_id}", "html_url": "https://github.com/brittanystoroz", "subscriptions_url": "https://api.github.com/users/brittanystoroz/subscriptions", "avatar_url": "https://avatars2.githubusercontent.com/u/856935?v=4", "repos_url": "https://api.github.com/users/brittanystoroz/repos", "received_events_url": "https://api.github.com/users/brittanystoroz/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/brittanystoroz/starred{/owner}{/repo}", "site_admin": false, "login": "brittanystoroz", "type": "User", "id": 856935, "followers_url": "https://api.github.com/users/brittanystoroz/followers"}, "milestone": null, "locked": false, "url": "https://api.github.com/repos/mozilla/normandy/issues/79", "created_at": "2016-03-21T16:18:15Z", "assignees": []}