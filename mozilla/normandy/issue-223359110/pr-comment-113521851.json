{"original_position": 23, "diff_hunk": "@@ -0,0 +1,43 @@\n+import {\n+  ACTION_RECEIVE,\n+} from '../action-types';\n+\n+import {\n+  makeApiRequest,\n+} from '../requests/actions';\n+\n+\n+function receiveAction(action) {\n+  return dispatch => {\n+    dispatch({\n+      type: ACTION_RECEIVE,\n+      action,\n+    });\n+  };\n+}\n+\n+\n+export function fetchAction(name) {\n+  const requestId = `fetch-${name}`;\n+  return makeApiRequest(requestId, `action/${name}/`, { method: 'GET' })\n+    .then(action => receiveAction(action));", "body_text": "I'm actually fine with abstracting into its own function - skimming the code, it's faster for me to parse what's going on, and enforces separation of concerns. I prefer the 'redirect' to another method over reading a few lines of an inlined function to determine what it's actually doing, but maybe that's just me. Also, refactoring or adding to recieveAction would be cleaner if we ever decided to do so in the future.\nBut, the line itself could be rewritten to just .then(receiveAction), which I would suggest.", "in_reply_to_id": 113511477, "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/704", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/113521851", "created_at": "2017-04-26T18:00:01Z", "author_association": "CONTRIBUTOR", "body": "I'm actually fine with abstracting into its own function - skimming the code, it's faster for me to parse what's going on, and enforces separation of concerns. I prefer the 'redirect' to another method over reading a few lines of an inlined function to determine what it's actually doing, but maybe that's just me. Also, refactoring or adding to `recieveAction` would be cleaner if we ever decided to do so in the future.\r\n\r\nBut, the line itself could be rewritten to just `.then(receiveAction)`, which I would suggest.", "updated_at": "2017-05-03T03:20:26Z", "html_url": "https://github.com/mozilla/normandy/pull/704#discussion_r113521851", "pull_request_review_id": 34917612, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/113521851"}, "html": {"href": "https://github.com/mozilla/normandy/pull/704#discussion_r113521851"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/704"}}, "commit_id": "f39acceb032bc336aad8cbb3edce72472c143c7e", "user": {"following_url": "https://api.github.com/users/andymikulski/following{/other_user}", "events_url": "https://api.github.com/users/andymikulski/events{/privacy}", "organizations_url": "https://api.github.com/users/andymikulski/orgs", "url": "https://api.github.com/users/andymikulski", "gists_url": "https://api.github.com/users/andymikulski/gists{/gist_id}", "html_url": "https://github.com/andymikulski", "subscriptions_url": "https://api.github.com/users/andymikulski/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/2767162?v=4", "repos_url": "https://api.github.com/users/andymikulski/repos", "received_events_url": "https://api.github.com/users/andymikulski/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/andymikulski/starred{/owner}{/repo}", "site_admin": false, "login": "andymikulski", "type": "User", "id": 2767162, "followers_url": "https://api.github.com/users/andymikulski/followers"}, "position": null, "path": "recipe-server/client/control/state/actions/actions.js", "body_html": "<p>I'm actually fine with abstracting into its own function - skimming the code, it's faster for me to parse what's going on, and enforces separation of concerns. I prefer the 'redirect' to another method over reading a few lines of an inlined function to determine what it's actually doing, but maybe that's just me. Also, refactoring or adding to <code>recieveAction</code> would be cleaner if we ever decided to do so in the future.</p>\n<p>But, the line itself could be rewritten to just <code>.then(receiveAction)</code>, which I would suggest.</p>", "original_commit_id": "8e7aa3871ff7557097d1ea2a950f785244ae7c3d", "id": 113521851}