{"body_text": "When Firefox Nightly starts, the following error is dumped to the console:\n\nthis.saveStartupPrefs is not a function at   PreferenceExperiments.jsm:302\n\nTo fix this, add .bind(PreferenceExperiments) to line 175 (and also lines 176 - 180 just in case).\n\n  \n    \n      normandy/recipe-client-addon/lib/NormandyDriver.jsm\n    \n    \n        Lines 173 to 181\n      in\n      a2b399f\n    \n    \n    \n    \n\n        \n          \n           // Preference Experiment API \n        \n\n        \n          \n           preferenceExperiments: { \n        \n\n        \n          \n             start: sandboxManager.wrapAsync(PreferenceExperiments.start, {cloneArguments: true}), \n        \n\n        \n          \n             markLastSeen: sandboxManager.wrapAsync(PreferenceExperiments.markLastSeen), \n        \n\n        \n          \n             stop: sandboxManager.wrapAsync(PreferenceExperiments.stop), \n        \n\n        \n          \n             get: sandboxManager.wrapAsync(PreferenceExperiments.get, {cloneInto: true}), \n        \n\n        \n          \n             getAllActive: sandboxManager.wrapAsync(PreferenceExperiments.getAllActive, {cloneInto: true}), \n        \n\n        \n          \n             has: sandboxManager.wrapAsync(PreferenceExperiments.has), \n        \n\n        \n          \n           },", "labels": [], "number": 1058, "assignee": null, "repository_url": "https://api.github.com/repos/mozilla/normandy", "closed_at": "2017-09-12T19:23:09Z", "body_html": "<p>When Firefox Nightly starts, the following error is dumped to the console:</p>\n<blockquote>\n<p>this.saveStartupPrefs is not a function at   PreferenceExperiments.jsm:302</p>\n</blockquote>\n<p>To fix this, add <code>.bind(PreferenceExperiments)</code> to line 175 (and also lines 176 - 180 just in case).</p>\n<p><div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/mozilla/normandy/blob/a2b399f966d15154fb751a2fad5cba2c55ede068/recipe-client-addon/lib/NormandyDriver.jsm#L173-L181\">normandy/recipe-client-addon/lib/NormandyDriver.jsm</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n        Lines 173 to 181\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/mozilla/normandy/commit/a2b399f966d15154fb751a2fad5cba2c55ede068\">a2b399f</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L173\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"173\"></td>\n          <td id=\"LC173\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-c\"><span class=\"pl-c\">//</span> Preference Experiment API</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L174\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"174\"></td>\n          <td id=\"LC174\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> preferenceExperiments<span class=\"pl-k\">:</span> { </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L175\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"175\"></td>\n          <td id=\"LC175\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\">   start<span class=\"pl-k\">:</span> <span class=\"pl-smi\">sandboxManager</span>.<span class=\"pl-en\">wrapAsync</span>(<span class=\"pl-smi\">PreferenceExperiments</span>.<span class=\"pl-c1\">start</span>, {cloneArguments<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>}), </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L176\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"176\"></td>\n          <td id=\"LC176\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\">   markLastSeen<span class=\"pl-k\">:</span> <span class=\"pl-smi\">sandboxManager</span>.<span class=\"pl-en\">wrapAsync</span>(<span class=\"pl-smi\">PreferenceExperiments</span>.<span class=\"pl-smi\">markLastSeen</span>), </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L177\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"177\"></td>\n          <td id=\"LC177\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\">   stop<span class=\"pl-k\">:</span> <span class=\"pl-smi\">sandboxManager</span>.<span class=\"pl-en\">wrapAsync</span>(<span class=\"pl-smi\">PreferenceExperiments</span>.<span class=\"pl-smi\">stop</span>), </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L178\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"178\"></td>\n          <td id=\"LC178\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\">   get<span class=\"pl-k\">:</span> <span class=\"pl-smi\">sandboxManager</span>.<span class=\"pl-en\">wrapAsync</span>(<span class=\"pl-smi\">PreferenceExperiments</span>.<span class=\"pl-smi\">get</span>, {cloneInto<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>}), </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L179\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"179\"></td>\n          <td id=\"LC179\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\">   getAllActive<span class=\"pl-k\">:</span> <span class=\"pl-smi\">sandboxManager</span>.<span class=\"pl-en\">wrapAsync</span>(<span class=\"pl-smi\">PreferenceExperiments</span>.<span class=\"pl-smi\">getAllActive</span>, {cloneInto<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>}), </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L180\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"180\"></td>\n          <td id=\"LC180\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\">   has<span class=\"pl-k\">:</span> <span class=\"pl-smi\">sandboxManager</span>.<span class=\"pl-en\">wrapAsync</span>(<span class=\"pl-smi\">PreferenceExperiments</span>.<span class=\"pl-smi\">has</span>), </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L181\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"181\"></td>\n          <td id=\"LC181\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> }, </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</p>", "id": 256431083, "title": "Firefox Nightly: this.saveStartupPrefs is not a function", "comments": 1, "state": "closed", "body": "When Firefox Nightly starts, the following error is dumped to the console:\r\n\r\n> this.saveStartupPrefs is not a function at   PreferenceExperiments.jsm:302\r\n\r\nTo fix this, add `.bind(PreferenceExperiments)` to line 175 (and also lines 176 - 180 just in case).\r\n\r\nhttps://github.com/mozilla/normandy/blob/a2b399f966d15154fb751a2fad5cba2c55ede068/recipe-client-addon/lib/NormandyDriver.jsm#L173-L181", "events_url": "https://api.github.com/repos/mozilla/normandy/issues/1058/events", "labels_url": "https://api.github.com/repos/mozilla/normandy/issues/1058/labels{/name}", "author_association": "MEMBER", "comments_url": "https://api.github.com/repos/mozilla/normandy/issues/1058/comments", "html_url": "https://github.com/mozilla/normandy/issues/1058", "updated_at": "2017-09-12T19:23:09Z", "user": {"following_url": "https://api.github.com/users/Rob--W/following{/other_user}", "events_url": "https://api.github.com/users/Rob--W/events{/privacy}", "organizations_url": "https://api.github.com/users/Rob--W/orgs", "url": "https://api.github.com/users/Rob--W", "gists_url": "https://api.github.com/users/Rob--W/gists{/gist_id}", "html_url": "https://github.com/Rob--W", "subscriptions_url": "https://api.github.com/users/Rob--W/subscriptions", "avatar_url": "https://avatars2.githubusercontent.com/u/1365071?v=4", "repos_url": "https://api.github.com/users/Rob--W/repos", "received_events_url": "https://api.github.com/users/Rob--W/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Rob--W/starred{/owner}{/repo}", "site_admin": false, "login": "Rob--W", "type": "User", "id": 1365071, "followers_url": "https://api.github.com/users/Rob--W/followers"}, "milestone": null, "locked": false, "url": "https://api.github.com/repos/mozilla/normandy/issues/1058", "created_at": "2017-09-09T10:43:53Z", "assignees": []}