{"original_position": 57, "diff_hunk": "@@ -1,136 +1,111 @@\n Docker for QA\n =============\n-The following describes how to get a prebuilt instance of Normandy for\n+The following describes how to get a pre-built instance of Normandy for\n testing. This is not suitable for development, or serving traffic on the\n public internet.\n \n-This guide largely concerns itself with setting up an external\n-PostgreSQL installation to be useable from Docker.\n-\n Prerequisites\n -------------\n This guide assumes you have already installed and set up the following:\n \n 1. Docker_\n-2. `Postgres 9.4`_\n+2. `Docker Compose`_\n \n .. _Docker: https://docs.docker.com/engine/installation/\n-.. _Postgres 9.4: http://www.postgresql.org/\n-\n-Preparing an environment file\n------------------------------\n-Normandy gets all of its configuration via environment variables. Docker\n-has built in support for this pattern. For this set up, we will be using\n-an environment file to specifiy this configuration, and having Docker\n-read that file.\n-\n-Make a file named ``.env``, and put the following in it. We'll go over\n-how to fill in the blanks next.\n-\n-.. code-block:: ini\n-\n-  DJANGO_CONFIGURATION=ProductionInsecure\n-  DATABASE_URL=postgresql://<username>:<password>@<host>/<db_name>\n-\n-``<username>`` and ``<password>`` are the details to authenticate with\n-Postgres. ``<db_name>`` is the name of the database to connect to, and\n-is usually ``normandy``.\n+.. _Docker Compose: https://docs.docker.com/compose/overview/\n \n-``<host>`` is more complicated. This needs to be something that the\n-Docker container can use to connect to Postgres. This needs to be the IP\n-address of the machine running Postgres, on a network that the Docker\n-can access. This can be figured out by looking at the IP address of the\n-host on the bridge network device.\n-\n-The defaults for this are *usually* one of these two values:\n-\n-Linux with local Postgres\n-  ``172.17.0.1``\n-\n-_`Docker Toolbox` with local Postgres (OSX or Windows)\n-  ``192.168.99.1``\n+Getting the code\n+----------------\n+We'll be using Docker Compose to run Normandy and the need services. The", "body_text": "needed", "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/151", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/66159279", "created_at": "2016-06-07T21:48:48Z", "author_association": "MEMBER", "body": "needed\n", "updated_at": "2016-06-08T00:01:08Z", "html_url": "https://github.com/mozilla/normandy/pull/151#discussion_r66159279", "pull_request_review_id": null, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/66159279"}, "html": {"href": "https://github.com/mozilla/normandy/pull/151#discussion_r66159279"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/151"}}, "commit_id": "0dc4e58f7e3839eb3c93e1298c9a9f0003dac4c6", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "position": null, "path": "docs/qa/docker.rst", "body_html": "<p>needed</p>", "original_commit_id": "dad13d4c39cd609242e2056ef2f4964b15da696a", "id": 66159279}