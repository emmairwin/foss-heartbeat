{"original_position": 49, "diff_hunk": "@@ -8,6 +8,50 @@ To run these tests, use the following command from the root project directory.\n \n .. code-block:: bash\n \n-    py.test --env=<environment> contract-tests/\n+    py.test -v --server=<server> contract-tests/\n \n-where ``<environment>`` is one of `dev`, `stage`, or `prod`\n+where ``<server>`` is one of\n+\n+`https://normandy-admin.stage.mozaws.net`\n+`https://normandy-admin.prod.mozaws.net`\n+\n+If you want to send results of the test run to TestRail, you need the following\n+pre-requisites:\n+\n+1. You have VPN access to the staging environment\n+2. You have an account on https://testrail.stage.mozaws.net\n+3. Copy `testrail.cfg.dist` to `testrail.cfg`\n+4. Modify that TestRail configuration file with your email, TestRail password and TestRail user ID\n+\n+\n+Then, for any test case you want to report results for, make sure the\n+script file the test is in imports the proper testrail module:\n+\n+.. code-block:: python\n+\n+    from pytest_testrail.plugin import testrail\n+\n+and then you use a decorator to indicate this test case will be reporting\n+results. Here's an example:\n+\n+.. code-block:: python\n+\n+    @testrail('C5603')\n+    def test_expected_action_types(conf, requests_session):\n+\n+To run the tests and report the results to TestRail, use the following command:\n+\n+.. code-block:: bash\n+\n+    py.test --server=<server> -v \\\n+    --no-ssl-cert-check \\\n+    --testrail=contract-tests/testrail.cfg contract-tests/\n+\n+The values for ``<server>`` are the same as before.\n+\n+`--no-ssl-cert-check` tells pytest to not check if the SSL certificate for the\n+TestRail install is valid -- we are using a self-signed certificate and the\n+underlying code throws an exception unless we tell it not to check.", "body_text": "@relud The Testrail instance I will own is not yet operational. It's going to be a full replacement of the existing instance and will be in prod (per sec. advice). It will not have a self-signed cert.", "in_reply_to_id": 79919066, "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/272", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/79937581", "created_at": "2016-09-21T21:32:06Z", "author_association": "NONE", "body": "@relud The Testrail instance I will own is not yet operational. It's going to be a full replacement of the existing instance and will be in prod (per sec. advice). It will _not_ have a self-signed cert.\n", "updated_at": "2016-09-22T14:10:15Z", "html_url": "https://github.com/mozilla/normandy/pull/272#discussion_r79937581", "pull_request_review_id": 1047133, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/79937581"}, "html": {"href": "https://github.com/mozilla/normandy/pull/272#discussion_r79937581"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/272"}}, "commit_id": "01a04174e793661be61746509fdd7e40bde6ed0e", "user": {"following_url": "https://api.github.com/users/milescrabill/following{/other_user}", "events_url": "https://api.github.com/users/milescrabill/events{/privacy}", "organizations_url": "https://api.github.com/users/milescrabill/orgs", "url": "https://api.github.com/users/milescrabill", "gists_url": "https://api.github.com/users/milescrabill/gists{/gist_id}", "html_url": "https://github.com/milescrabill", "subscriptions_url": "https://api.github.com/users/milescrabill/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/4430892?v=4", "repos_url": "https://api.github.com/users/milescrabill/repos", "received_events_url": "https://api.github.com/users/milescrabill/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/milescrabill/starred{/owner}{/repo}", "site_admin": false, "login": "milescrabill", "type": "User", "id": 4430892, "followers_url": "https://api.github.com/users/milescrabill/followers"}, "position": 51, "path": "docs/dev/api-tests.rst", "body_html": "<p><a class=\"user-mention\" href=\"https://github.com/relud\">@relud</a> The Testrail instance I will own is not yet operational. It's going to be a full replacement of the existing instance and will be in prod (per sec. advice). It will <em>not</em> have a self-signed cert.</p>", "original_commit_id": "cef044ce3f0f8df815b2d7ef65d8019d6bc544a7", "id": 79937581}