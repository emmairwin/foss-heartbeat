{"body": "Just a few notes based on having to do this a lot in addons manager (the webextensions manifest name is `manifest.json` for context):\r\n\r\n1) don't bother with \"real\" RDF parsers, just parse `install.rdf` as XML\r\n2) XPI files are just regular zip files, should be able to read the manifest out of it directly (as opposed to uncompressing the whole thing etc)\r\n3) webextensions can be embedded - if `install.rdf` has `hasEmbeddedWebExtension` then there will be a `webextension/manifest.json` that should be checked as well", "body_text": "Just a few notes based on having to do this a lot in addons manager (the webextensions manifest name is manifest.json for context):\n\ndon't bother with \"real\" RDF parsers, just parse install.rdf as XML\nXPI files are just regular zip files, should be able to read the manifest out of it directly (as opposed to uncompressing the whole thing etc)\nwebextensions can be embedded - if install.rdf has hasEmbeddedWebExtension then there will be a webextension/manifest.json that should be checked as well", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/336295793", "created_at": "2017-10-12T22:31:32Z", "author_association": "MEMBER", "html_url": "https://github.com/mozilla/normandy/issues/1107#issuecomment-336295793", "updated_at": "2017-10-12T22:31:32Z", "user": {"following_url": "https://api.github.com/users/rhelmer/following{/other_user}", "events_url": "https://api.github.com/users/rhelmer/events{/privacy}", "organizations_url": "https://api.github.com/users/rhelmer/orgs", "url": "https://api.github.com/users/rhelmer", "gists_url": "https://api.github.com/users/rhelmer/gists{/gist_id}", "html_url": "https://github.com/rhelmer", "subscriptions_url": "https://api.github.com/users/rhelmer/subscriptions", "avatar_url": "https://avatars0.githubusercontent.com/u/61412?v=4", "repos_url": "https://api.github.com/users/rhelmer/repos", "received_events_url": "https://api.github.com/users/rhelmer/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/rhelmer/starred{/owner}{/repo}", "site_admin": false, "login": "rhelmer", "type": "User", "id": 61412, "followers_url": "https://api.github.com/users/rhelmer/followers"}, "body_html": "<p>Just a few notes based on having to do this a lot in addons manager (the webextensions manifest name is <code>manifest.json</code> for context):</p>\n<ol>\n<li>don't bother with \"real\" RDF parsers, just parse <code>install.rdf</code> as XML</li>\n<li>XPI files are just regular zip files, should be able to read the manifest out of it directly (as opposed to uncompressing the whole thing etc)</li>\n<li>webextensions can be embedded - if <code>install.rdf</code> has <code>hasEmbeddedWebExtension</code> then there will be a <code>webextension/manifest.json</code> that should be checked as well</li>\n</ol>", "id": 336295793, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/1107"}