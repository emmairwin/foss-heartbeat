{"body": "This sort of works, but it returns an absolute path that is specific to my system. Is that expected? I can do this every time I want to import a util function, but this isn't very nice:\r\n\r\n```js\r\nconst utilsResourceUri = Services.io.newURI(\"resource://shield-recipe-client/test/browser/Utils.jsm\");\r\nconst utilsFileUri = Services.io.getProtocolHandler(\"resource\").QueryInterface(Ci.nsISubstitutingProtocolHandler).resolveURI(utilsResourceUri);\r\nCu.import(utilsFileUri, this); /* globals Utils */\r\n```\r\n\r\nIs that what you had in mind?", "body_text": "This sort of works, but it returns an absolute path that is specific to my system. Is that expected? I can do this every time I want to import a util function, but this isn't very nice:\nconst utilsResourceUri = Services.io.newURI(\"resource://shield-recipe-client/test/browser/Utils.jsm\");\nconst utilsFileUri = Services.io.getProtocolHandler(\"resource\").QueryInterface(Ci.nsISubstitutingProtocolHandler).resolveURI(utilsResourceUri);\nCu.import(utilsFileUri, this); /* globals Utils */\nIs that what you had in mind?", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/285201696", "created_at": "2017-03-08T23:16:21Z", "author_association": "MEMBER", "html_url": "https://github.com/mozilla/normandy/issues/577#issuecomment-285201696", "updated_at": "2017-03-08T23:16:21Z", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "body_html": "<p>This sort of works, but it returns an absolute path that is specific to my system. Is that expected? I can do this every time I want to import a util function, but this isn't very nice:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">utilsResourceUri</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Services</span>.<span class=\"pl-smi\">io</span>.<span class=\"pl-en\">newURI</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>resource://shield-recipe-client/test/browser/Utils.jsm<span class=\"pl-pds\">\"</span></span>);\n<span class=\"pl-k\">const</span> <span class=\"pl-c1\">utilsFileUri</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Services</span>.<span class=\"pl-smi\">io</span>.<span class=\"pl-en\">getProtocolHandler</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>resource<span class=\"pl-pds\">\"</span></span>).<span class=\"pl-en\">QueryInterface</span>(<span class=\"pl-smi\">Ci</span>.<span class=\"pl-smi\">nsISubstitutingProtocolHandler</span>).<span class=\"pl-en\">resolveURI</span>(utilsResourceUri);\n<span class=\"pl-smi\">Cu</span>.<span class=\"pl-en\">import</span>(utilsFileUri, <span class=\"pl-c1\">this</span>); <span class=\"pl-c\"><span class=\"pl-c\">/*</span> globals Utils <span class=\"pl-c\">*/</span></span></pre></div>\n<p>Is that what you had in mind?</p>", "id": 285201696, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/577"}