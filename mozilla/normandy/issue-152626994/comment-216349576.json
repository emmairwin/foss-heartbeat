{"body": "Also, to ease deployment, we need to make migrations a two step process. We'll deploy the first, wait for it all to settle, and then deploy the second. This is similar to Sumo's two step ES process. The easiest way to do that is to have one commit that adds fields and migrations, but does not require them in the code, and a second commit that has everything else.\n", "body_text": "Also, to ease deployment, we need to make migrations a two step process. We'll deploy the first, wait for it all to settle, and then deploy the second. This is similar to Sumo's two step ES process. The easiest way to do that is to have one commit that adds fields and migrations, but does not require them in the code, and a second commit that has everything else.", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/216349576", "created_at": "2016-05-02T20:14:25Z", "author_association": "MEMBER", "html_url": "https://github.com/mozilla/normandy/pull/131#issuecomment-216349576", "updated_at": "2016-05-02T20:14:25Z", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "body_html": "<p>Also, to ease deployment, we need to make migrations a two step process. We'll deploy the first, wait for it all to settle, and then deploy the second. This is similar to Sumo's two step ES process. The easiest way to do that is to have one commit that adds fields and migrations, but does not require them in the code, and a second commit that has everything else.</p>", "id": 216349576, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/131"}