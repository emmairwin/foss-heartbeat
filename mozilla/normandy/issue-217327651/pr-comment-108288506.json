{"original_position": 25, "diff_hunk": "@@ -130,4 +130,44 @@ this.Sampling = {\n \n     return Sampling.isHashInBucket(inputHash, wrappedStart, end, total);\n   }),\n+\n+  /**\n+   * Sample over a list of ratios such that, over the input space, each ratio\n+   * has a number of matches in correct proportion to the other ratios.\n+   *\n+   * For example, given the ratios:\n+   *\n+   * [1, 2, 3]\n+   *\n+   * ~16% of all inputs will return 0, ~33% of all inputs will return 1, and 50%\n+   * of all inputs will return 2. You can determine the percent of inputs that\n+   * will return an index by dividing the ratio by the sum of all ratios passed\n+   * in. In the case above, 3 / (1 + 2 + 3) == 0.5, or 50% of the inputs.\n+   *\n+   * @param {object} input\n+   * @param {Array<integer>} ratios\n+   * @promises {integer}\n+   *   Index of the ratio that matched the input\n+   * @rejects {Error}\n+   *   If the list of ratios doesn't have at least one element\n+   */\n+  ratioSample: Task.async(function* (input, ratios) {", "body_text": "Whoops", "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/639", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/108288506", "created_at": "2017-03-27T21:48:24Z", "author_association": "MEMBER", "body": "Whoops", "updated_at": "2017-03-27T21:48:24Z", "html_url": "https://github.com/mozilla/normandy/pull/639#discussion_r108288506", "pull_request_review_id": 29311048, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/108288506"}, "html": {"href": "https://github.com/mozilla/normandy/pull/639#discussion_r108288506"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/639"}}, "commit_id": "40eed4053d06326ff25cd2f0880c2702028180f2", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "position": 25, "path": "recipe-client-addon/lib/Sampling.jsm", "body_html": "<p>Whoops</p>", "original_commit_id": "40eed4053d06326ff25cd2f0880c2702028180f2", "id": 108288506}