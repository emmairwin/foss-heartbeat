{"body": "Besides the tweak to the jexl handling, this looks good.\n\nThough, we need to refiddle the commits and migrations so that we can deploy this cleanly. There needs to be two commits that can be deployed separately. I think the easiest way to do this is to have one commit that simply adds the new field, but doesn't do anything with it, and then another commit that includes all the code changes and removes the old fields. You could also add the filters apis to that first commit, if you want, as long as it works with both the old and new DB.\n", "body_text": "Besides the tweak to the jexl handling, this looks good.\nThough, we need to refiddle the commits and migrations so that we can deploy this cleanly. There needs to be two commits that can be deployed separately. I think the easiest way to do this is to have one commit that simply adds the new field, but doesn't do anything with it, and then another commit that includes all the code changes and removes the old fields. You could also add the filters apis to that first commit, if you want, as long as it works with both the old and new DB.", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/215815579", "created_at": "2016-04-29T17:07:12Z", "author_association": "MEMBER", "html_url": "https://github.com/mozilla/normandy/pull/114#issuecomment-215815579", "updated_at": "2016-04-29T17:07:12Z", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "body_html": "<p>Besides the tweak to the jexl handling, this looks good.</p>\n<p>Though, we need to refiddle the commits and migrations so that we can deploy this cleanly. There needs to be two commits that can be deployed separately. I think the easiest way to do this is to have one commit that simply adds the new field, but doesn't do anything with it, and then another commit that includes all the code changes and removes the old fields. You could also add the filters apis to that first commit, if you want, as long as it works with both the old and new DB.</p>", "id": 215815579, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/114"}