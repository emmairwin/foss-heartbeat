{"body": "Sorry I didn't really address the main point @Osmose was making above - we do need to trust the system clock, to a point. It doesn't matter if the date is wrong or the time is slow/fast, but we do expect that the time overall goes forward.\r\n\r\nAs mentioned above, the `nsIUpdateTimerManager` stores the last update time (in a pref like `app.update.lastUpdateTime.${timerID}`), so it isn't simply reset from 0 when Firefox is restarted.\r\n\r\nI think it's true that if a user's clock is wildly fluctuating or keeps resetting to an old date etc. then it's certainly possible this won't work as expected, but they probably have other problems if this is happening.", "body_text": "Sorry I didn't really address the main point @Osmose was making above - we do need to trust the system clock, to a point. It doesn't matter if the date is wrong or the time is slow/fast, but we do expect that the time overall goes forward.\nAs mentioned above, the nsIUpdateTimerManager stores the last update time (in a pref like app.update.lastUpdateTime.${timerID}), so it isn't simply reset from 0 when Firefox is restarted.\nI think it's true that if a user's clock is wildly fluctuating or keeps resetting to an old date etc. then it's certainly possible this won't work as expected, but they probably have other problems if this is happening.", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/289297276", "created_at": "2017-03-26T16:51:42Z", "author_association": "MEMBER", "html_url": "https://github.com/mozilla/normandy/issues/588#issuecomment-289297276", "updated_at": "2017-03-26T16:51:42Z", "user": {"following_url": "https://api.github.com/users/rhelmer/following{/other_user}", "events_url": "https://api.github.com/users/rhelmer/events{/privacy}", "organizations_url": "https://api.github.com/users/rhelmer/orgs", "url": "https://api.github.com/users/rhelmer", "gists_url": "https://api.github.com/users/rhelmer/gists{/gist_id}", "html_url": "https://github.com/rhelmer", "subscriptions_url": "https://api.github.com/users/rhelmer/subscriptions", "avatar_url": "https://avatars0.githubusercontent.com/u/61412?v=4", "repos_url": "https://api.github.com/users/rhelmer/repos", "received_events_url": "https://api.github.com/users/rhelmer/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/rhelmer/starred{/owner}{/repo}", "site_admin": false, "login": "rhelmer", "type": "User", "id": 61412, "followers_url": "https://api.github.com/users/rhelmer/followers"}, "body_html": "<p>Sorry I didn't really address the main point <a class=\"user-mention\" href=\"https://github.com/osmose\">@Osmose</a> was making above - we do need to trust the system clock, to a point. It doesn't matter if the date is wrong or the time is slow/fast, but we do expect that the time overall goes forward.</p>\n<p>As mentioned above, the <code>nsIUpdateTimerManager</code> stores the last update time (in a pref like <code>app.update.lastUpdateTime.${timerID}</code>), so it isn't simply reset from 0 when Firefox is restarted.</p>\n<p>I think it's true that if a user's clock is wildly fluctuating or keeps resetting to an old date etc. then it's certainly possible this won't work as expected, but they probably have other problems if this is happening.</p>", "id": 289297276, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/588"}