{"body": "@Osmose lulz. This is why we also set timers to run shortly after startup such as https://dxr.mozilla.org/mozilla-central/rev/e03e0c60462c775c7558a1dc9d5cf2076c3cd1f9/toolkit/mozapps/extensions/internal/XPIProvider.jsm#2946-2950\r\n\r\nThe problem for hot-reloadable code like add-ons is that there isn't a great way to unregister right now - I filed https://bugzilla.mozilla.org/show_bug.cgi?id=1350471 for that.\r\n\r\nThere is also a simple `Timer` module that implements `set{Interval,Timeout}` and also `clear{Interval,Timeout}` in https://dxr.mozilla.org/mozilla-central/rev/e03e0c60462c775c7558a1dc9d5cf2076c3cd1f9/toolkit/modules/Timer.jsm which is built on `nsITimer`.\r\n\r\nThe advantage to the former is that it has some safeguards and does extra work for you like persisting the timer across sessions.", "body_text": "@Osmose lulz. This is why we also set timers to run shortly after startup such as https://dxr.mozilla.org/mozilla-central/rev/e03e0c60462c775c7558a1dc9d5cf2076c3cd1f9/toolkit/mozapps/extensions/internal/XPIProvider.jsm#2946-2950\nThe problem for hot-reloadable code like add-ons is that there isn't a great way to unregister right now - I filed https://bugzilla.mozilla.org/show_bug.cgi?id=1350471 for that.\nThere is also a simple Timer module that implements set{Interval,Timeout} and also clear{Interval,Timeout} in https://dxr.mozilla.org/mozilla-central/rev/e03e0c60462c775c7558a1dc9d5cf2076c3cd1f9/toolkit/modules/Timer.jsm which is built on nsITimer.\nThe advantage to the former is that it has some safeguards and does extra work for you like persisting the timer across sessions.", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/289185530", "created_at": "2017-03-25T03:30:23Z", "author_association": "MEMBER", "html_url": "https://github.com/mozilla/normandy/issues/588#issuecomment-289185530", "updated_at": "2017-03-25T03:30:23Z", "user": {"following_url": "https://api.github.com/users/rhelmer/following{/other_user}", "events_url": "https://api.github.com/users/rhelmer/events{/privacy}", "organizations_url": "https://api.github.com/users/rhelmer/orgs", "url": "https://api.github.com/users/rhelmer", "gists_url": "https://api.github.com/users/rhelmer/gists{/gist_id}", "html_url": "https://github.com/rhelmer", "subscriptions_url": "https://api.github.com/users/rhelmer/subscriptions", "avatar_url": "https://avatars0.githubusercontent.com/u/61412?v=4", "repos_url": "https://api.github.com/users/rhelmer/repos", "received_events_url": "https://api.github.com/users/rhelmer/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/rhelmer/starred{/owner}{/repo}", "site_admin": false, "login": "rhelmer", "type": "User", "id": 61412, "followers_url": "https://api.github.com/users/rhelmer/followers"}, "body_html": "<p><a class=\"user-mention\" href=\"https://github.com/osmose\">@Osmose</a> lulz. This is why we also set timers to run shortly after startup such as <a href=\"https://dxr.mozilla.org/mozilla-central/rev/e03e0c60462c775c7558a1dc9d5cf2076c3cd1f9/toolkit/mozapps/extensions/internal/XPIProvider.jsm#2946-2950\" rel=\"nofollow\">https://dxr.mozilla.org/mozilla-central/rev/e03e0c60462c775c7558a1dc9d5cf2076c3cd1f9/toolkit/mozapps/extensions/internal/XPIProvider.jsm#2946-2950</a></p>\n<p>The problem for hot-reloadable code like add-ons is that there isn't a great way to unregister right now - I filed <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1350471\" rel=\"nofollow\">https://bugzilla.mozilla.org/show_bug.cgi?id=1350471</a> for that.</p>\n<p>There is also a simple <code>Timer</code> module that implements <code>set{Interval,Timeout}</code> and also <code>clear{Interval,Timeout}</code> in <a href=\"https://dxr.mozilla.org/mozilla-central/rev/e03e0c60462c775c7558a1dc9d5cf2076c3cd1f9/toolkit/modules/Timer.jsm\" rel=\"nofollow\">https://dxr.mozilla.org/mozilla-central/rev/e03e0c60462c775c7558a1dc9d5cf2076c3cd1f9/toolkit/modules/Timer.jsm</a> which is built on <code>nsITimer</code>.</p>\n<p>The advantage to the former is that it has some safeguards and does extra work for you like persisting the timer across sessions.</p>", "id": 289185530, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/588"}