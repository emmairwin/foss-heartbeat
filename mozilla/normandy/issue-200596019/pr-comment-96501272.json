{"original_position": 109, "diff_hunk": "@@ -122,18 +163,52 @@ def update_signature(self):\n \n     @transaction.atomic\n     def update(self, force=False, **data):", "body_text": "I wasn't involved in the revision PR so I'm a little behind, but I don't quite get what this method is trying to do. It seems like it's avoiding making another revision if a revision with the same state already exists, but does that mean that we can't have two revisions with the same state, but different parents? Wouldn't this make it impossible to represent a recipe going back to a previous state?", "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/423", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/96501272", "created_at": "2017-01-17T20:19:59Z", "author_association": "MEMBER", "body": "I wasn't involved in the revision PR so I'm a little behind, but I don't quite get what this method is trying to do. It seems like it's avoiding making another revision if a revision with the same state already exists, but does that mean that we can't have two revisions with the same state, but different parents? Wouldn't this make it impossible to represent a recipe going back to a previous state?", "updated_at": "2017-01-19T20:27:47Z", "html_url": "https://github.com/mozilla/normandy/pull/423#discussion_r96501272", "pull_request_review_id": 17064620, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/96501272"}, "html": {"href": "https://github.com/mozilla/normandy/pull/423#discussion_r96501272"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/423"}}, "commit_id": "6823a75d26306dce045e72699d83525c891829ae", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "position": 118, "path": "normandy/recipes/models.py", "body_html": "<p>I wasn't involved in the revision PR so I'm a little behind, but I don't quite get what this method is trying to do. It seems like it's avoiding making another revision if a revision with the same state already exists, but does that mean that we can't have two revisions with the same state, but different parents? Wouldn't this make it impossible to represent a recipe going back to a previous state?</p>", "original_commit_id": "663466502550c34a9c86b512e23aa4db589c4d97", "id": 96501272}