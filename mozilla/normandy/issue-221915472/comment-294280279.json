{"body": "Looks like the missing version _was_ the culprit. Tests are passing, linting is now working (verified with a build earlier today), and I'm pretty happy with this PR.\r\n\r\n> I thought this increase build times by a ton, but apparently not, as lints seem to be done within minutes of submitting a PR.\r\n\r\nThe tarball of the source code checkout pre-build is 300mb, and post-build is 1.9gb, which helps explain why transferring artifacts from the fetch tasks goes way faster than artifacts from the build task (it seems to scale linearly). \r\n\r\nA future PR could shave about 10 minutes off our build time (which took about 34 minutes, so about a 30% savings) by merging the test task with the built task, although that'd conflate the test and build logs again. It's worth considering.", "body_text": "Looks like the missing version was the culprit. Tests are passing, linting is now working (verified with a build earlier today), and I'm pretty happy with this PR.\n\nI thought this increase build times by a ton, but apparently not, as lints seem to be done within minutes of submitting a PR.\n\nThe tarball of the source code checkout pre-build is 300mb, and post-build is 1.9gb, which helps explain why transferring artifacts from the fetch tasks goes way faster than artifacts from the build task (it seems to scale linearly).\nA future PR could shave about 10 minutes off our build time (which took about 34 minutes, so about a 30% savings) by merging the test task with the built task, although that'd conflate the test and build logs again. It's worth considering.", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/294280279", "created_at": "2017-04-15T08:36:56Z", "author_association": "MEMBER", "html_url": "https://github.com/mozilla/normandy/pull/693#issuecomment-294280279", "updated_at": "2017-04-15T08:36:56Z", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "body_html": "<p>Looks like the missing version <em>was</em> the culprit. Tests are passing, linting is now working (verified with a build earlier today), and I'm pretty happy with this PR.</p>\n<blockquote>\n<p>I thought this increase build times by a ton, but apparently not, as lints seem to be done within minutes of submitting a PR.</p>\n</blockquote>\n<p>The tarball of the source code checkout pre-build is 300mb, and post-build is 1.9gb, which helps explain why transferring artifacts from the fetch tasks goes way faster than artifacts from the build task (it seems to scale linearly).</p>\n<p>A future PR could shave about 10 minutes off our build time (which took about 34 minutes, so about a 30% savings) by merging the test task with the built task, although that'd conflate the test and build logs again. It's worth considering.</p>", "id": 294280279, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/693"}