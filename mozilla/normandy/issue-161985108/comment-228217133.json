{"body": "Alright, I'm happy with this now. To summarize:\n- Added a script that runs Karma in a very particular way, allowing external browsers to connect, and then exiting after the first test run has completed.\n- Tweaked the Karma config to work better in Circle\n- Changed the tests to use fetch-mock instead of adhoc Jasmine spying. This ended up being unneeded, but I think it is a good change.\n- Add sha.js to our requirements. I forgot this when I added stable sorting in #166.\n\nAdditionally, I changed our Circle CI config to use Circle's Ubuntu 14.04 base image, instead of the default 12.04. The only change I observed here was that we got Firefox 46 instead of Firefox 38. The main difference is that 46 has `window.fetch`, and 38 does not.\n\n@brittanystoroz r?\n", "body_text": "Alright, I'm happy with this now. To summarize:\n\nAdded a script that runs Karma in a very particular way, allowing external browsers to connect, and then exiting after the first test run has completed.\nTweaked the Karma config to work better in Circle\nChanged the tests to use fetch-mock instead of adhoc Jasmine spying. This ended up being unneeded, but I think it is a good change.\nAdd sha.js to our requirements. I forgot this when I added stable sorting in #166.\n\nAdditionally, I changed our Circle CI config to use Circle's Ubuntu 14.04 base image, instead of the default 12.04. The only change I observed here was that we got Firefox 46 instead of Firefox 38. The main difference is that 46 has window.fetch, and 38 does not.\n@brittanystoroz r?", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/228217133", "created_at": "2016-06-23T23:38:13Z", "author_association": "MEMBER", "html_url": "https://github.com/mozilla/normandy/pull/173#issuecomment-228217133", "updated_at": "2016-06-23T23:38:13Z", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "body_html": "<p>Alright, I'm happy with this now. To summarize:</p>\n<ul>\n<li>Added a script that runs Karma in a very particular way, allowing external browsers to connect, and then exiting after the first test run has completed.</li>\n<li>Tweaked the Karma config to work better in Circle</li>\n<li>Changed the tests to use fetch-mock instead of adhoc Jasmine spying. This ended up being unneeded, but I think it is a good change.</li>\n<li>Add sha.js to our requirements. I forgot this when I added stable sorting in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"160467403\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/mozilla/normandy/issues/166\" href=\"https://github.com/mozilla/normandy/pull/166\">#166</a>.</li>\n</ul>\n<p>Additionally, I changed our Circle CI config to use Circle's Ubuntu 14.04 base image, instead of the default 12.04. The only change I observed here was that we got Firefox 46 instead of Firefox 38. The main difference is that 46 has <code>window.fetch</code>, and 38 does not.</p>\n<p><a class=\"user-mention\" href=\"https://github.com/brittanystoroz\">@brittanystoroz</a> r?</p>", "id": 228217133, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/173"}