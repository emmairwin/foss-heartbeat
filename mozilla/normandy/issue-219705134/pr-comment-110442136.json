{"original_position": 13, "diff_hunk": "@@ -7,15 +7,23 @@\n \n tasks = [\n     {\n+        'name': 'recipe-client-addon:build',\n+        'description': 'Build Firefox with recipe-client-addon',\n+        'command': 'normandy/recipe-client-addon/bin/tc/build.sh',\n+    },\n+    {\n         'name': 'recipe-client-addon:test',\n         'description': 'Test recipe-client-addon with gecko-dev',\n         'command': 'normandy/recipe-client-addon/bin/tc/test.sh',\n+        'dependencies': ['recipe-client-addon:build'],\n+        'artifacts_from': {", "body_text": "I'm not sure about this name. I started with artifacts, but it didn't sit right. To me artifacts would mean the artifacts this task exports. The actual intent of this is to declare what artifacts need to be imported from other tasks, and bind them to convenient names.\nMaking this a list with envvar keys feels good. What do you think about this?\n{\n    'name': 'recipe-client-addon:test',\n    ...\n    'artifacts_from': [\n        {\n            'task_name': 'recipe-client-addon:build',\n            'path': 'build.tar.gz',\n            'envvar': 'BUILD_RESULT',\n        },\n    ],\n}\nartifacts_from is still a weird name, but I like it better than artifacts. I'd be happy to switch to something more apt.", "in_reply_to_id": 110055354, "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/666", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/110442136", "created_at": "2017-04-07T17:35:29Z", "author_association": "MEMBER", "body": "I'm not sure about this name. I started with `artifacts`, but it didn't sit right. To me `artifacts` would mean the artifacts this task exports. The actual intent of this is to declare what artifacts need to be imported from other tasks, and bind them to convenient names.\r\n\r\nMaking this a list with `envvar` keys feels good. What do you think about this?\r\n\r\n```python\r\n{\r\n    'name': 'recipe-client-addon:test',\r\n    ...\r\n    'artifacts_from': [\r\n        {\r\n            'task_name': 'recipe-client-addon:build',\r\n            'path': 'build.tar.gz',\r\n            'envvar': 'BUILD_RESULT',\r\n        },\r\n    ],\r\n}\r\n```\r\n\r\n`artifacts_from` is still a weird name, but I like it better than `artifacts`. I'd be happy to switch to something more apt.", "updated_at": "2017-04-07T22:13:58Z", "html_url": "https://github.com/mozilla/normandy/pull/666#discussion_r110442136", "pull_request_review_id": 31619773, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/110442136"}, "html": {"href": "https://github.com/mozilla/normandy/pull/666#discussion_r110442136"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/666"}}, "commit_id": "abddbf2f99f46b5dcf33dbded71ecf7c0424b308", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "position": null, "path": "ci/taskcluster/bin/decision.py", "body_html": "<p>I'm not sure about this name. I started with <code>artifacts</code>, but it didn't sit right. To me <code>artifacts</code> would mean the artifacts this task exports. The actual intent of this is to declare what artifacts need to be imported from other tasks, and bind them to convenient names.</p>\n<p>Making this a list with <code>envvar</code> keys feels good. What do you think about this?</p>\n<div class=\"highlight highlight-source-python\"><pre>{\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>name<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>recipe-client-addon:test<span class=\"pl-pds\">'</span></span>,\n    <span class=\"pl-c1\">...</span>\n    <span class=\"pl-s\"><span class=\"pl-pds\">'</span>artifacts_from<span class=\"pl-pds\">'</span></span>: [\n        {\n            <span class=\"pl-s\"><span class=\"pl-pds\">'</span>task_name<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>recipe-client-addon:build<span class=\"pl-pds\">'</span></span>,\n            <span class=\"pl-s\"><span class=\"pl-pds\">'</span>path<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>build.tar.gz<span class=\"pl-pds\">'</span></span>,\n            <span class=\"pl-s\"><span class=\"pl-pds\">'</span>envvar<span class=\"pl-pds\">'</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>BUILD_RESULT<span class=\"pl-pds\">'</span></span>,\n        },\n    ],\n}</pre></div>\n<p><code>artifacts_from</code> is still a weird name, but I like it better than <code>artifacts</code>. I'd be happy to switch to something more apt.</p>", "original_commit_id": "fe6cd45034b8bb79d16779f9eef9d38877e7e4ac", "id": 110442136}