{"body_text": "This driver method will be called by the Rollout action every time the recipe is executed. It should update the list of stored rollouts, and change prefs as needed.\nFor user branch rollouts, the original preference value should be stored in Storage, with care to detect if no value is set. Aftewards, the rollout value should be set on the user branch.\nFor default branch rollouts, store the original default value in memory and set the pref on the default branch.\nIt shouldn't worry about un-enrolling old rollouts, that will be done in another issue.\n--\n\n Update list of stored rollouts when Rollout action is executed\n User branch rollouts should store original pref value in Storage\n\n Rollout value should be set on user branch\n\n\n Default branch rollouts should store original default value in memory\n\n Rollout value should be set on default branch", "labels": [], "number": 715, "assignee": {"following_url": "https://api.github.com/users/andymikulski/following{/other_user}", "events_url": "https://api.github.com/users/andymikulski/events{/privacy}", "organizations_url": "https://api.github.com/users/andymikulski/orgs", "url": "https://api.github.com/users/andymikulski", "gists_url": "https://api.github.com/users/andymikulski/gists{/gist_id}", "html_url": "https://github.com/andymikulski", "subscriptions_url": "https://api.github.com/users/andymikulski/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/2767162?v=4", "repos_url": "https://api.github.com/users/andymikulski/repos", "received_events_url": "https://api.github.com/users/andymikulski/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/andymikulski/starred{/owner}{/repo}", "site_admin": false, "login": "andymikulski", "type": "User", "id": 2767162, "followers_url": "https://api.github.com/users/andymikulski/followers"}, "repository_url": "https://api.github.com/repos/mozilla/normandy", "closed_at": "2017-07-10T16:28:03Z", "body_html": "<p>This driver method will be called by the Rollout action every time the recipe is executed. It should update the list of stored rollouts, and change prefs as needed.</p>\n<p>For user branch rollouts, the original preference value should be stored in Storage, with care to detect if no value is set. Aftewards, the rollout value should be set on the user branch.</p>\n<p>For default branch rollouts, store the original default value in memory and set the pref on the default branch.</p>\n<p>It shouldn't worry about un-enrolling old rollouts, that will be done in another issue.</p>\n<p>--</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Update list of stored rollouts when Rollout action is executed</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> User branch rollouts should store original pref value in Storage\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Rollout value should be set on user branch</li>\n</ul>\n</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> Default branch rollouts should store original default value in memory\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\" checked=\"\"> Rollout value should be set on default branch</li>\n</ul>\n</li>\n</ul>", "id": 224278061, "title": "Add driver method to register a preference rollout", "comments": 2, "state": "closed", "body": "This driver method will be called by the Rollout action every time the recipe is executed. It should update the list of stored rollouts, and change prefs as needed.\r\n\r\nFor user branch rollouts, the original preference value should be stored in Storage, with care to detect if no value is set. Aftewards, the rollout value should be set on the user branch.\r\n\r\nFor default branch rollouts, store the original default value in memory and set the pref on the default branch.\r\n\r\nIt shouldn't worry about un-enrolling old rollouts, that will be done in another issue.\r\n\r\n--\r\n\r\n- [x] Update list of stored rollouts when Rollout action is executed\r\n- [x] User branch rollouts should store original pref value in Storage\r\n  - [x] Rollout value should be set on user branch\r\n- [ ] Default branch rollouts should store original default value in memory\r\n  - [x] Rollout value should be set on default branch", "events_url": "https://api.github.com/repos/mozilla/normandy/issues/715/events", "labels_url": "https://api.github.com/repos/mozilla/normandy/issues/715/labels{/name}", "author_association": "MEMBER", "comments_url": "https://api.github.com/repos/mozilla/normandy/issues/715/comments", "html_url": "https://github.com/mozilla/normandy/issues/715", "updated_at": "2018-01-30T17:40:44Z", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "milestone": null, "locked": false, "url": "https://api.github.com/repos/mozilla/normandy/issues/715", "created_at": "2017-04-25T21:30:08Z", "assignees": [{"following_url": "https://api.github.com/users/andymikulski/following{/other_user}", "events_url": "https://api.github.com/users/andymikulski/events{/privacy}", "organizations_url": "https://api.github.com/users/andymikulski/orgs", "url": "https://api.github.com/users/andymikulski", "gists_url": "https://api.github.com/users/andymikulski/gists{/gist_id}", "html_url": "https://github.com/andymikulski", "subscriptions_url": "https://api.github.com/users/andymikulski/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/2767162?v=4", "repos_url": "https://api.github.com/users/andymikulski/repos", "received_events_url": "https://api.github.com/users/andymikulski/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/andymikulski/starred{/owner}{/repo}", "site_admin": false, "login": "andymikulski", "type": "User", "id": 2767162, "followers_url": "https://api.github.com/users/andymikulski/followers"}]}