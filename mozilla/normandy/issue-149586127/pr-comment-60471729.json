{"original_position": 48, "diff_hunk": "@@ -13,24 +17,26 @@\n     {% endfor %}\n   {% endif %}\n \n-  <div id=\"content-main\">\n-    <form action=\"{{ app_path }}\" method=\"post\" id=\"login-form\">{% csrf_token %}\n-      <div class=\"form-row\">\n+  <form action=\"{{ app_path }}\" method=\"post\" id=\"login-form\">{% csrf_token %}\n+    <div class=\"row\">\n+      <div class=\"fluid-8\">\n         {{ form.username.errors }}\n-        {{ form.username.label_tag }} {{ form.username }}\n+        {{ form.username.label_tag }} <div class=\"input-with-icon user\">{{ form.username }}</div>\n       </div>\n-      <div class=\"form-row\">\n+    </div>\n+    <div class=\"row\">\n+      <div class=\"fluid-8\">\n         {{ form.password.errors }}\n-        {{ form.password.label_tag }} {{ form.password }}\n+        {{ form.password.label_tag }} <div class=\"input-with-icon key\">{{ form.password }}</div>\n         <input type=\"hidden\" name=\"next\" value=\"{{ next|default:\"/control\" }}\" />\n       </div>\n-      <div class=\"submit-row\">\n-        <label>&nbsp;</label><input type=\"submit\" value=\"Log in\" />\n-      </div>\n-    </form>\n+    </div>\n+    <div class=\"row\">\n+      <label>&nbsp;</label><input type=\"submit\" class=\"button\" value=\"Log in\" />\n+    </div>\n+  </form>\n \n-    <script type=\"text/javascript\">\n-      document.getElementById('id_username').focus()\n-    </script>\n-  </div>\n+  <script type=\"text/javascript\">", "body_text": "we could even just have a really generic way of solving this like:\nHTML\n<input type=\"text\" name=\"whatever\" id=\"id_whatever\" data-on-load=\"focus\">\nJS: onload.js\ndocument.addEventListener(\"DOMContentLoaded\", function(event) { \n    var elems = document.querySelectorAll('[data-on-load]');\n\n    for (var i=0; i < elems.length; i++) {\n        var elem = elems[i];\n        switch (elem.dataset['onLoad']) {\n            case 'focus':\n                elem.focus();\n                break;\n        }\n    }\n});", "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/113", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/60471729", "created_at": "2016-04-20T19:25:33Z", "author_association": "MEMBER", "body": "we could even just have a really generic way of solving this like:\n\n`HTML`\n\n``` html\n<input type=\"text\" name=\"whatever\" id=\"id_whatever\" data-on-load=\"focus\">\n```\n\n`JS: onload.js`\n\n``` js\ndocument.addEventListener(\"DOMContentLoaded\", function(event) { \n    var elems = document.querySelectorAll('[data-on-load]');\n\n    for (var i=0; i < elems.length; i++) {\n        var elem = elems[i];\n        switch (elem.dataset['onLoad']) {\n            case 'focus':\n                elem.focus();\n                break;\n        }\n    }\n});\n```\n", "updated_at": "2016-04-21T16:05:40Z", "html_url": "https://github.com/mozilla/normandy/pull/113#discussion_r60471729", "pull_request_review_id": null, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/60471729"}, "html": {"href": "https://github.com/mozilla/normandy/pull/113#discussion_r60471729"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/113"}}, "commit_id": "a317587998165475f887ee68ace8e6c61e1910f6", "user": {"following_url": "https://api.github.com/users/rehandalal/following{/other_user}", "events_url": "https://api.github.com/users/rehandalal/events{/privacy}", "organizations_url": "https://api.github.com/users/rehandalal/orgs", "url": "https://api.github.com/users/rehandalal", "gists_url": "https://api.github.com/users/rehandalal/gists{/gist_id}", "html_url": "https://github.com/rehandalal", "subscriptions_url": "https://api.github.com/users/rehandalal/subscriptions", "avatar_url": "https://avatars2.githubusercontent.com/u/987136?v=4", "repos_url": "https://api.github.com/users/rehandalal/repos", "received_events_url": "https://api.github.com/users/rehandalal/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/rehandalal/starred{/owner}{/repo}", "site_admin": false, "login": "rehandalal", "type": "User", "id": 987136, "followers_url": "https://api.github.com/users/rehandalal/followers"}, "position": null, "path": "normandy/control/templates/control/admin/login.html", "body_html": "<p>we could even just have a really generic way of solving this like:</p>\n<p><code>HTML</code></p>\n<div class=\"highlight highlight-text-html-basic\"><pre>&lt;<span class=\"pl-ent\">input</span> <span class=\"pl-e\">type</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>text<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">name</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>whatever<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">id</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>id_whatever<span class=\"pl-pds\">\"</span></span> <span class=\"pl-e\">data-on-load</span>=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>focus<span class=\"pl-pds\">\"</span></span>&gt;</pre></div>\n<p><code>JS: onload.js</code></p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-c1\">document</span>.<span class=\"pl-c1\">addEventListener</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>DOMContentLoaded<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-k\">function</span>(<span class=\"pl-c1\">event</span>) { \n    <span class=\"pl-k\">var</span> elems <span class=\"pl-k\">=</span> <span class=\"pl-c1\">document</span>.<span class=\"pl-c1\">querySelectorAll</span>(<span class=\"pl-s\"><span class=\"pl-pds\">'</span>[data-on-load]<span class=\"pl-pds\">'</span></span>);\n\n    <span class=\"pl-k\">for</span> (<span class=\"pl-k\">var</span> i<span class=\"pl-k\">=</span><span class=\"pl-c1\">0</span>; i <span class=\"pl-k\">&lt;</span> <span class=\"pl-smi\">elems</span>.<span class=\"pl-c1\">length</span>; i<span class=\"pl-k\">++</span>) {\n        <span class=\"pl-k\">var</span> elem <span class=\"pl-k\">=</span> elems[i];\n        <span class=\"pl-k\">switch</span> (<span class=\"pl-smi\">elem</span>.<span class=\"pl-smi\">dataset</span>[<span class=\"pl-s\"><span class=\"pl-pds\">'</span>onLoad<span class=\"pl-pds\">'</span></span>]) {\n            <span class=\"pl-k\">case</span> <span class=\"pl-s\"><span class=\"pl-pds\">'</span>focus<span class=\"pl-pds\">'</span></span>:\n                <span class=\"pl-smi\">elem</span>.<span class=\"pl-c1\">focus</span>();\n                <span class=\"pl-k\">break</span>;\n        }\n    }\n});</pre></div>", "original_commit_id": "28e83c6e9c41bafe2829f8c163a375d7b539b21c", "id": 60471729}