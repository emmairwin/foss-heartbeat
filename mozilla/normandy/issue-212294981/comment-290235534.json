{"body": "Our approach for this has changed since the bug was initially filed, after talking with Sunnah and Gregg. Now, preference experiments specify a count of how many buckets out of 100,000 that they want to sample, and branches specify the ratio of matched users that they should match. Thus, the filtering for this simplifies to doing a normal, independent bucket sample of users based on that count.\r\n\r\nWe can probably accomplish this within the preference experiment action too, which removes the need to refactor the backend to support this for all actions. Yay!", "body_text": "Our approach for this has changed since the bug was initially filed, after talking with Sunnah and Gregg. Now, preference experiments specify a count of how many buckets out of 100,000 that they want to sample, and branches specify the ratio of matched users that they should match. Thus, the filtering for this simplifies to doing a normal, independent bucket sample of users based on that count.\nWe can probably accomplish this within the preference experiment action too, which removes the need to refactor the backend to support this for all actions. Yay!", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/290235534", "created_at": "2017-03-29T21:43:47Z", "author_association": "MEMBER", "html_url": "https://github.com/mozilla/normandy/issues/586#issuecomment-290235534", "updated_at": "2017-03-29T21:43:47Z", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "body_html": "<p>Our approach for this has changed since the bug was initially filed, after talking with Sunnah and Gregg. Now, preference experiments specify a count of how many buckets out of 100,000 that they want to sample, and branches specify the ratio of matched users that they should match. Thus, the filtering for this simplifies to doing a normal, independent bucket sample of users based on that count.</p>\n<p>We can probably accomplish this within the preference experiment action too, which removes the need to refactor the backend to support this for all actions. Yay!</p>", "id": 290235534, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/586"}