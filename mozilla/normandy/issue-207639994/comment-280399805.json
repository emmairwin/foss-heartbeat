{"body": "This is ready for review now. There was a lot of commits getting CI to work, but I've smooshed them down to just the one above. The taskcluster build takes forever to run, because it has to build Firefox. It won't block our normal PRs (though it will run on them).\r\n\r\nTo summarize what's going on here:\r\n\r\n* Because `.taskcluster.yml` exists, [Taskcluster Github](https://github.com/taskcluster/taskcluster-github) is activated\r\n* It reads `.taskcluster.yml` to decide what tasks to run\r\n* We choose to run a single task, called a *decision task*\r\n* That decision task creates two more tasks:\r\n  * `recipe-client-addon:test`, which builds Firefox and tests the add-on with it\r\n  * `recipe-client-addon:make-xpi` which builds an XPI and saves it as an artifact so we can get it\r\n* The `make-xpi` task *depends on* the `test` task, so it only starts running after the `test` task completes succesfully\r\n* Both tasks depend on the decision task, so they don't start running until the entire *graph* is created sucesfully", "body_text": "This is ready for review now. There was a lot of commits getting CI to work, but I've smooshed them down to just the one above. The taskcluster build takes forever to run, because it has to build Firefox. It won't block our normal PRs (though it will run on them).\nTo summarize what's going on here:\n\nBecause .taskcluster.yml exists, Taskcluster Github is activated\nIt reads .taskcluster.yml to decide what tasks to run\nWe choose to run a single task, called a decision task\nThat decision task creates two more tasks:\n\nrecipe-client-addon:test, which builds Firefox and tests the add-on with it\nrecipe-client-addon:make-xpi which builds an XPI and saves it as an artifact so we can get it\n\n\nThe make-xpi task depends on the test task, so it only starts running after the test task completes succesfully\nBoth tasks depend on the decision task, so they don't start running until the entire graph is created sucesfully", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/280399805", "created_at": "2017-02-16T17:29:27Z", "author_association": "MEMBER", "html_url": "https://github.com/mozilla/normandy/pull/514#issuecomment-280399805", "updated_at": "2017-02-16T17:29:27Z", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "body_html": "<p>This is ready for review now. There was a lot of commits getting CI to work, but I've smooshed them down to just the one above. The taskcluster build takes forever to run, because it has to build Firefox. It won't block our normal PRs (though it will run on them).</p>\n<p>To summarize what's going on here:</p>\n<ul>\n<li>Because <code>.taskcluster.yml</code> exists, <a href=\"https://github.com/taskcluster/taskcluster-github\">Taskcluster Github</a> is activated</li>\n<li>It reads <code>.taskcluster.yml</code> to decide what tasks to run</li>\n<li>We choose to run a single task, called a <em>decision task</em></li>\n<li>That decision task creates two more tasks:\n<ul>\n<li><code>recipe-client-addon:test</code>, which builds Firefox and tests the add-on with it</li>\n<li><code>recipe-client-addon:make-xpi</code> which builds an XPI and saves it as an artifact so we can get it</li>\n</ul>\n</li>\n<li>The <code>make-xpi</code> task <em>depends on</em> the <code>test</code> task, so it only starts running after the <code>test</code> task completes succesfully</li>\n<li>Both tasks depend on the decision task, so they don't start running until the entire <em>graph</em> is created sucesfully</li>\n</ul>", "id": 280399805, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/514"}