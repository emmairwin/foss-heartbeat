{"body": "@MattGrimes @rayborn So looking through the data dump of pings, we're not seeing anything that usefully correlates affected users. We still suspect it has something to do with the reliability of client-side storage.\r\n\r\nI anticipate that we'll release the system add-on on the release channel on Wednesday (sampled, but hopefully by the end of the week we'll be at 100%). Given that the system add-on has a different mechanism for storage, the issue might be resolved by that.\r\n\r\nHere's my proposal:\r\n\r\n1. Launch the system add-on and check to see if we're still getting repeat heartbeats.\r\n2. If so, add monitoring (potentially via Telemetry?) to the add-on, so that we can see things like:\r\n   - How often are recipes executing\r\n   - How often are recipes throwing exceptions\r\n   - Is client storage considered durable?\r\n3. Once we have an implementation plan, determine if we can land monitoring with the preference-experiments update when we ship to release.\r\n\r\nThis potentially pushes out diagnosing and resolving this issue for several weeks, but having monitoring in place would be a huge improvement in our ability to diagnose issues like this. Also, given the percentage of sampled users that are seeing this, and the fact that we've been living with this for a while without knowing, I'm not too worried about fixing this _this week_.\r\n\r\nDoes that sound reasonable to ya'll?", "body_text": "@MattGrimes @rayborn So looking through the data dump of pings, we're not seeing anything that usefully correlates affected users. We still suspect it has something to do with the reliability of client-side storage.\nI anticipate that we'll release the system add-on on the release channel on Wednesday (sampled, but hopefully by the end of the week we'll be at 100%). Given that the system add-on has a different mechanism for storage, the issue might be resolved by that.\nHere's my proposal:\n\nLaunch the system add-on and check to see if we're still getting repeat heartbeats.\nIf so, add monitoring (potentially via Telemetry?) to the add-on, so that we can see things like:\n\nHow often are recipes executing\nHow often are recipes throwing exceptions\nIs client storage considered durable?\n\n\nOnce we have an implementation plan, determine if we can land monitoring with the preference-experiments update when we ship to release.\n\nThis potentially pushes out diagnosing and resolving this issue for several weeks, but having monitoring in place would be a huge improvement in our ability to diagnose issues like this. Also, given the percentage of sampled users that are seeing this, and the fact that we've been living with this for a while without knowing, I'm not too worried about fixing this this week.\nDoes that sound reasonable to ya'll?", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/297116689", "created_at": "2017-04-25T18:07:18Z", "author_association": "MEMBER", "html_url": "https://github.com/mozilla/normandy/issues/698#issuecomment-297116689", "updated_at": "2017-04-25T18:07:18Z", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "body_html": "<p><a class=\"user-mention\" href=\"https://github.com/mattgrimes\">@MattGrimes</a> <a class=\"user-mention\" href=\"https://github.com/rayborn\">@rayborn</a> So looking through the data dump of pings, we're not seeing anything that usefully correlates affected users. We still suspect it has something to do with the reliability of client-side storage.</p>\n<p>I anticipate that we'll release the system add-on on the release channel on Wednesday (sampled, but hopefully by the end of the week we'll be at 100%). Given that the system add-on has a different mechanism for storage, the issue might be resolved by that.</p>\n<p>Here's my proposal:</p>\n<ol>\n<li>Launch the system add-on and check to see if we're still getting repeat heartbeats.</li>\n<li>If so, add monitoring (potentially via Telemetry?) to the add-on, so that we can see things like:\n<ul>\n<li>How often are recipes executing</li>\n<li>How often are recipes throwing exceptions</li>\n<li>Is client storage considered durable?</li>\n</ul>\n</li>\n<li>Once we have an implementation plan, determine if we can land monitoring with the preference-experiments update when we ship to release.</li>\n</ol>\n<p>This potentially pushes out diagnosing and resolving this issue for several weeks, but having monitoring in place would be a huge improvement in our ability to diagnose issues like this. Also, given the percentage of sampled users that are seeing this, and the fact that we've been living with this for a while without knowing, I'm not too worried about fixing this <em>this week</em>.</p>\n<p>Does that sound reasonable to ya'll?</p>", "id": 297116689, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/698"}