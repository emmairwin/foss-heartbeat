{"body": ">  For the record, GitHub use * for their API.\r\n>\r\n> I'm not entirely sure why we need to mess around with a whitelist of domains but it's somehow comforting to be the gentlest possible to start.\r\n\r\nI do generally agree with using GitHub as an example API. One major difference between us is that they are \"self service\", in that you don't have to talk to a human before you can use it. It also doesn't really have the same impact over GitHub that Normandy has over Firefox.\r\n\r\nSince one of the major concerns of using SPAs to access Normandy opens us up to certain types of attacks, I think being extra cautious with this is the better choice. Especially because changing an environment variable to add a new site is fairly easy, and each site will need its own Auth0 credentials anyways, so there is already per-site work to be done.\r\n\r\n> If we land this, I guess our Dev and Stage uses the Production DJANGO_CONFIGURATION so we're going to need to manually add whatever domains we use for doing prototypes. E.g. rdalal.github.io or something.\r\n\r\nWe should run stage and prod the same way. That is, I don't think we should be adding random testing sites to stage. We have normandy.dev.mozaws.net for that. Once Delivery Console has a real staging site, I think it is fine to give *that* access to normandy.stage.mozaws.net.\r\n\r\nI'd be ok setting normandy.dev.mozaws.net to accept `*` though, since it would ease development.", "body_text": "For the record, GitHub use * for their API.\nI'm not entirely sure why we need to mess around with a whitelist of domains but it's somehow comforting to be the gentlest possible to start.\n\nI do generally agree with using GitHub as an example API. One major difference between us is that they are \"self service\", in that you don't have to talk to a human before you can use it. It also doesn't really have the same impact over GitHub that Normandy has over Firefox.\nSince one of the major concerns of using SPAs to access Normandy opens us up to certain types of attacks, I think being extra cautious with this is the better choice. Especially because changing an environment variable to add a new site is fairly easy, and each site will need its own Auth0 credentials anyways, so there is already per-site work to be done.\n\nIf we land this, I guess our Dev and Stage uses the Production DJANGO_CONFIGURATION so we're going to need to manually add whatever domains we use for doing prototypes. E.g. rdalal.github.io or something.\n\nWe should run stage and prod the same way. That is, I don't think we should be adding random testing sites to stage. We have normandy.dev.mozaws.net for that. Once Delivery Console has a real staging site, I think it is fine to give that access to normandy.stage.mozaws.net.\nI'd be ok setting normandy.dev.mozaws.net to accept * though, since it would ease development.", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/370585368", "created_at": "2018-03-05T22:10:49Z", "author_association": "MEMBER", "html_url": "https://github.com/mozilla/normandy/pull/1202#issuecomment-370585368", "updated_at": "2018-03-05T22:10:49Z", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "body_html": "<blockquote>\n<p>For the record, GitHub use * for their API.</p>\n<p>I'm not entirely sure why we need to mess around with a whitelist of domains but it's somehow comforting to be the gentlest possible to start.</p>\n</blockquote>\n<p>I do generally agree with using GitHub as an example API. One major difference between us is that they are \"self service\", in that you don't have to talk to a human before you can use it. It also doesn't really have the same impact over GitHub that Normandy has over Firefox.</p>\n<p>Since one of the major concerns of using SPAs to access Normandy opens us up to certain types of attacks, I think being extra cautious with this is the better choice. Especially because changing an environment variable to add a new site is fairly easy, and each site will need its own Auth0 credentials anyways, so there is already per-site work to be done.</p>\n<blockquote>\n<p>If we land this, I guess our Dev and Stage uses the Production DJANGO_CONFIGURATION so we're going to need to manually add whatever domains we use for doing prototypes. E.g. rdalal.github.io or something.</p>\n</blockquote>\n<p>We should run stage and prod the same way. That is, I don't think we should be adding random testing sites to stage. We have normandy.dev.mozaws.net for that. Once Delivery Console has a real staging site, I think it is fine to give <em>that</em> access to normandy.stage.mozaws.net.</p>\n<p>I'd be ok setting normandy.dev.mozaws.net to accept <code>*</code> though, since it would ease development.</p>", "id": 370585368, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/1202"}