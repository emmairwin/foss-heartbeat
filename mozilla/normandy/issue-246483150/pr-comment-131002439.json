{"original_position": 28, "diff_hunk": "@@ -0,0 +1,133 @@\n+/* This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n+\"use strict\";\n+\n+const {utils: Cu} = Components;\n+Cu.import(\"resource://gre/modules/Services.jsm\");\n+Cu.import(\"resource://gre/modules/XPCOMUtils.jsm\");\n+\n+XPCOMUtils.defineLazyModuleGetter(\n+  this, \"AppConstants\", \"resource://gre/modules/AppConstants.jsm\"\n+);\n+XPCOMUtils.defineLazyModuleGetter(\n+  this, \"CleanupManager\", \"resource://shield-recipe-client/lib/CleanupManager.jsm\"\n+);\n+\n+this.EXPORTED_SYMBOLS = [\"ShieldPreferences\"];\n+\n+const XUL_NS = \"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\";\n+const NS_PREFBRANCH_PREFCHANGE_TOPIC_ID = \"nsPref:changed\"; // from modules/libpref/nsIPrefBranch.idl\n+const FHR_UPLOAD_ENABLED_PREF = \"datareporting.healthreport.uploadEnabled\";\n+const OPT_OUT_STUDIES_ENABLED_PREF = \"app.shield.optoutstudies.enabled\";\n+\n+/**\n+ * Handles Shield-specific preferences, including their UI.\n+ */\n+this.ShieldPreferences = {\n+  async init() {", "body_text": "This function doesn't need to be async. The caller users await on it, but since this function doesn't have any awaits internal to it and the caller doesn't treat the promise that this function returns as anything special, we can just make this a plain function.", "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/938", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/131002439", "created_at": "2017-08-02T21:31:15Z", "author_association": "NONE", "body": "This function doesn't need to be async. The caller users await on it, but since this function doesn't have any awaits internal to it and the caller doesn't treat the promise that this function returns as anything special, we can just make this a plain function.", "updated_at": "2017-08-08T20:07:34Z", "html_url": "https://github.com/mozilla/normandy/pull/938#discussion_r131002439", "pull_request_review_id": 53938735, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/131002439"}, "html": {"href": "https://github.com/mozilla/normandy/pull/938#discussion_r131002439"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/938"}}, "commit_id": "b057e9026915ddfa6f4ef93147a888f34bb2aba1", "user": {"following_url": "https://api.github.com/users/msujaws/following{/other_user}", "events_url": "https://api.github.com/users/msujaws/events{/privacy}", "organizations_url": "https://api.github.com/users/msujaws/orgs", "url": "https://api.github.com/users/msujaws", "gists_url": "https://api.github.com/users/msujaws/gists{/gist_id}", "html_url": "https://github.com/msujaws", "subscriptions_url": "https://api.github.com/users/msujaws/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/272055?v=4", "repos_url": "https://api.github.com/users/msujaws/repos", "received_events_url": "https://api.github.com/users/msujaws/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/msujaws/starred{/owner}{/repo}", "site_admin": false, "login": "msujaws", "type": "User", "id": 272055, "followers_url": "https://api.github.com/users/msujaws/followers"}, "position": null, "path": "recipe-client-addon/lib/ShieldPreferences.jsm", "body_html": "<p>This function doesn't need to be async. The caller users await on it, but since this function doesn't have any awaits internal to it and the caller doesn't treat the promise that this function returns as anything special, we can just make this a plain function.</p>", "original_commit_id": "c3c63cd7cb5a86af4083051a01021e44f08066d3", "id": 131002439}