{"deletions": 86, "merge_commit_sha": "a10a9494ffd4f02a551c21e5bafb8a8307761af1", "additions": 790, "labels": [], "number": 510, "assignee": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "mergeable": null, "closed_at": "2017-02-27T15:53:47Z", "requested_reviewers": [], "statuses_url": "https://api.github.com/repos/mozilla/normandy/statuses/e83c63174a7ed48da636f574c05d9cbeb11abe04", "id": 105999396, "maintainer_can_modify": false, "title": "Make classify-client never use the CDN (via self-describing API)", "body_text": "@gijsk only c5eba27 touches the add-on. The rest of the changes might be interesting for context.\n\nRecipe server\n\nUpgrade DRF to 3.5.3.\nAdds customer router and api root index.\nAdds settings APP_SERVER_URL for non-CDN version of the app\nSupports always_dynamic setting on views to always use dynamic servers, never CDN.\n\n\nSelf-repair\n\nUse dynamic server for classify client url.\n\n\nRecipe client add-on\n\nUse self-describing URL for recipe, action and classify_client endpoints\n\n\nMock recipe server\n\nSave API index\n\n\n\nFixes #307", "comments": 3, "merged_at": "2017-02-27T15:53:47Z", "state": "closed", "_links": {"review_comment": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/510/commits"}, "self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/510"}, "review_comments": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/510/comments"}, "html": {"href": "https://github.com/mozilla/normandy/pull/510"}, "comments": {"href": "https://api.github.com/repos/mozilla/normandy/issues/510/comments"}, "issue": {"href": "https://api.github.com/repos/mozilla/normandy/issues/510"}, "statuses": {"href": "https://api.github.com/repos/mozilla/normandy/statuses/e83c63174a7ed48da636f574c05d9cbeb11abe04"}}, "changed_files": 31, "diff_url": "https://github.com/mozilla/normandy/pull/510.diff", "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/510", "body": "@gijsk only c5eba27 touches the add-on. The rest of the changes might be interesting for context.\r\n\r\n* Recipe server\r\n  * Upgrade DRF to 3.5.3.\r\n  * Adds customer router and api root index.\r\n  * Adds settings `APP_SERVER_URL` for non-CDN version of the app\r\n  * Supports `always_dynamic` setting on views to always use dynamic servers, never CDN.\r\n* Self-repair\r\n  * Use dynamic server for classify client url.\r\n* Recipe client add-on\r\n  * Use self-describing URL for recipe, action and classify_client endpoints\r\n* Mock recipe server\r\n  * Save API index\r\n\r\nFixes #307", "head": {"repo": {"issues_url": "https://api.github.com/repos/mythmon/normandy/issues{/number}", "deployments_url": "https://api.github.com/repos/mythmon/normandy/deployments", "stargazers_count": 0, "forks_url": "https://api.github.com/repos/mythmon/normandy/forks", "mirror_url": null, "subscription_url": "https://api.github.com/repos/mythmon/normandy/subscription", "notifications_url": "https://api.github.com/repos/mythmon/normandy/notifications{?since,all,participating}", "collaborators_url": "https://api.github.com/repos/mythmon/normandy/collaborators{/collaborator}", "updated_at": "2018-02-06T20:23:52Z", "private": false, "pulls_url": "https://api.github.com/repos/mythmon/normandy/pulls{/number}", "issue_comment_url": "https://api.github.com/repos/mythmon/normandy/issues/comments{/number}", "labels_url": "https://api.github.com/repos/mythmon/normandy/labels{/name}", "has_wiki": false, "full_name": "mythmon/normandy", "owner": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "statuses_url": "https://api.github.com/repos/mythmon/normandy/statuses/{sha}", "id": 49591352, "keys_url": "https://api.github.com/repos/mythmon/normandy/keys{/key_id}", "description": "Firefox recipe server", "tags_url": "https://api.github.com/repos/mythmon/normandy/tags", "archived": false, "downloads_url": "https://api.github.com/repos/mythmon/normandy/downloads", "assignees_url": "https://api.github.com/repos/mythmon/normandy/assignees{/user}", "contents_url": "https://api.github.com/repos/mythmon/normandy/contents/{+path}", "has_pages": false, "git_refs_url": "https://api.github.com/repos/mythmon/normandy/git/refs{/sha}", "open_issues_count": 0, "has_projects": false, "clone_url": "https://github.com/mythmon/normandy.git", "watchers_count": 0, "git_tags_url": "https://api.github.com/repos/mythmon/normandy/git/tags{/sha}", "milestones_url": "https://api.github.com/repos/mythmon/normandy/milestones{/number}", "languages_url": "https://api.github.com/repos/mythmon/normandy/languages", "size": 5979, "homepage": "http://normandy.readthedocs.org/", "fork": true, "commits_url": "https://api.github.com/repos/mythmon/normandy/commits{/sha}", "releases_url": "https://api.github.com/repos/mythmon/normandy/releases{/id}", "issue_events_url": "https://api.github.com/repos/mythmon/normandy/issues/events{/number}", "archive_url": "https://api.github.com/repos/mythmon/normandy/{archive_format}{/ref}", "comments_url": "https://api.github.com/repos/mythmon/normandy/comments{/number}", "events_url": "https://api.github.com/repos/mythmon/normandy/events", "contributors_url": "https://api.github.com/repos/mythmon/normandy/contributors", "html_url": "https://github.com/mythmon/normandy", "forks": 0, "compare_url": "https://api.github.com/repos/mythmon/normandy/compare/{base}...{head}", "open_issues": 0, "watchers": 0, "git_url": "git://github.com/mythmon/normandy.git", "svn_url": "https://github.com/mythmon/normandy", "merges_url": "https://api.github.com/repos/mythmon/normandy/merges", "has_issues": false, "ssh_url": "git@github.com:mythmon/normandy.git", "blobs_url": "https://api.github.com/repos/mythmon/normandy/git/blobs{/sha}", "git_commits_url": "https://api.github.com/repos/mythmon/normandy/git/commits{/sha}", "hooks_url": "https://api.github.com/repos/mythmon/normandy/hooks", "has_downloads": true, "license": null, "name": "normandy", "language": "Python", "url": "https://api.github.com/repos/mythmon/normandy", "created_at": "2016-01-13T17:54:36Z", "pushed_at": "2018-02-26T23:18:12Z", "forks_count": 0, "default_branch": "master", "teams_url": "https://api.github.com/repos/mythmon/normandy/teams", "trees_url": "https://api.github.com/repos/mythmon/normandy/git/trees{/sha}", "branches_url": "https://api.github.com/repos/mythmon/normandy/branches{/branch}", "subscribers_url": "https://api.github.com/repos/mythmon/normandy/subscribers", "stargazers_url": "https://api.github.com/repos/mythmon/normandy/stargazers"}, "sha": "e83c63174a7ed48da636f574c05d9cbeb11abe04", "ref": "api-index", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "label": "mythmon:api-index"}, "commits_url": "https://api.github.com/repos/mozilla/normandy/pulls/510/commits", "commits": 9, "author_association": "MEMBER", "comments_url": "https://api.github.com/repos/mozilla/normandy/issues/510/comments", "html_url": "https://github.com/mozilla/normandy/pull/510", "rebaseable": null, "updated_at": "2017-03-15T22:58:06Z", "base": {"repo": {"issues_url": "https://api.github.com/repos/mozilla/normandy/issues{/number}", "deployments_url": "https://api.github.com/repos/mozilla/normandy/deployments", "stargazers_count": 24, "forks_url": "https://api.github.com/repos/mozilla/normandy/forks", "mirror_url": null, "subscription_url": "https://api.github.com/repos/mozilla/normandy/subscription", "notifications_url": "https://api.github.com/repos/mozilla/normandy/notifications{?since,all,participating}", "collaborators_url": "https://api.github.com/repos/mozilla/normandy/collaborators{/collaborator}", "updated_at": "2018-03-14T22:20:49Z", "private": false, "pulls_url": "https://api.github.com/repos/mozilla/normandy/pulls{/number}", "issue_comment_url": "https://api.github.com/repos/mozilla/normandy/issues/comments{/number}", "labels_url": "https://api.github.com/repos/mozilla/normandy/labels{/name}", "has_wiki": false, "full_name": "mozilla/normandy", "owner": {"following_url": "https://api.github.com/users/mozilla/following{/other_user}", "events_url": "https://api.github.com/users/mozilla/events{/privacy}", "organizations_url": "https://api.github.com/users/mozilla/orgs", "url": "https://api.github.com/users/mozilla", "gists_url": "https://api.github.com/users/mozilla/gists{/gist_id}", "html_url": "https://github.com/mozilla", "subscriptions_url": "https://api.github.com/users/mozilla/subscriptions", "avatar_url": "https://avatars2.githubusercontent.com/u/131524?v=4", "repos_url": "https://api.github.com/users/mozilla/repos", "received_events_url": "https://api.github.com/users/mozilla/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mozilla/starred{/owner}{/repo}", "site_admin": false, "login": "mozilla", "type": "Organization", "id": 131524, "followers_url": "https://api.github.com/users/mozilla/followers"}, "statuses_url": "https://api.github.com/repos/mozilla/normandy/statuses/{sha}", "id": 48456638, "keys_url": "https://api.github.com/repos/mozilla/normandy/keys{/key_id}", "description": "Firefox recipe server", "tags_url": "https://api.github.com/repos/mozilla/normandy/tags", "archived": false, "downloads_url": "https://api.github.com/repos/mozilla/normandy/downloads", "assignees_url": "https://api.github.com/repos/mozilla/normandy/assignees{/user}", "contents_url": "https://api.github.com/repos/mozilla/normandy/contents/{+path}", "has_pages": false, "git_refs_url": "https://api.github.com/repos/mozilla/normandy/git/refs{/sha}", "open_issues_count": 73, "has_projects": true, "clone_url": "https://github.com/mozilla/normandy.git", "watchers_count": 24, "git_tags_url": "https://api.github.com/repos/mozilla/normandy/git/tags{/sha}", "milestones_url": "https://api.github.com/repos/mozilla/normandy/milestones{/number}", "languages_url": "https://api.github.com/repos/mozilla/normandy/languages", "size": 6015, "homepage": "https://wiki.mozilla.org/Firefox/Recipe_Server", "fork": false, "commits_url": "https://api.github.com/repos/mozilla/normandy/commits{/sha}", "releases_url": "https://api.github.com/repos/mozilla/normandy/releases{/id}", "issue_events_url": "https://api.github.com/repos/mozilla/normandy/issues/events{/number}", "archive_url": "https://api.github.com/repos/mozilla/normandy/{archive_format}{/ref}", "comments_url": "https://api.github.com/repos/mozilla/normandy/comments{/number}", "events_url": "https://api.github.com/repos/mozilla/normandy/events", "contributors_url": "https://api.github.com/repos/mozilla/normandy/contributors", "html_url": "https://github.com/mozilla/normandy", "forks": 39, "compare_url": "https://api.github.com/repos/mozilla/normandy/compare/{base}...{head}", "open_issues": 73, "watchers": 24, "git_url": "git://github.com/mozilla/normandy.git", "svn_url": "https://github.com/mozilla/normandy", "merges_url": "https://api.github.com/repos/mozilla/normandy/merges", "has_issues": true, "ssh_url": "git@github.com:mozilla/normandy.git", "blobs_url": "https://api.github.com/repos/mozilla/normandy/git/blobs{/sha}", "git_commits_url": "https://api.github.com/repos/mozilla/normandy/git/commits{/sha}", "hooks_url": "https://api.github.com/repos/mozilla/normandy/hooks", "has_downloads": true, "license": null, "name": "normandy", "language": "Python", "url": "https://api.github.com/repos/mozilla/normandy", "created_at": "2015-12-22T22:18:19Z", "pushed_at": "2018-03-14T22:20:47Z", "forks_count": 39, "default_branch": "master", "teams_url": "https://api.github.com/repos/mozilla/normandy/teams", "trees_url": "https://api.github.com/repos/mozilla/normandy/git/trees{/sha}", "branches_url": "https://api.github.com/repos/mozilla/normandy/branches{/branch}", "subscribers_url": "https://api.github.com/repos/mozilla/normandy/subscribers", "stargazers_url": "https://api.github.com/repos/mozilla/normandy/stargazers"}, "sha": "fef3fc11a5d3d3b905e0665cc590c24d90dcecc9", "ref": "master", "user": {"following_url": "https://api.github.com/users/mozilla/following{/other_user}", "events_url": "https://api.github.com/users/mozilla/events{/privacy}", "organizations_url": "https://api.github.com/users/mozilla/orgs", "url": "https://api.github.com/users/mozilla", "gists_url": "https://api.github.com/users/mozilla/gists{/gist_id}", "html_url": "https://github.com/mozilla", "subscriptions_url": "https://api.github.com/users/mozilla/subscriptions", "avatar_url": "https://avatars2.githubusercontent.com/u/131524?v=4", "repos_url": "https://api.github.com/users/mozilla/repos", "received_events_url": "https://api.github.com/users/mozilla/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mozilla/starred{/owner}{/repo}", "site_admin": false, "login": "mozilla", "type": "Organization", "id": 131524, "followers_url": "https://api.github.com/users/mozilla/followers"}, "label": "mozilla:master"}, "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "milestone": null, "requested_teams": [], "locked": false, "merged_by": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "url": "https://api.github.com/repos/mozilla/normandy/pulls/510", "mergeable_state": "unknown", "created_at": "2017-02-13T23:06:02Z", "merged": true, "review_comments_url": "https://api.github.com/repos/mozilla/normandy/pulls/510/comments", "review_comments": 37, "assignees": [{"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, {"following_url": "https://api.github.com/users/gijsk/following{/other_user}", "events_url": "https://api.github.com/users/gijsk/events{/privacy}", "organizations_url": "https://api.github.com/users/gijsk/orgs", "url": "https://api.github.com/users/gijsk", "gists_url": "https://api.github.com/users/gijsk/gists{/gist_id}", "html_url": "https://github.com/gijsk", "subscriptions_url": "https://api.github.com/users/gijsk/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/375983?v=4", "repos_url": "https://api.github.com/users/gijsk/repos", "received_events_url": "https://api.github.com/users/gijsk/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/gijsk/starred{/owner}{/repo}", "site_admin": false, "login": "gijsk", "type": "User", "id": 375983, "followers_url": "https://api.github.com/users/gijsk/followers"}], "review_comment_url": "https://api.github.com/repos/mozilla/normandy/pulls/comments{/number}", "patch_url": "https://github.com/mozilla/normandy/pull/510.patch", "body_html": "<p><a class=\"user-mention\" href=\"https://github.com/gijsk\">@gijsk</a> only <a class=\"commit-link\" href=\"https://github.com/mozilla/normandy/commit/c5eba27c6cf9efcfee9bfec7eab6f0a0201fbc8b\"><tt>c5eba27</tt></a> touches the add-on. The rest of the changes might be interesting for context.</p>\n<ul>\n<li>Recipe server\n<ul>\n<li>Upgrade DRF to 3.5.3.</li>\n<li>Adds customer router and api root index.</li>\n<li>Adds settings <code>APP_SERVER_URL</code> for non-CDN version of the app</li>\n<li>Supports <code>always_dynamic</code> setting on views to always use dynamic servers, never CDN.</li>\n</ul>\n</li>\n<li>Self-repair\n<ul>\n<li>Use dynamic server for classify client url.</li>\n</ul>\n</li>\n<li>Recipe client add-on\n<ul>\n<li>Use self-describing URL for recipe, action and classify_client endpoints</li>\n</ul>\n</li>\n<li>Mock recipe server\n<ul>\n<li>Save API index</li>\n</ul>\n</li>\n</ul>\n<p><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #307.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"184927708\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/mozilla/normandy/issues/307\" href=\"https://github.com/mozilla/normandy/issues/307\">#307</a></p>"}