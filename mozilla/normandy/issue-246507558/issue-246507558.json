{"body_text": "Splitting this off from #749 since it already has a sizeable PR. There's two major cases where we need to detect if an in-progress study add-on has been removed:\n\nIf we detect the add-on in question is uninstalled (using the AddonManager.addAddonListener method), we should mark the study as inactive and record the time the study ended. We'll need to register these listeners on startup, similar to what we do for preference experiments.\nIf, on startup (before we fetch recipes) we notice that the addon is no longer installed, we should mark the study as inactive and record the time the study ended.", "labels": [], "number": 940, "assignee": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "repository_url": "https://api.github.com/repos/mozilla/normandy", "closed_at": "2017-08-03T20:54:30Z", "body_html": "<p>Splitting this off from <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"227530261\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/mozilla/normandy/issues/749\" href=\"https://github.com/mozilla/normandy/issues/749\">#749</a> since it already has a sizeable PR. There's two major cases where we need to detect if an in-progress study add-on has been removed:</p>\n<ul>\n<li>If we detect the add-on in question is uninstalled (using the <a href=\"https://developer.mozilla.org/en-US/Add-ons/Add-on_Manager/AddonManager#addAddonListener()\" rel=\"nofollow\">AddonManager.addAddonListener</a> method), we should mark the study as inactive and record the time the study ended. We'll need to register these listeners on startup, similar to what we do for preference experiments.</li>\n<li>If, on startup (before we fetch recipes) we notice that the addon is no longer installed, we should mark the study as inactive and record the time the study ended.</li>\n</ul>", "id": 246507558, "title": "Monitor in-progress study add-ons for removal", "comments": 0, "state": "closed", "body": "Splitting this off from #749 since it already has a sizeable PR. There's two major cases where we need to detect if an in-progress study add-on has been removed:\r\n\r\n- If we detect the add-on in question is uninstalled (using the [AddonManager.addAddonListener](https://developer.mozilla.org/en-US/Add-ons/Add-on_Manager/AddonManager#addAddonListener()) method), we should mark the study as inactive and record the time the study ended. We'll need to register these listeners on startup, similar to what we do for preference experiments.\r\n- If, on startup (before we fetch recipes) we notice that the addon is no longer installed, we should mark the study as inactive and record the time the study ended.", "events_url": "https://api.github.com/repos/mozilla/normandy/issues/940/events", "labels_url": "https://api.github.com/repos/mozilla/normandy/issues/940/labels{/name}", "author_association": "MEMBER", "comments_url": "https://api.github.com/repos/mozilla/normandy/issues/940/comments", "html_url": "https://github.com/mozilla/normandy/issues/940", "updated_at": "2018-01-30T17:39:20Z", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "milestone": null, "locked": false, "url": "https://api.github.com/repos/mozilla/normandy/issues/940", "created_at": "2017-07-29T08:08:55Z", "assignees": [{"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}]}