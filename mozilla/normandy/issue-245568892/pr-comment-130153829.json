{"original_position": 34, "diff_hunk": "@@ -55,31 +59,52 @@ this.Addons = {\n \n   /**\n    * Installs an add-on\n-   * @prop installUrl {string} Url to download the .xpi for the add-on from.\n+   *\n+   * @param {string} addonUrl\n+   *   Url to download the .xpi for the add-on from.\n+   * @param {boolean} update=false\n+   *   If true, will update an existing installed add-on with the same ID.\n    * @async\n-   * @returns {string} Add-on ID that was installed\n-   * @throws {string} If the add-on can not be installed.\n+   * @returns {string}\n+   *   Add-on ID that was installed\n+   * @throws {string}\n+   *   If the add-on can not be installed, or overwriting is disabled and an\n+   *   add-on with a matching ID is already installed.\n    */\n-  async install(installUrl) {\n-    const installObj = await AddonManager.getInstallForURL(installUrl, null, \"application/x-xpinstall\");\n-    const result = new Promise((resolve, reject) => installObj.addListener({\n-      onInstallEnded(addonInstall, addon) {\n+  async install(addonUrl, update = false) {", "body_text": "Can update here be part of a options object, so callers can do something a little more readable like install(theUrl, { update: false })?", "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/919", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/130153829", "created_at": "2017-07-28T18:20:25Z", "author_association": "MEMBER", "body": "Can `update` here be part of a options object, so callers can do something a little more readable like `install(theUrl, { update: false })`?", "updated_at": "2017-07-29T08:05:04Z", "html_url": "https://github.com/mozilla/normandy/pull/919#discussion_r130153829", "pull_request_review_id": 53003267, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/130153829"}, "html": {"href": "https://github.com/mozilla/normandy/pull/919#discussion_r130153829"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/919"}}, "commit_id": "7351b095c1164513f096650ebc41a4298af9fc2c", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "position": null, "path": "recipe-client-addon/lib/Addons.jsm", "body_html": "<p>Can <code>update</code> here be part of a options object, so callers can do something a little more readable like <code>install(theUrl, { update: false })</code>?</p>", "original_commit_id": "0b11e2ad630a07e3b9bf01f454b6ea48350b0510", "id": 130153829}