{"original_position": 36, "diff_hunk": "@@ -0,0 +1,42 @@\n+import React from 'react';\n+import { shallow } from 'enzyme';\n+\n+import EnvAlert from 'control_new/components/common/EnvAlert';\n+\n+describe('<EnvAlert>', () => {\n+  it('should work', () => {\n+    const wrapper = () => shallow(<EnvAlert />);\n+\n+    expect(wrapper).not.toThrow();\n+  });\n+\n+  describe('findPartialString', () => {\n+    const testStrings = ['abc', 'def'];\n+\n+    it('should find a piece of a string amongst an array of strings', () => {\n+      // abc is present in 'abc'\n+      let result = EnvAlert.findPartialString('abc', testStrings);\n+      expect(result).toBe(true);\n+\n+      // ef is present in 'def'\n+      result = EnvAlert.findPartialString('ef', testStrings);\n+      expect(result).toBe(true);\n+\n+      // xyz is not present\n+      result = EnvAlert.findPartialString('xyz', testStrings);\n+      expect(result).toBe(false);\n+\n+      // abcdef is not present\n+      result = EnvAlert.findPartialString('abcdef', testStrings);\n+      expect(result).toBe(false);\n+    });\n+  });\n+\n+  it('should have accurate production URLs', () => {\n+    expect(EnvAlert.productionUrls).toEqual(['normandy-admin.prod.']);", "body_text": "I agree, looking at it now. The idea was that I'd like some sort of red flag to be raised when the URLs change (if ever), to prevent some of the headaches of using hardcoded URLs.\nAn idea I was kicking around was defining the staging/prod URLs in the webpack config (using webpack.DefinePlugin), then replacing the hardcoded arrays with the webpack-global variable (e.g. static prodUrls = PRODUCTION_URLS;). How do you feel about that?", "in_reply_to_id": 131738882, "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/967", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/132713943", "created_at": "2017-08-11T15:26:38Z", "author_association": "CONTRIBUTOR", "body": "I agree, looking at it now. The idea was that I'd like some sort of red flag to be raised when the URLs change (if ever), to prevent some of the headaches of using hardcoded URLs.\r\n\r\nAn idea I was kicking around was defining the staging/prod URLs in the webpack config (using `webpack.DefinePlugin`), then replacing the hardcoded arrays with the webpack-global variable (e.g. `static prodUrls = PRODUCTION_URLS;`). How do you feel about that?", "updated_at": "2017-08-14T17:27:42Z", "html_url": "https://github.com/mozilla/normandy/pull/967#discussion_r132713943", "pull_request_review_id": 55828433, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/132713943"}, "html": {"href": "https://github.com/mozilla/normandy/pull/967#discussion_r132713943"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/967"}}, "commit_id": "9fc36ce415846a7d8a60b65bea44f60e369bfb91", "user": {"following_url": "https://api.github.com/users/andymikulski/following{/other_user}", "events_url": "https://api.github.com/users/andymikulski/events{/privacy}", "organizations_url": "https://api.github.com/users/andymikulski/orgs", "url": "https://api.github.com/users/andymikulski", "gists_url": "https://api.github.com/users/andymikulski/gists{/gist_id}", "html_url": "https://github.com/andymikulski", "subscriptions_url": "https://api.github.com/users/andymikulski/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/2767162?v=4", "repos_url": "https://api.github.com/users/andymikulski/repos", "received_events_url": "https://api.github.com/users/andymikulski/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/andymikulski/starred{/owner}{/repo}", "site_admin": false, "login": "andymikulski", "type": "User", "id": 2767162, "followers_url": "https://api.github.com/users/andymikulski/followers"}, "position": null, "path": "recipe-server/client/control_new/tests/components/common/test_EnvAlert.js", "body_html": "<p>I agree, looking at it now. The idea was that I'd like some sort of red flag to be raised when the URLs change (if ever), to prevent some of the headaches of using hardcoded URLs.</p>\n<p>An idea I was kicking around was defining the staging/prod URLs in the webpack config (using <code>webpack.DefinePlugin</code>), then replacing the hardcoded arrays with the webpack-global variable (e.g. <code>static prodUrls = PRODUCTION_URLS;</code>). How do you feel about that?</p>", "original_commit_id": "8aa93b6dd3ce0e0d430aaae2d0a68fa2a1a9fee7", "id": 132713943}