{"body": "The gory stack trace I get from this test case is: \r\n\r\n```\r\nWARN\tException running bootstrap method shutdown on normandydriver@example.com: TypeError: data['Extension:Extensions'] is undefined (resource://gre/modules/Extension.jsm:1046:5) JS Stack trace: shutdown@Extension.jsm:1046:5 < shutdown@WebExtensionBootstrap.js:33:3 < callBootstrapMethod@XPIProvider.jsm:5060:11 < uninstallAddon@XPIProvider.jsm:5353:11 < uninstall@XPIProvider.jsm:7729:5 < this.NormandyDriver/uninstallAddon/uninstallPromise/</<@NormandyDriver.jsm:224:17 < safeCall@AddonManager.jsm:192:5 < makeSafe/<@AddonManager.jsm:207:25 < process@Promise-backend.js:922:23 < walkerLoop@Promise-backend.js:806:7 < Promise*scheduleWalkerLoop@Promise-backend.js:739:11 < schedulePromise@Promise-backend.js:770:7 < Promise.prototype.then@Promise-backend.js:455:5 < getAddon@XPIProviderUtils.js:1073:12 < getVisibleAddonForID@XPIProviderUtils.js:1122:5 < getAddonByID@XPIProvider.jsm:4274:5 < callProviderAsync@AddonManager.jsm:294:12 < promiseCallProvider/<@AddonManager.jsm:318:53 < Promise@Promise-backend.js:390:5 < promiseCallProvider@AddonManager.jsm:317:10 < getAddonByID/promises<@AddonManager.jsm:2421:12 < getAddonByID@AddonManager.jsm:2420:20 < getAddonByID@AddonManager.jsm:3558:7 < this.NormandyDriver/uninstallAddon/uninstallPromise/<@NormandyDriver.jsm:220:11 < uninstallPromise@NormandyDriver.jsm:219:16 < uninstallAddon@NormandyDriver.jsm:236:14 < installXpi/<@browser_NormandyDriver.js:31:12 < promise callback*installXpi@browser_NormandyDriver.js:29:3 < async*inner@head.js:47:11 < async*inner@head.js:35:11 < Async*Tester_execTest/<@browser-test.js:757:21 < TaskImpl_run@Task.jsm:319:42 < promise callback*TaskImpl_handleResultValue@Task.jsm:396:7 < TaskImpl_run@Task.jsm:327:15 < TaskImpl@Task.jsm:277:3 < asyncFunction@Task.jsm:252:14 < Task_spawn@Task.jsm:166:12 < Tester_execTest@browser-test.js:752:9 < Tester.prototype.nextTest</<@browser-test.js:672:7 < SimpleTest.waitForFocus/waitForFocusInner/focusedOrLoaded/<@SimpleTest.js:795:59\r\nGECKO(37469) | === Everything went well\r\n40 INFO Console message: Warning: attempting to write 5541 bytes to preference extensions.bootstrappedAddons. This is bad for general performance and memory usage. Such an amount of data should rather be written to an external file. This preference will not be sent to any content processes.\r\n41 INFO Console message: 1495648839181\taddons.xpi\tWARN\tException running bootstrap method shutdown on normandydriver@example.com: TypeError: data['Extension:Extensions'] is undefined (resource://gre/modules/Extension.jsm:1046:5) JS Stack trace: shutdown@Extension.jsm:1046:5 < shutdown@WebExtensionBootstrap.js:33:3 < callBootstrapMethod@XPIProvider.jsm:5060:11 < uninstallAddon@XPIProvider.jsm:5353:11 < uninstall@XPIProvider.jsm:7729:5 < this.NormandyDriver/uninstallAddon/uninstallPromise/</<@NormandyDriver.jsm:224:17 < safeCall@AddonManager.jsm:192:5 < makeSafe/<@AddonManager.jsm:207:25 < process@Promise-backend.js:922:23 < walkerLoop@Promise-backend.js:806:7 < Promise*scheduleWalkerLoop@Promise-backend.js:739:11 < schedulePromise@Promise-backend.js:770:7 < Promise.prototype.then@Promise-backend.js:455:5 < getAddon@XPIProviderUtils.js:1073:12 < getVisibleAddonForID@XPIProviderUtils.js:1122:5 < getAddonByID@XPIProvider.jsm:4274:5 < callProviderAsync@AddonManager.jsm:294:12 < promiseCallProvider/<@AddonManager.jsm:318:53 < Promise@Promise-backend.js:390:5 < promiseCallProvider@AddonManager.jsm:317:10 < getAddonByID/promises<@AddonManager.jsm:2421:12 < getAddonByID@AddonManager.jsm:2420:20 < getAddonByID@AddonManager.jsm:3558:7 < this.NormandyDriver/uninstallAddon/uninstallPromise/<@NormandyDriver.jsm:220:11 < uninstallPromise@NormandyDriver.jsm:219:16 < uninstallAddon@NormandyDriver.jsm:236:14 < installXpi/<@browser_NormandyDriver.js:31:12 < promise callback*installXpi@browser_NormandyDriver.js:29:3 < async*inner@head.js:47:11 < async*inner@head.js:35:11 < Async*Tester_execTest/<@browser-test.js:757:21 < TaskImpl_run@Task.jsm:319:42 < promise callback*TaskImpl_handleResultValue@Task.jsm:396:7 < TaskImpl_run@Task.jsm:327:15 < TaskImpl@Task.jsm:277:3 < asyncFunction@Task.jsm:252:14 < Task_spawn@Task.jsm:166:12 < Tester_execTest@browser-test.js:752:9 < Tester.prototype.nextTest</<@browser-test.js:672:7 < SimpleTest.waitForFocus/waitForFocusInner/focusedOrLoaded/<@SimpleTest.js:795:59\r\n42 INFO Console message: Warning: attempting to write 5244 bytes to preference extensions.bootstrappedAddons. This is bad for general performance and memory usage. Such an amount of data should rather be written to an external file. This preference will not be sent to any content processes.\r\nGECKO(37469) | Extension error: Failed to open input source 'jar:file:///var/folders/b3/wz8byszx531_gwwzp7bzx8yw0000gn/T/tmprXeu1e.mozrunner/extensions/normandydriver@example.com.xpi!/manifest.json' resource://gre/modules/Extension.jsm:390 :: readJSON/<@resource://gre/modules/Extension.jsm:390:7\r\nGECKO(37469) | readJSON@resource://gre/modules/Extension.jsm:387:12\r\nGECKO(37469) | parseManifest@resource://gre/modules/Extension.jsm:449:7\r\nGECKO(37469) | parseManifest/<@resource://gre/modules/Extension.jsm:818:45\r\nGECKO(37469) | get@resource://gre/modules/ExtensionUtils.jsm:150:25\r\nGECKO(37469) | async*parseManifest@resource://gre/modules/Extension.jsm:817:12\r\nGECKO(37469) | loadManifest@resource://gre/modules/Extension.jsm:499:7\r\nGECKO(37469) | async*loadManifest@resource://gre/modules/Extension.jsm:822:12\r\nGECKO(37469) | startup@resource://gre/modules/Extension.jsm:965:42\r\nGECKO(37469) | async*startup@resource://gre/modules/addons/XPIProvider.jsm -> resource://gre/modules/addons/WebExtensionBootstrap.js:29:3\r\nGECKO(37469) | callBootstrapMethod@resource://gre/modules/addons/XPIProvider.jsm:5060:11\r\nGECKO(37469) | startInstall/<@resource://gre/modules/addons/XPIProvider.jsm:5971:13\r\nGECKO(37469) | TaskImpl_run@resource://gre/modules/Task.jsm:319:42\r\nGECKO(37469) | process@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:922:23\r\nGECKO(37469) | walkerLoop@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:806:7\r\nGECKO(37469) | Promise*scheduleWalkerLoop@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:739:11\r\nGECKO(37469) | schedulePromise@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:770:7\r\nGECKO(37469) | completePromise@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:707:7\r\nGECKO(37469) | get _worker/worker.onmessage@resource://gre/modules/PromiseWorker.jsm:231:9\r\nGECKO(37469) | EventHandlerNonNull*get _worker@resource://gre/modules/PromiseWorker.jsm:217:5\r\nGECKO(37469) | postMessage@resource://gre/modules/PromiseWorker.jsm:291:9\r\nGECKO(37469) | TaskImpl_run@resource://gre/modules/Task.jsm:319:42\r\nGECKO(37469) | process@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:922:23\r\nGECKO(37469) | walkerLoop@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:806:7\r\nGECKO(37469) | Promise*scheduleWalkerLoop@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:739:11\r\nGECKO(37469) | schedulePromise@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:770:7\r\nGECKO(37469) | Promise.prototype.then@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:455:5\r\nGECKO(37469) | _deferredSave@resource://gre/modules/DeferredSave.jsm:212:5\r\nGECKO(37469) | _startTimer/<@resource://gre/modules/DeferredSave.jsm:168:40\r\nGECKO(37469) | syncLoadManifestFromFile@resource://gre/modules/addons/XPIProvider.jsm:1653:5\r\nGECKO(37469) | addMetadata@resource://gre/modules/addons/XPIProvider.jsm -> resource://gre/modules/addons/XPIProviderUtils.js:1630:21\r\nGECKO(37469) | processFileChanges@resource://gre/modules/addons/XPIProvider.jsm -> resource://gre/modules/addons/XPIProviderUtils.js:2032:23\r\nGECKO(37469) | checkForChanges@resource://gre/modules/addons/XPIProvider.jsm:3869:34\r\nGECKO(37469) | startup@resource://gre/modules/addons/XPIProvider.jsm:2878:25\r\nGECKO(37469) | callProvider@resource://gre/modules/AddonManager.jsm:268:12\r\nGECKO(37469) | _startProvider@resource://gre/modules/AddonManager.jsm:738:5\r\nGECKO(37469) | startup@resource://gre/modules/AddonManager.jsm:905:9\r\nGECKO(37469) | startup@resource://gre/modules/AddonManager.jsm:3087:5\r\nGECKO(37469) | observe@file:///Users/victorng/dev/moz-central/mozilla-unified/obj-x86_64-apple-darwin16.6.0/dist/Nightly.app/Contents/Resources/components/addonManager.js:65:9\r\n43 INFO Console message: [JavaScript Error: \"[Exception... \"Failed to open input source 'jar:file:///var/folders/b3/wz8byszx531_gwwzp7bzx8yw0000gn/T/tmprXeu1e.mozrunner/extensions/normandydriver@example.com.xpi!/manifest.json'\"  nsresult: \"0x80520012 (NS_ERROR_FILE_NOT_FOUND)\"  location: \"JS frame :: resource://gre/modules/Extension.jsm :: readJSON/< :: line 390\"  data: yes]\"]\r\nreadJSON/<@resource://gre/modules/Extension.jsm:390:7\r\nreadJSON@resource://gre/modules/Extension.jsm:387:12\r\nparseManifest@resource://gre/modules/Extension.jsm:449:7\r\nparseManifest/<@resource://gre/modules/Extension.jsm:818:45\r\nget@resource://gre/modules/ExtensionUtils.jsm:150:25\r\nasync*parseManifest@resource://gre/modules/Extension.jsm:817:12\r\nloadManifest@resource://gre/modules/Extension.jsm:499:7\r\nasync*loadManifest@resource://gre/modules/Extension.jsm:822:12\r\nstartup@resource://gre/modules/Extension.jsm:965:42\r\nasync*startup@resource://gre/modules/addons/XPIProvider.jsm -> resource://gre/modules/addons/WebExtensionBootstrap.js:29:3\r\ncallBootstrapMethod@resource://gre/modules/addons/XPIProvider.jsm:5060:11\r\nstartInstall/<@resource://gre/modules/addons/XPIProvider.jsm:5971:13\r\nTaskImpl_run@resource://gre/modules/Task.jsm:319:42\r\nprocess@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:922:23\r\nwalkerLoop@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:806:7\r\nPromise*scheduleWalkerLoop@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:739:11\r\nschedulePromise@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:770:7\r\ncompletePromise@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:707:7\r\nget _worker/worker.onmessage@resource://gre/modules/PromiseWorker.jsm:231:9\r\nEventHandlerNonNull*get _worker@resource://gre/modules/PromiseWorker.jsm:217:5\r\npostMessage@resource://gre/modules/PromiseWorker.jsm:291:9\r\nTaskImpl_run@resource://gre/modules/Task.jsm:319:42\r\nprocess@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:922:23\r\nwalkerLoop@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:806:7\r\nPromise*scheduleWalkerLoop@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:739:11\r\nschedulePromise@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:770:7\r\nPromise.prototype.then@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:455:5\r\n_deferredSave@resource://gre/modules/DeferredSave.jsm:212:5\r\n_startTimer/<@resource://gre/modules/DeferredSave.jsm:168:40\r\nsyncLoadManifestFromFile@resource://gre/modules/addons/XPIProvider.jsm:1653:5\r\naddMetadata@resource://gre/modules/addons/XPIProvider.jsm -> resource://gre/modules/addons/XPIProviderUtils.js:1630:21\r\nprocessFileChanges@resource://gre/modules/addons/XPIProvider.jsm -> resource://gre/modules/addons/XPIProviderUtils.js:2032:23\r\ncheckForChanges@resource://gre/modules/addons/XPIProvider.jsm:3869:34\r\nstartup@resource://gre/modules/addons/XPIProvider.jsm:2878:25\r\ncallProvider@resource://gre/modules/AddonManager.jsm:268:12\r\n_startProvider@resource://gre/modules/AddonManager.jsm:738:5\r\nstartup@resource://gre/modules/AddonManager.jsm:905:9\r\nstartup@resource://gre/modules/AddonManager.jsm:3087:5\r\nobserve@file:///Users/victorng/dev/moz-central/mozilla-unified/obj-x86_64-apple-darwin16.6.0/dist/Nightly.app/Contents/Resources/components/addonManager.js:65:9\r\n```", "body_text": "The gory stack trace I get from this test case is:\nWARN\tException running bootstrap method shutdown on normandydriver@example.com: TypeError: data['Extension:Extensions'] is undefined (resource://gre/modules/Extension.jsm:1046:5) JS Stack trace: shutdown@Extension.jsm:1046:5 < shutdown@WebExtensionBootstrap.js:33:3 < callBootstrapMethod@XPIProvider.jsm:5060:11 < uninstallAddon@XPIProvider.jsm:5353:11 < uninstall@XPIProvider.jsm:7729:5 < this.NormandyDriver/uninstallAddon/uninstallPromise/</<@NormandyDriver.jsm:224:17 < safeCall@AddonManager.jsm:192:5 < makeSafe/<@AddonManager.jsm:207:25 < process@Promise-backend.js:922:23 < walkerLoop@Promise-backend.js:806:7 < Promise*scheduleWalkerLoop@Promise-backend.js:739:11 < schedulePromise@Promise-backend.js:770:7 < Promise.prototype.then@Promise-backend.js:455:5 < getAddon@XPIProviderUtils.js:1073:12 < getVisibleAddonForID@XPIProviderUtils.js:1122:5 < getAddonByID@XPIProvider.jsm:4274:5 < callProviderAsync@AddonManager.jsm:294:12 < promiseCallProvider/<@AddonManager.jsm:318:53 < Promise@Promise-backend.js:390:5 < promiseCallProvider@AddonManager.jsm:317:10 < getAddonByID/promises<@AddonManager.jsm:2421:12 < getAddonByID@AddonManager.jsm:2420:20 < getAddonByID@AddonManager.jsm:3558:7 < this.NormandyDriver/uninstallAddon/uninstallPromise/<@NormandyDriver.jsm:220:11 < uninstallPromise@NormandyDriver.jsm:219:16 < uninstallAddon@NormandyDriver.jsm:236:14 < installXpi/<@browser_NormandyDriver.js:31:12 < promise callback*installXpi@browser_NormandyDriver.js:29:3 < async*inner@head.js:47:11 < async*inner@head.js:35:11 < Async*Tester_execTest/<@browser-test.js:757:21 < TaskImpl_run@Task.jsm:319:42 < promise callback*TaskImpl_handleResultValue@Task.jsm:396:7 < TaskImpl_run@Task.jsm:327:15 < TaskImpl@Task.jsm:277:3 < asyncFunction@Task.jsm:252:14 < Task_spawn@Task.jsm:166:12 < Tester_execTest@browser-test.js:752:9 < Tester.prototype.nextTest</<@browser-test.js:672:7 < SimpleTest.waitForFocus/waitForFocusInner/focusedOrLoaded/<@SimpleTest.js:795:59\nGECKO(37469) | === Everything went well\n40 INFO Console message: Warning: attempting to write 5541 bytes to preference extensions.bootstrappedAddons. This is bad for general performance and memory usage. Such an amount of data should rather be written to an external file. This preference will not be sent to any content processes.\n41 INFO Console message: 1495648839181\taddons.xpi\tWARN\tException running bootstrap method shutdown on normandydriver@example.com: TypeError: data['Extension:Extensions'] is undefined (resource://gre/modules/Extension.jsm:1046:5) JS Stack trace: shutdown@Extension.jsm:1046:5 < shutdown@WebExtensionBootstrap.js:33:3 < callBootstrapMethod@XPIProvider.jsm:5060:11 < uninstallAddon@XPIProvider.jsm:5353:11 < uninstall@XPIProvider.jsm:7729:5 < this.NormandyDriver/uninstallAddon/uninstallPromise/</<@NormandyDriver.jsm:224:17 < safeCall@AddonManager.jsm:192:5 < makeSafe/<@AddonManager.jsm:207:25 < process@Promise-backend.js:922:23 < walkerLoop@Promise-backend.js:806:7 < Promise*scheduleWalkerLoop@Promise-backend.js:739:11 < schedulePromise@Promise-backend.js:770:7 < Promise.prototype.then@Promise-backend.js:455:5 < getAddon@XPIProviderUtils.js:1073:12 < getVisibleAddonForID@XPIProviderUtils.js:1122:5 < getAddonByID@XPIProvider.jsm:4274:5 < callProviderAsync@AddonManager.jsm:294:12 < promiseCallProvider/<@AddonManager.jsm:318:53 < Promise@Promise-backend.js:390:5 < promiseCallProvider@AddonManager.jsm:317:10 < getAddonByID/promises<@AddonManager.jsm:2421:12 < getAddonByID@AddonManager.jsm:2420:20 < getAddonByID@AddonManager.jsm:3558:7 < this.NormandyDriver/uninstallAddon/uninstallPromise/<@NormandyDriver.jsm:220:11 < uninstallPromise@NormandyDriver.jsm:219:16 < uninstallAddon@NormandyDriver.jsm:236:14 < installXpi/<@browser_NormandyDriver.js:31:12 < promise callback*installXpi@browser_NormandyDriver.js:29:3 < async*inner@head.js:47:11 < async*inner@head.js:35:11 < Async*Tester_execTest/<@browser-test.js:757:21 < TaskImpl_run@Task.jsm:319:42 < promise callback*TaskImpl_handleResultValue@Task.jsm:396:7 < TaskImpl_run@Task.jsm:327:15 < TaskImpl@Task.jsm:277:3 < asyncFunction@Task.jsm:252:14 < Task_spawn@Task.jsm:166:12 < Tester_execTest@browser-test.js:752:9 < Tester.prototype.nextTest</<@browser-test.js:672:7 < SimpleTest.waitForFocus/waitForFocusInner/focusedOrLoaded/<@SimpleTest.js:795:59\n42 INFO Console message: Warning: attempting to write 5244 bytes to preference extensions.bootstrappedAddons. This is bad for general performance and memory usage. Such an amount of data should rather be written to an external file. This preference will not be sent to any content processes.\nGECKO(37469) | Extension error: Failed to open input source 'jar:file:///var/folders/b3/wz8byszx531_gwwzp7bzx8yw0000gn/T/tmprXeu1e.mozrunner/extensions/normandydriver@example.com.xpi!/manifest.json' resource://gre/modules/Extension.jsm:390 :: readJSON/<@resource://gre/modules/Extension.jsm:390:7\nGECKO(37469) | readJSON@resource://gre/modules/Extension.jsm:387:12\nGECKO(37469) | parseManifest@resource://gre/modules/Extension.jsm:449:7\nGECKO(37469) | parseManifest/<@resource://gre/modules/Extension.jsm:818:45\nGECKO(37469) | get@resource://gre/modules/ExtensionUtils.jsm:150:25\nGECKO(37469) | async*parseManifest@resource://gre/modules/Extension.jsm:817:12\nGECKO(37469) | loadManifest@resource://gre/modules/Extension.jsm:499:7\nGECKO(37469) | async*loadManifest@resource://gre/modules/Extension.jsm:822:12\nGECKO(37469) | startup@resource://gre/modules/Extension.jsm:965:42\nGECKO(37469) | async*startup@resource://gre/modules/addons/XPIProvider.jsm -> resource://gre/modules/addons/WebExtensionBootstrap.js:29:3\nGECKO(37469) | callBootstrapMethod@resource://gre/modules/addons/XPIProvider.jsm:5060:11\nGECKO(37469) | startInstall/<@resource://gre/modules/addons/XPIProvider.jsm:5971:13\nGECKO(37469) | TaskImpl_run@resource://gre/modules/Task.jsm:319:42\nGECKO(37469) | process@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:922:23\nGECKO(37469) | walkerLoop@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:806:7\nGECKO(37469) | Promise*scheduleWalkerLoop@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:739:11\nGECKO(37469) | schedulePromise@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:770:7\nGECKO(37469) | completePromise@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:707:7\nGECKO(37469) | get _worker/worker.onmessage@resource://gre/modules/PromiseWorker.jsm:231:9\nGECKO(37469) | EventHandlerNonNull*get _worker@resource://gre/modules/PromiseWorker.jsm:217:5\nGECKO(37469) | postMessage@resource://gre/modules/PromiseWorker.jsm:291:9\nGECKO(37469) | TaskImpl_run@resource://gre/modules/Task.jsm:319:42\nGECKO(37469) | process@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:922:23\nGECKO(37469) | walkerLoop@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:806:7\nGECKO(37469) | Promise*scheduleWalkerLoop@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:739:11\nGECKO(37469) | schedulePromise@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:770:7\nGECKO(37469) | Promise.prototype.then@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:455:5\nGECKO(37469) | _deferredSave@resource://gre/modules/DeferredSave.jsm:212:5\nGECKO(37469) | _startTimer/<@resource://gre/modules/DeferredSave.jsm:168:40\nGECKO(37469) | syncLoadManifestFromFile@resource://gre/modules/addons/XPIProvider.jsm:1653:5\nGECKO(37469) | addMetadata@resource://gre/modules/addons/XPIProvider.jsm -> resource://gre/modules/addons/XPIProviderUtils.js:1630:21\nGECKO(37469) | processFileChanges@resource://gre/modules/addons/XPIProvider.jsm -> resource://gre/modules/addons/XPIProviderUtils.js:2032:23\nGECKO(37469) | checkForChanges@resource://gre/modules/addons/XPIProvider.jsm:3869:34\nGECKO(37469) | startup@resource://gre/modules/addons/XPIProvider.jsm:2878:25\nGECKO(37469) | callProvider@resource://gre/modules/AddonManager.jsm:268:12\nGECKO(37469) | _startProvider@resource://gre/modules/AddonManager.jsm:738:5\nGECKO(37469) | startup@resource://gre/modules/AddonManager.jsm:905:9\nGECKO(37469) | startup@resource://gre/modules/AddonManager.jsm:3087:5\nGECKO(37469) | observe@file:///Users/victorng/dev/moz-central/mozilla-unified/obj-x86_64-apple-darwin16.6.0/dist/Nightly.app/Contents/Resources/components/addonManager.js:65:9\n43 INFO Console message: [JavaScript Error: \"[Exception... \"Failed to open input source 'jar:file:///var/folders/b3/wz8byszx531_gwwzp7bzx8yw0000gn/T/tmprXeu1e.mozrunner/extensions/normandydriver@example.com.xpi!/manifest.json'\"  nsresult: \"0x80520012 (NS_ERROR_FILE_NOT_FOUND)\"  location: \"JS frame :: resource://gre/modules/Extension.jsm :: readJSON/< :: line 390\"  data: yes]\"]\nreadJSON/<@resource://gre/modules/Extension.jsm:390:7\nreadJSON@resource://gre/modules/Extension.jsm:387:12\nparseManifest@resource://gre/modules/Extension.jsm:449:7\nparseManifest/<@resource://gre/modules/Extension.jsm:818:45\nget@resource://gre/modules/ExtensionUtils.jsm:150:25\nasync*parseManifest@resource://gre/modules/Extension.jsm:817:12\nloadManifest@resource://gre/modules/Extension.jsm:499:7\nasync*loadManifest@resource://gre/modules/Extension.jsm:822:12\nstartup@resource://gre/modules/Extension.jsm:965:42\nasync*startup@resource://gre/modules/addons/XPIProvider.jsm -> resource://gre/modules/addons/WebExtensionBootstrap.js:29:3\ncallBootstrapMethod@resource://gre/modules/addons/XPIProvider.jsm:5060:11\nstartInstall/<@resource://gre/modules/addons/XPIProvider.jsm:5971:13\nTaskImpl_run@resource://gre/modules/Task.jsm:319:42\nprocess@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:922:23\nwalkerLoop@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:806:7\nPromise*scheduleWalkerLoop@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:739:11\nschedulePromise@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:770:7\ncompletePromise@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:707:7\nget _worker/worker.onmessage@resource://gre/modules/PromiseWorker.jsm:231:9\nEventHandlerNonNull*get _worker@resource://gre/modules/PromiseWorker.jsm:217:5\npostMessage@resource://gre/modules/PromiseWorker.jsm:291:9\nTaskImpl_run@resource://gre/modules/Task.jsm:319:42\nprocess@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:922:23\nwalkerLoop@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:806:7\nPromise*scheduleWalkerLoop@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:739:11\nschedulePromise@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:770:7\nPromise.prototype.then@resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js:455:5\n_deferredSave@resource://gre/modules/DeferredSave.jsm:212:5\n_startTimer/<@resource://gre/modules/DeferredSave.jsm:168:40\nsyncLoadManifestFromFile@resource://gre/modules/addons/XPIProvider.jsm:1653:5\naddMetadata@resource://gre/modules/addons/XPIProvider.jsm -> resource://gre/modules/addons/XPIProviderUtils.js:1630:21\nprocessFileChanges@resource://gre/modules/addons/XPIProvider.jsm -> resource://gre/modules/addons/XPIProviderUtils.js:2032:23\ncheckForChanges@resource://gre/modules/addons/XPIProvider.jsm:3869:34\nstartup@resource://gre/modules/addons/XPIProvider.jsm:2878:25\ncallProvider@resource://gre/modules/AddonManager.jsm:268:12\n_startProvider@resource://gre/modules/AddonManager.jsm:738:5\nstartup@resource://gre/modules/AddonManager.jsm:905:9\nstartup@resource://gre/modules/AddonManager.jsm:3087:5\nobserve@file:///Users/victorng/dev/moz-central/mozilla-unified/obj-x86_64-apple-darwin16.6.0/dist/Nightly.app/Contents/Resources/components/addonManager.js:65:9", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/303804124", "created_at": "2017-05-24T18:01:39Z", "author_association": "CONTRIBUTOR", "html_url": "https://github.com/mozilla/normandy/pull/778#issuecomment-303804124", "updated_at": "2017-05-24T18:01:39Z", "user": {"following_url": "https://api.github.com/users/crankycoder/following{/other_user}", "events_url": "https://api.github.com/users/crankycoder/events{/privacy}", "organizations_url": "https://api.github.com/users/crankycoder/orgs", "url": "https://api.github.com/users/crankycoder", "gists_url": "https://api.github.com/users/crankycoder/gists{/gist_id}", "html_url": "https://github.com/crankycoder", "subscriptions_url": "https://api.github.com/users/crankycoder/subscriptions", "avatar_url": "https://avatars2.githubusercontent.com/u/4829?v=4", "repos_url": "https://api.github.com/users/crankycoder/repos", "received_events_url": "https://api.github.com/users/crankycoder/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/crankycoder/starred{/owner}{/repo}", "site_admin": false, "login": "crankycoder", "type": "User", "id": 4829, "followers_url": "https://api.github.com/users/crankycoder/followers"}, "body_html": "<p>The gory stack trace I get from this test case is:</p>\n<pre><code>WARN\tException running bootstrap method shutdown on normandydriver@example.com: TypeError: data['Extension:Extensions'] is undefined (resource://gre/modules/Extension.jsm:1046:5) JS Stack trace: shutdown@Extension.jsm:1046:5 &lt; shutdown@WebExtensionBootstrap.js:33:3 &lt; callBootstrapMethod@XPIProvider.jsm:5060:11 &lt; uninstallAddon@XPIProvider.jsm:5353:11 &lt; uninstall@XPIProvider.jsm:7729:5 &lt; this.NormandyDriver/uninstallAddon/uninstallPromise/&lt;/&lt;@NormandyDriver.jsm:224:17 &lt; safeCall@AddonManager.jsm:192:5 &lt; makeSafe/&lt;@AddonManager.jsm:207:25 &lt; process@Promise-backend.js:922:23 &lt; walkerLoop@Promise-backend.js:806:7 &lt; Promise*scheduleWalkerLoop@Promise-backend.js:739:11 &lt; schedulePromise@Promise-backend.js:770:7 &lt; Promise.prototype.then@Promise-backend.js:455:5 &lt; getAddon@XPIProviderUtils.js:1073:12 &lt; getVisibleAddonForID@XPIProviderUtils.js:1122:5 &lt; getAddonByID@XPIProvider.jsm:4274:5 &lt; callProviderAsync@AddonManager.jsm:294:12 &lt; promiseCallProvider/&lt;@AddonManager.jsm:318:53 &lt; Promise@Promise-backend.js:390:5 &lt; promiseCallProvider@AddonManager.jsm:317:10 &lt; getAddonByID/promises&lt;@AddonManager.jsm:2421:12 &lt; getAddonByID@AddonManager.jsm:2420:20 &lt; getAddonByID@AddonManager.jsm:3558:7 &lt; this.NormandyDriver/uninstallAddon/uninstallPromise/&lt;@NormandyDriver.jsm:220:11 &lt; uninstallPromise@NormandyDriver.jsm:219:16 &lt; uninstallAddon@NormandyDriver.jsm:236:14 &lt; installXpi/&lt;@browser_NormandyDriver.js:31:12 &lt; promise callback*installXpi@browser_NormandyDriver.js:29:3 &lt; async*inner@head.js:47:11 &lt; async*inner@head.js:35:11 &lt; Async*Tester_execTest/&lt;@browser-test.js:757:21 &lt; TaskImpl_run@Task.jsm:319:42 &lt; promise callback*TaskImpl_handleResultValue@Task.jsm:396:7 &lt; TaskImpl_run@Task.jsm:327:15 &lt; TaskImpl@Task.jsm:277:3 &lt; asyncFunction@Task.jsm:252:14 &lt; Task_spawn@Task.jsm:166:12 &lt; Tester_execTest@browser-test.js:752:9 &lt; Tester.prototype.nextTest&lt;/&lt;@browser-test.js:672:7 &lt; SimpleTest.waitForFocus/waitForFocusInner/focusedOrLoaded/&lt;@SimpleTest.js:795:59\nGECKO(37469) | === Everything went well\n40 INFO Console message: Warning: attempting to write 5541 bytes to preference extensions.bootstrappedAddons. This is bad for general performance and memory usage. Such an amount of data should rather be written to an external file. This preference will not be sent to any content processes.\n41 INFO Console message: 1495648839181\taddons.xpi\tWARN\tException running bootstrap method shutdown on normandydriver@example.com: TypeError: data['Extension:Extensions'] is undefined (resource://gre/modules/Extension.jsm:1046:5) JS Stack trace: shutdown@Extension.jsm:1046:5 &lt; shutdown@WebExtensionBootstrap.js:33:3 &lt; callBootstrapMethod@XPIProvider.jsm:5060:11 &lt; uninstallAddon@XPIProvider.jsm:5353:11 &lt; uninstall@XPIProvider.jsm:7729:5 &lt; this.NormandyDriver/uninstallAddon/uninstallPromise/&lt;/&lt;@NormandyDriver.jsm:224:17 &lt; safeCall@AddonManager.jsm:192:5 &lt; makeSafe/&lt;@AddonManager.jsm:207:25 &lt; process@Promise-backend.js:922:23 &lt; walkerLoop@Promise-backend.js:806:7 &lt; Promise*scheduleWalkerLoop@Promise-backend.js:739:11 &lt; schedulePromise@Promise-backend.js:770:7 &lt; Promise.prototype.then@Promise-backend.js:455:5 &lt; getAddon@XPIProviderUtils.js:1073:12 &lt; getVisibleAddonForID@XPIProviderUtils.js:1122:5 &lt; getAddonByID@XPIProvider.jsm:4274:5 &lt; callProviderAsync@AddonManager.jsm:294:12 &lt; promiseCallProvider/&lt;@AddonManager.jsm:318:53 &lt; Promise@Promise-backend.js:390:5 &lt; promiseCallProvider@AddonManager.jsm:317:10 &lt; getAddonByID/promises&lt;@AddonManager.jsm:2421:12 &lt; getAddonByID@AddonManager.jsm:2420:20 &lt; getAddonByID@AddonManager.jsm:3558:7 &lt; this.NormandyDriver/uninstallAddon/uninstallPromise/&lt;@NormandyDriver.jsm:220:11 &lt; uninstallPromise@NormandyDriver.jsm:219:16 &lt; uninstallAddon@NormandyDriver.jsm:236:14 &lt; installXpi/&lt;@browser_NormandyDriver.js:31:12 &lt; promise callback*installXpi@browser_NormandyDriver.js:29:3 &lt; async*inner@head.js:47:11 &lt; async*inner@head.js:35:11 &lt; Async*Tester_execTest/&lt;@browser-test.js:757:21 &lt; TaskImpl_run@Task.jsm:319:42 &lt; promise callback*TaskImpl_handleResultValue@Task.jsm:396:7 &lt; TaskImpl_run@Task.jsm:327:15 &lt; TaskImpl@Task.jsm:277:3 &lt; asyncFunction@Task.jsm:252:14 &lt; Task_spawn@Task.jsm:166:12 &lt; Tester_execTest@browser-test.js:752:9 &lt; Tester.prototype.nextTest&lt;/&lt;@browser-test.js:672:7 &lt; SimpleTest.waitForFocus/waitForFocusInner/focusedOrLoaded/&lt;@SimpleTest.js:795:59\n42 INFO Console message: Warning: attempting to write 5244 bytes to preference extensions.bootstrappedAddons. This is bad for general performance and memory usage. Such an amount of data should rather be written to an external file. This preference will not be sent to any content processes.\nGECKO(37469) | Extension error: Failed to open input source 'jar:file:///var/folders/b3/wz8byszx531_gwwzp7bzx8yw0000gn/T/tmprXeu1e.mozrunner/extensions/normandydriver@example.com.xpi!/manifest.json' resource://gre/modules/Extension.jsm:390 :: readJSON/&lt;@resource://gre/modules/Extension.jsm:390:7\nGECKO(37469) | readJSON@resource://gre/modules/Extension.jsm:387:12\nGECKO(37469) | parseManifest@resource://gre/modules/Extension.jsm:449:7\nGECKO(37469) | parseManifest/&lt;@resource://gre/modules/Extension.jsm:818:45\nGECKO(37469) | get@resource://gre/modules/ExtensionUtils.jsm:150:25\nGECKO(37469) | async*parseManifest@resource://gre/modules/Extension.jsm:817:12\nGECKO(37469) | loadManifest@resource://gre/modules/Extension.jsm:499:7\nGECKO(37469) | async*loadManifest@resource://gre/modules/Extension.jsm:822:12\nGECKO(37469) | startup@resource://gre/modules/Extension.jsm:965:42\nGECKO(37469) | async*startup@resource://gre/modules/addons/XPIProvider.jsm -&gt; resource://gre/modules/addons/WebExtensionBootstrap.js:29:3\nGECKO(37469) | callBootstrapMethod@resource://gre/modules/addons/XPIProvider.jsm:5060:11\nGECKO(37469) | startInstall/&lt;@resource://gre/modules/addons/XPIProvider.jsm:5971:13\nGECKO(37469) | TaskImpl_run@resource://gre/modules/Task.jsm:319:42\nGECKO(37469) | process@resource://gre/modules/Promise.jsm -&gt; resource://gre/modules/Promise-backend.js:922:23\nGECKO(37469) | walkerLoop@resource://gre/modules/Promise.jsm -&gt; resource://gre/modules/Promise-backend.js:806:7\nGECKO(37469) | Promise*scheduleWalkerLoop@resource://gre/modules/Promise.jsm -&gt; resource://gre/modules/Promise-backend.js:739:11\nGECKO(37469) | schedulePromise@resource://gre/modules/Promise.jsm -&gt; resource://gre/modules/Promise-backend.js:770:7\nGECKO(37469) | completePromise@resource://gre/modules/Promise.jsm -&gt; resource://gre/modules/Promise-backend.js:707:7\nGECKO(37469) | get _worker/worker.onmessage@resource://gre/modules/PromiseWorker.jsm:231:9\nGECKO(37469) | EventHandlerNonNull*get _worker@resource://gre/modules/PromiseWorker.jsm:217:5\nGECKO(37469) | postMessage@resource://gre/modules/PromiseWorker.jsm:291:9\nGECKO(37469) | TaskImpl_run@resource://gre/modules/Task.jsm:319:42\nGECKO(37469) | process@resource://gre/modules/Promise.jsm -&gt; resource://gre/modules/Promise-backend.js:922:23\nGECKO(37469) | walkerLoop@resource://gre/modules/Promise.jsm -&gt; resource://gre/modules/Promise-backend.js:806:7\nGECKO(37469) | Promise*scheduleWalkerLoop@resource://gre/modules/Promise.jsm -&gt; resource://gre/modules/Promise-backend.js:739:11\nGECKO(37469) | schedulePromise@resource://gre/modules/Promise.jsm -&gt; resource://gre/modules/Promise-backend.js:770:7\nGECKO(37469) | Promise.prototype.then@resource://gre/modules/Promise.jsm -&gt; resource://gre/modules/Promise-backend.js:455:5\nGECKO(37469) | _deferredSave@resource://gre/modules/DeferredSave.jsm:212:5\nGECKO(37469) | _startTimer/&lt;@resource://gre/modules/DeferredSave.jsm:168:40\nGECKO(37469) | syncLoadManifestFromFile@resource://gre/modules/addons/XPIProvider.jsm:1653:5\nGECKO(37469) | addMetadata@resource://gre/modules/addons/XPIProvider.jsm -&gt; resource://gre/modules/addons/XPIProviderUtils.js:1630:21\nGECKO(37469) | processFileChanges@resource://gre/modules/addons/XPIProvider.jsm -&gt; resource://gre/modules/addons/XPIProviderUtils.js:2032:23\nGECKO(37469) | checkForChanges@resource://gre/modules/addons/XPIProvider.jsm:3869:34\nGECKO(37469) | startup@resource://gre/modules/addons/XPIProvider.jsm:2878:25\nGECKO(37469) | callProvider@resource://gre/modules/AddonManager.jsm:268:12\nGECKO(37469) | _startProvider@resource://gre/modules/AddonManager.jsm:738:5\nGECKO(37469) | startup@resource://gre/modules/AddonManager.jsm:905:9\nGECKO(37469) | startup@resource://gre/modules/AddonManager.jsm:3087:5\nGECKO(37469) | observe@file:///Users/victorng/dev/moz-central/mozilla-unified/obj-x86_64-apple-darwin16.6.0/dist/Nightly.app/Contents/Resources/components/addonManager.js:65:9\n43 INFO Console message: [JavaScript Error: \"[Exception... \"Failed to open input source 'jar:file:///var/folders/b3/wz8byszx531_gwwzp7bzx8yw0000gn/T/tmprXeu1e.mozrunner/extensions/normandydriver@example.com.xpi!/manifest.json'\"  nsresult: \"0x80520012 (NS_ERROR_FILE_NOT_FOUND)\"  location: \"JS frame :: resource://gre/modules/Extension.jsm :: readJSON/&lt; :: line 390\"  data: yes]\"]\nreadJSON/&lt;@resource://gre/modules/Extension.jsm:390:7\nreadJSON@resource://gre/modules/Extension.jsm:387:12\nparseManifest@resource://gre/modules/Extension.jsm:449:7\nparseManifest/&lt;@resource://gre/modules/Extension.jsm:818:45\nget@resource://gre/modules/ExtensionUtils.jsm:150:25\nasync*parseManifest@resource://gre/modules/Extension.jsm:817:12\nloadManifest@resource://gre/modules/Extension.jsm:499:7\nasync*loadManifest@resource://gre/modules/Extension.jsm:822:12\nstartup@resource://gre/modules/Extension.jsm:965:42\nasync*startup@resource://gre/modules/addons/XPIProvider.jsm -&gt; resource://gre/modules/addons/WebExtensionBootstrap.js:29:3\ncallBootstrapMethod@resource://gre/modules/addons/XPIProvider.jsm:5060:11\nstartInstall/&lt;@resource://gre/modules/addons/XPIProvider.jsm:5971:13\nTaskImpl_run@resource://gre/modules/Task.jsm:319:42\nprocess@resource://gre/modules/Promise.jsm -&gt; resource://gre/modules/Promise-backend.js:922:23\nwalkerLoop@resource://gre/modules/Promise.jsm -&gt; resource://gre/modules/Promise-backend.js:806:7\nPromise*scheduleWalkerLoop@resource://gre/modules/Promise.jsm -&gt; resource://gre/modules/Promise-backend.js:739:11\nschedulePromise@resource://gre/modules/Promise.jsm -&gt; resource://gre/modules/Promise-backend.js:770:7\ncompletePromise@resource://gre/modules/Promise.jsm -&gt; resource://gre/modules/Promise-backend.js:707:7\nget _worker/worker.onmessage@resource://gre/modules/PromiseWorker.jsm:231:9\nEventHandlerNonNull*get _worker@resource://gre/modules/PromiseWorker.jsm:217:5\npostMessage@resource://gre/modules/PromiseWorker.jsm:291:9\nTaskImpl_run@resource://gre/modules/Task.jsm:319:42\nprocess@resource://gre/modules/Promise.jsm -&gt; resource://gre/modules/Promise-backend.js:922:23\nwalkerLoop@resource://gre/modules/Promise.jsm -&gt; resource://gre/modules/Promise-backend.js:806:7\nPromise*scheduleWalkerLoop@resource://gre/modules/Promise.jsm -&gt; resource://gre/modules/Promise-backend.js:739:11\nschedulePromise@resource://gre/modules/Promise.jsm -&gt; resource://gre/modules/Promise-backend.js:770:7\nPromise.prototype.then@resource://gre/modules/Promise.jsm -&gt; resource://gre/modules/Promise-backend.js:455:5\n_deferredSave@resource://gre/modules/DeferredSave.jsm:212:5\n_startTimer/&lt;@resource://gre/modules/DeferredSave.jsm:168:40\nsyncLoadManifestFromFile@resource://gre/modules/addons/XPIProvider.jsm:1653:5\naddMetadata@resource://gre/modules/addons/XPIProvider.jsm -&gt; resource://gre/modules/addons/XPIProviderUtils.js:1630:21\nprocessFileChanges@resource://gre/modules/addons/XPIProvider.jsm -&gt; resource://gre/modules/addons/XPIProviderUtils.js:2032:23\ncheckForChanges@resource://gre/modules/addons/XPIProvider.jsm:3869:34\nstartup@resource://gre/modules/addons/XPIProvider.jsm:2878:25\ncallProvider@resource://gre/modules/AddonManager.jsm:268:12\n_startProvider@resource://gre/modules/AddonManager.jsm:738:5\nstartup@resource://gre/modules/AddonManager.jsm:905:9\nstartup@resource://gre/modules/AddonManager.jsm:3087:5\nobserve@file:///Users/victorng/dev/moz-central/mozilla-unified/obj-x86_64-apple-darwin16.6.0/dist/Nightly.app/Contents/Resources/components/addonManager.js:65:9\n</code></pre>", "id": 303804124, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/778"}