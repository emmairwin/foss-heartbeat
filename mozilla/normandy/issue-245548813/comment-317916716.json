{"body": "After working through some experimenting and digging through the webpack docs, I've managed to drop my local build time from 25s -> 10-12s.\r\n\r\n[This commit](https://github.com/mozilla/normandy/pull/918/commits/237c8df03f9650cb11493b48fc193c4158edec40):\r\n- Adds `allChunks` props to `ExtractTextPlugin`s\r\n- Replaces the vendor `CommonsChunk` with `DllReferencePlugin`\r\n- Adds `build:app`, `build:vendor` npm scripts (`build` just calls them both)\r\n- Change sourcemapping from `cheap-module` to `cheap-eval`\r\n- Adds `vendors.webpack.config.js` for building the `vendors.bundle.js` file\r\n- Adds UglifyJS (back) to the project, for compressing the vendor bundle (5mb -> 3mb)\r\n\r\nWith this change, my build runs considerably faster. Also, considering we're still running two builds (`control` and `control_new`), we can expect further speed increases once we phase out the current UI.\r\n\r\n**However**, it seems that `karma` does not take advantage of this pre-made vendor bundling, so `npm run test` still takes forever. ~I have an idea on how to fix it, but I can push that up in another commit.~", "body_text": "After working through some experimenting and digging through the webpack docs, I've managed to drop my local build time from 25s -> 10-12s.\nThis commit:\n\nAdds allChunks props to ExtractTextPlugins\nReplaces the vendor CommonsChunk with DllReferencePlugin\nAdds build:app, build:vendor npm scripts (build just calls them both)\nChange sourcemapping from cheap-module to cheap-eval\nAdds vendors.webpack.config.js for building the vendors.bundle.js file\nAdds UglifyJS (back) to the project, for compressing the vendor bundle (5mb -> 3mb)\n\nWith this change, my build runs considerably faster. Also, considering we're still running two builds (control and control_new), we can expect further speed increases once we phase out the current UI.\nHowever, it seems that karma does not take advantage of this pre-made vendor bundling, so npm run test still takes forever. I have an idea on how to fix it, but I can push that up in another commit.", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/317916716", "created_at": "2017-07-26T01:05:36Z", "author_association": "CONTRIBUTOR", "html_url": "https://github.com/mozilla/normandy/pull/918#issuecomment-317916716", "updated_at": "2017-07-26T01:14:21Z", "user": {"following_url": "https://api.github.com/users/andymikulski/following{/other_user}", "events_url": "https://api.github.com/users/andymikulski/events{/privacy}", "organizations_url": "https://api.github.com/users/andymikulski/orgs", "url": "https://api.github.com/users/andymikulski", "gists_url": "https://api.github.com/users/andymikulski/gists{/gist_id}", "html_url": "https://github.com/andymikulski", "subscriptions_url": "https://api.github.com/users/andymikulski/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/2767162?v=4", "repos_url": "https://api.github.com/users/andymikulski/repos", "received_events_url": "https://api.github.com/users/andymikulski/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/andymikulski/starred{/owner}{/repo}", "site_admin": false, "login": "andymikulski", "type": "User", "id": 2767162, "followers_url": "https://api.github.com/users/andymikulski/followers"}, "body_html": "<p>After working through some experimenting and digging through the webpack docs, I've managed to drop my local build time from 25s -&gt; 10-12s.</p>\n<p><a href=\"https://github.com/mozilla/normandy/pull/918/commits/237c8df03f9650cb11493b48fc193c4158edec40\">This commit</a>:</p>\n<ul>\n<li>Adds <code>allChunks</code> props to <code>ExtractTextPlugin</code>s</li>\n<li>Replaces the vendor <code>CommonsChunk</code> with <code>DllReferencePlugin</code></li>\n<li>Adds <code>build:app</code>, <code>build:vendor</code> npm scripts (<code>build</code> just calls them both)</li>\n<li>Change sourcemapping from <code>cheap-module</code> to <code>cheap-eval</code></li>\n<li>Adds <code>vendors.webpack.config.js</code> for building the <code>vendors.bundle.js</code> file</li>\n<li>Adds UglifyJS (back) to the project, for compressing the vendor bundle (5mb -&gt; 3mb)</li>\n</ul>\n<p>With this change, my build runs considerably faster. Also, considering we're still running two builds (<code>control</code> and <code>control_new</code>), we can expect further speed increases once we phase out the current UI.</p>\n<p><strong>However</strong>, it seems that <code>karma</code> does not take advantage of this pre-made vendor bundling, so <code>npm run test</code> still takes forever. <del>I have an idea on how to fix it, but I can push that up in another commit.</del></p>", "id": 317916716, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/918"}