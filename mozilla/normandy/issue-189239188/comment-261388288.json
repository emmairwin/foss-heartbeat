{"body": "One possible way of doing this is to run the test repeatedly and verify over time:\n- Create a test heartbeat recipe on prod that checks for a nonsense test locale.\n- Create a test using Marionette/Selenium that sets the user's locale to the test locale, waits for the Heartbeat prompt, and then interacts with it. The test could either do this a consistent amount of times, or perhaps a random amount of times, and log the amount of times it ran somewhere. We can run this test on Jenkins, like how QA runs automatic site checks periodically.\n- Create a daily spark job that pulls Heartbeat data for the fake survey, and asserts that the response data matches with the test job's interactions. If it fails, notify the team of the mismatch. \n\nThis might be overkill. The repeating job model is intended to verify over time that changes we make aren't affecting our telemetry activity reporting, but we might only care about verifying Telemetry once.\n\n@mythmon @gregglind Thoughts?\n", "body_text": "One possible way of doing this is to run the test repeatedly and verify over time:\n\nCreate a test heartbeat recipe on prod that checks for a nonsense test locale.\nCreate a test using Marionette/Selenium that sets the user's locale to the test locale, waits for the Heartbeat prompt, and then interacts with it. The test could either do this a consistent amount of times, or perhaps a random amount of times, and log the amount of times it ran somewhere. We can run this test on Jenkins, like how QA runs automatic site checks periodically.\nCreate a daily spark job that pulls Heartbeat data for the fake survey, and asserts that the response data matches with the test job's interactions. If it fails, notify the team of the mismatch.\n\nThis might be overkill. The repeating job model is intended to verify over time that changes we make aren't affecting our telemetry activity reporting, but we might only care about verifying Telemetry once.\n@mythmon @gregglind Thoughts?", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/261388288", "created_at": "2016-11-17T22:20:30Z", "author_association": "MEMBER", "html_url": "https://github.com/mozilla/normandy/issues/334#issuecomment-261388288", "updated_at": "2016-11-17T22:21:06Z", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "body_html": "<p>One possible way of doing this is to run the test repeatedly and verify over time:</p>\n<ul>\n<li>Create a test heartbeat recipe on prod that checks for a nonsense test locale.</li>\n<li>Create a test using Marionette/Selenium that sets the user's locale to the test locale, waits for the Heartbeat prompt, and then interacts with it. The test could either do this a consistent amount of times, or perhaps a random amount of times, and log the amount of times it ran somewhere. We can run this test on Jenkins, like how QA runs automatic site checks periodically.</li>\n<li>Create a daily spark job that pulls Heartbeat data for the fake survey, and asserts that the response data matches with the test job's interactions. If it fails, notify the team of the mismatch.</li>\n</ul>\n<p>This might be overkill. The repeating job model is intended to verify over time that changes we make aren't affecting our telemetry activity reporting, but we might only care about verifying Telemetry once.</p>\n<p><a class=\"user-mention\" href=\"https://github.com/mythmon\">@mythmon</a> <a class=\"user-mention\" href=\"https://github.com/gregglind\">@gregglind</a> Thoughts?</p>", "id": 261388288, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/334"}