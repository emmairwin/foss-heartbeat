{"body_text": "We'd like to mirror what TestPilot does and keep the add-on code and service code in the same repo. This has a few benefits:\n\nAbility to share common things, like linting configs.\nChanges to how the service and add-on interact with each other can happen in a single commit/PR.\nMost of the work our team does can be filed as issues on a single repo, which lets us take advantage of milestones and tagging for managing work.\n\nThere's some open questions that need to be addressed as part of this issue:\n\nShould we do anything smart to avoid building and running the add-on or site for changes that only occur in one of the two codebases?\nHow should we organize the repo? TestPilot simply has an extra directory at the root of the repo storing the add-on, but some of our long-term plans involve writing a client library for things using SHIELD, which may end up in the monorepo as well.\n\nWe might want to wait until the add-on gets merged to mozilla-central before doing this, but nothing is really blocking it.", "labels": [], "number": 353, "assignee": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "repository_url": "https://api.github.com/repos/mozilla/normandy", "closed_at": "2017-01-09T18:00:15Z", "body_html": "<p>We'd like to mirror what <a href=\"https://github.com/mozilla/testpilot/\">TestPilot</a> does and keep the add-on code and service code in the same repo. This has a few benefits:</p>\n<ul>\n<li>Ability to share common things, like linting configs.</li>\n<li>Changes to how the service and add-on interact with each other can happen in a single commit/PR.</li>\n<li>Most of the work our team does can be filed as issues on a single repo, which lets us take advantage of milestones and tagging for managing work.</li>\n</ul>\n<p>There's some open questions that need to be addressed as part of this issue:</p>\n<ul>\n<li>Should we do anything smart to avoid building and running the add-on or site for changes that only occur in one of the two codebases?</li>\n<li>How should we organize the repo? TestPilot simply has an extra directory at the root of the repo storing the add-on, but some of our long-term plans involve writing a client library for things using SHIELD, which may end up in the monorepo as well.</li>\n</ul>\n<p>We might want to wait until the add-on gets merged to mozilla-central before doing this, but nothing is really blocking it.</p>", "id": 190125825, "title": "Move normandy-addon into the normandy repo", "comments": 2, "state": "closed", "body": "We'd like to mirror what [TestPilot](https://github.com/mozilla/testpilot/) does and keep the add-on code and service code in the same repo. This has a few benefits:\r\n\r\n- Ability to share common things, like linting configs.\r\n- Changes to how the service and add-on interact with each other can happen in a single commit/PR.\r\n- Most of the work our team does can be filed as issues on a single repo, which lets us take advantage of milestones and tagging for managing work.\r\n\r\nThere's some open questions that need to be addressed as part of this issue:\r\n\r\n- Should we do anything smart to avoid building and running the add-on or site for changes that only occur in one of the two codebases?\r\n- How should we organize the repo? TestPilot simply has an extra directory at the root of the repo storing the add-on, but some of our long-term plans involve writing a client library for things using SHIELD, which may end up in the monorepo as well.\r\n\r\nWe might want to wait until the add-on gets merged to mozilla-central before doing this, but nothing is really blocking it.", "events_url": "https://api.github.com/repos/mozilla/normandy/issues/353/events", "labels_url": "https://api.github.com/repos/mozilla/normandy/issues/353/labels{/name}", "author_association": "MEMBER", "comments_url": "https://api.github.com/repos/mozilla/normandy/issues/353/comments", "html_url": "https://github.com/mozilla/normandy/issues/353", "updated_at": "2017-01-23T21:38:12Z", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "milestone": null, "locked": false, "url": "https://api.github.com/repos/mozilla/normandy/issues/353", "created_at": "2016-11-17T18:27:35Z", "assignees": [{"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}]}