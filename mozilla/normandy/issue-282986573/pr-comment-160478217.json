{"original_position": 42, "diff_hunk": "@@ -83,3 +83,106 @@ reported under the key ``shield-recipe-client/recipe/<recipe id>``:\n .. js:data:: RECIPE_SUCCESS\n \n    The recipe was executed successfully.\n+\n+\n+Enrollment\n+-----------\n+Shield records enrollment and unenrollment of users into studies, and\n+records that data using `Telemetry Events`_. All data is stored in the\n+``normandy`` category.\n+\n+.. _Telemetry Events: https://firefox-source-docs.mozilla.org/toolkit/components/telemetry/telemetry/collection/events.html\n+\n+Preference Studies\n+^^^^^^^^^^^^^^^^^^\n+Enrollment\n+   method\n+      The string ``\"enroll\"``\n+   object\n+      The string ``\"preference-study\"``\n+   value\n+      The name of the study (``recipe.arguments.slug``).\n+   extra\n+      branch\n+         The name of the branch the user was assigned to (example:\n+         ``\"control\"`` or ``\"experiment\"``).\n+      experimentType\n+         The type of preference experiment. Currently this can take\n+         values \"exp\" and \"exp-highpop\", the latter being for\n+         experiments targetting large numbers of users.\n+\n+Unenrollment\n+   method\n+      The string ``\"unenroll\"``.\n+   object\n+      The string ``\"preference-study\"``.\n+   value\n+      The name of the study (``recipe.arguments.slug``).\n+   extra\n+      resetValue\n+         The string ``\"true\"`` if the preference was set back to its\n+         original value, ``\"false\"`` if it was left as its current", "body_text": "According to the docs, API only allows \"string keys & values\", so booleans aren't an option.\nI think you're right about the name of resetValue. There isn't a lot of outside-of-the-code history to this name, so now is a good time to change it.", "in_reply_to_id": 160470021, "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/1154", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/160478217", "created_at": "2018-01-09T17:49:47Z", "author_association": "MEMBER", "body": "According to [the docs](https://firefox-source-docs.mozilla.org/toolkit/components/telemetry/telemetry/collection/events.html#recordevent), API only allows \"string keys & values\", so booleans aren't an option.\r\n\r\nI think you're right about the name of `resetValue`. There isn't a lot of outside-of-the-code history to this name, so now is a good time to change it.", "updated_at": "2018-01-10T19:21:20Z", "html_url": "https://github.com/mozilla/normandy/pull/1154#discussion_r160478217", "pull_request_review_id": 87602689, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/160478217"}, "html": {"href": "https://github.com/mozilla/normandy/pull/1154#discussion_r160478217"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/1154"}}, "commit_id": "c99552dad03bd2b3d51ba74809410c02dcc93dad", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "position": null, "path": "docs/user/data_collection.rst", "body_html": "<p>According to <a href=\"https://firefox-source-docs.mozilla.org/toolkit/components/telemetry/telemetry/collection/events.html#recordevent\" rel=\"nofollow\">the docs</a>, API only allows \"string keys &amp; values\", so booleans aren't an option.</p>\n<p>I think you're right about the name of <code>resetValue</code>. There isn't a lot of outside-of-the-code history to this name, so now is a good time to change it.</p>", "original_commit_id": "32b3682772ca6e8f579e975d185cfdef91f45388", "id": 160478217}