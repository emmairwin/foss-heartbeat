{"body": "I guess I should be more careful relying on the the test suite.\r\n\r\nRunning this locally and then visiting https://localhost:8000/api/v1/recipe/, I get the error below. Looking into this some more, DRF doesn't enable HTML output in tests by default, [and the instructions to enable it](http://www.django-rest-framework.org/api-guide/testing/#setting-the-available-formats) didn't work for me. In other words, I can't reproduce this problem in a test, which makes me very sad.\r\n\r\n```\r\nTraceback:\r\n\r\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/django/core/handlers/exception.py\" in inner\r\n  41.             response = get_response(request)\r\n\r\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/django/core/handlers/base.py\" in _get_response\r\n  217.                 response = self.process_exception_by_middleware(e, request)\r\n\r\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/django/core/handlers/base.py\" in _get_response\r\n  215.                 response = response.render()\r\n\r\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/django/template/response.py\" in render\r\n  107.             self.content = self.rendered_content\r\n\r\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/rest_framework/response.py\" in rendered_content\r\n  72.         ret = renderer.render(self.data, accepted_media_type, context)\r\n\r\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/rest_framework/renderers.py\" in render\r\n  703.         context = self.get_context(data, accepted_media_type, renderer_context)\r\n\r\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/rest_framework/renderers.py\" in get_context\r\n  680.             'filter_form': self.get_filter_form(data, view, request),\r\n\r\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/rest_framework/renderers.py\" in get_filter_form\r\n  615.                 html = backend().to_html(request, queryset, view)\r\n\r\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/django_filters/rest_framework/backends.py\" in to_html\r\n  64.         template = loader.get_template(self.template)\r\n\r\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/django/template/loader.py\" in get_template\r\n  25.     raise TemplateDoesNotExist(template_name, chain=chain)\r\n\r\nException Type: TemplateDoesNotExist at /api/v1/recipe/\r\nException Value: django_filters/rest_framework/form.html\r\n```", "body_text": "I guess I should be more careful relying on the the test suite.\nRunning this locally and then visiting https://localhost:8000/api/v1/recipe/, I get the error below. Looking into this some more, DRF doesn't enable HTML output in tests by default, and the instructions to enable it didn't work for me. In other words, I can't reproduce this problem in a test, which makes me very sad.\nTraceback:\n\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/django/core/handlers/exception.py\" in inner\n  41.             response = get_response(request)\n\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/django/core/handlers/base.py\" in _get_response\n  217.                 response = self.process_exception_by_middleware(e, request)\n\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/django/core/handlers/base.py\" in _get_response\n  215.                 response = response.render()\n\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/django/template/response.py\" in render\n  107.             self.content = self.rendered_content\n\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/rest_framework/response.py\" in rendered_content\n  72.         ret = renderer.render(self.data, accepted_media_type, context)\n\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/rest_framework/renderers.py\" in render\n  703.         context = self.get_context(data, accepted_media_type, renderer_context)\n\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/rest_framework/renderers.py\" in get_context\n  680.             'filter_form': self.get_filter_form(data, view, request),\n\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/rest_framework/renderers.py\" in get_filter_form\n  615.                 html = backend().to_html(request, queryset, view)\n\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/django_filters/rest_framework/backends.py\" in to_html\n  64.         template = loader.get_template(self.template)\n\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/django/template/loader.py\" in get_template\n  25.     raise TemplateDoesNotExist(template_name, chain=chain)\n\nException Type: TemplateDoesNotExist at /api/v1/recipe/\nException Value: django_filters/rest_framework/form.html", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/371318101", "created_at": "2018-03-07T23:07:24Z", "author_association": "MEMBER", "html_url": "https://github.com/mozilla/normandy/pull/1204#issuecomment-371318101", "updated_at": "2018-03-07T23:07:24Z", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "body_html": "<p>I guess I should be more careful relying on the the test suite.</p>\n<p>Running this locally and then visiting <a href=\"https://localhost:8000/api/v1/recipe/\" rel=\"nofollow\">https://localhost:8000/api/v1/recipe/</a>, I get the error below. Looking into this some more, DRF doesn't enable HTML output in tests by default, <a href=\"http://www.django-rest-framework.org/api-guide/testing/#setting-the-available-formats\" rel=\"nofollow\">and the instructions to enable it</a> didn't work for me. In other words, I can't reproduce this problem in a test, which makes me very sad.</p>\n<pre><code>Traceback:\n\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/django/core/handlers/exception.py\" in inner\n  41.             response = get_response(request)\n\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/django/core/handlers/base.py\" in _get_response\n  217.                 response = self.process_exception_by_middleware(e, request)\n\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/django/core/handlers/base.py\" in _get_response\n  215.                 response = response.render()\n\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/django/template/response.py\" in render\n  107.             self.content = self.rendered_content\n\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/rest_framework/response.py\" in rendered_content\n  72.         ret = renderer.render(self.data, accepted_media_type, context)\n\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/rest_framework/renderers.py\" in render\n  703.         context = self.get_context(data, accepted_media_type, renderer_context)\n\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/rest_framework/renderers.py\" in get_context\n  680.             'filter_form': self.get_filter_form(data, view, request),\n\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/rest_framework/renderers.py\" in get_filter_form\n  615.                 html = backend().to_html(request, queryset, view)\n\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/django_filters/rest_framework/backends.py\" in to_html\n  64.         template = loader.get_template(self.template)\n\nFile \"/home/mythmon/src/normandy/recipe-server/.direnv/python-3.6.4/lib/python3.6/site-packages/django/template/loader.py\" in get_template\n  25.     raise TemplateDoesNotExist(template_name, chain=chain)\n\nException Type: TemplateDoesNotExist at /api/v1/recipe/\nException Value: django_filters/rest_framework/form.html\n</code></pre>", "id": 371318101, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/1204"}