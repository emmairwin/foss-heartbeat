{"body_text": "I don't know how else to test this. I started the server and clicked around a bit but I'm still not sure I know what I'm doing. At least the tests pass without and deprecation warnings we can immediately do something about:\n\u25b6 PYTHONWARNINGS=d pytest\n/Users/peterbe/virtualenvs/recipe-server/bin/../lib/python3.6/site.py:165: DeprecationWarning: 'U' mode is deprecated\n  f = open(fullname, \"rU\")\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/importlib/_bootstrap_external.py:426: ImportWarning: Not importing directory /Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/sphinxcontrib: missing __init__\n  _warnings.warn(msg.format(portions[0]), ImportWarning)\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/importlib/_bootstrap_external.py:426: ImportWarning: Not importing directory /Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/backports: missing __init__\n  _warnings.warn(msg.format(portions[0]), ImportWarning)\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/_pytest/assertion/rewrite.py:7: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\n  import imp\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_testrail/conftest.py:3: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .plugin import TestRailPlugin\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_testrail/conftest.py:4: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .testrail_api import APIClient\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:17: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .django_compat import is_django_unittest\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:18: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .fixtures import (_django_db_setup, _live_server_helper, admin_client,\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:10: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from . import live_server_helper\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/live_server_helper.py:3: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .lazy_django import get_django_version\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:11: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .db_reuse import (monkey_patch_creation_for_db_reuse,\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:13: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .django_compat import is_django_unittest\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:14: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .lazy_django import get_django_version, skip_if_no_django\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:22: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .lazy_django import django_settings_is_configured, skip_if_no_django\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:50: DeprecationWarning: type argument to addoption() is a string 'string'. For parsearg this should be a type. (options: ('--ds',))\n  help='Set DJANGO_SETTINGS_MODULE.')\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:53: DeprecationWarning: type argument to addoption() is a string 'string'. For parsearg this should be a type. (options: ('--dc',))\n  help='Set DJANGO_CONFIGURATION.')\n================================================================================================ test session starts ================================================================================================\nplatform darwin -- Python 3.6.4, pytest-3.0.2, py-1.4.31, pluggy-0.3.1\ndjango settings: normandy.settings (from ini file)\nrootdir: /Users/peterbe/dev/MOZILLA/NORMANDY/normandy/recipe-server, inifile: pytest.ini\nplugins: testrail-0.0.11, mock-0.11.0, django-2.9.1\ncollected 352 items\n\nnormandy/base/tests/test_api.py ....x..............\nnormandy/base/tests/test_auth_backends.py ...\nnormandy/base/tests/test_decorators.py ...\nnormandy/base/tests/test_middleware.py ....\nnormandy/base/tests/test_renderers.py .\nnormandy/base/tests/test_storage.py .....\nnormandy/base/tests/test_templatetags.py ..\nnormandy/base/tests/test_urls.py .\nnormandy/base/tests/test_utils.py ........\nnormandy/base/tests/test_views.py ..\nnormandy/control/tests/test_templatetags.py ..\nnormandy/health/tests/test_api.py ........\nnormandy/recipes/tests/test_admin.py ..\nnormandy/recipes/tests/test_checks.py ....\nnormandy/recipes/tests/test_commands.py ....................\nnormandy/recipes/tests/test_factories.py ...\nnormandy/recipes/tests/test_geolocation.py ....\nnormandy/recipes/tests/test_models.py ................................................\nnormandy/recipes/tests/test_signing.py ......................\nnormandy/recipes/tests/test_storage.py .\nnormandy/recipes/tests/test_utils.py .......\nnormandy/recipes/tests/test_validators.py .\nnormandy/recipes/tests/api/v1/test_api.py .........................................................................\nnormandy/recipes/tests/api/v1/test_serializers.py ..........\nnormandy/recipes/tests/api/v2/test_api.py ..................................................................\nnormandy/recipes/tests/api/v2/test_serializers.py ......\nnormandy/recipes/tests/api/v2/test_shield_identicon.py ...\nnormandy/selfrepair/tests/test_views.py ....\nnormandy/studies/tests/test_models.py .\nnormandy/studies/tests/api/v2/test_api.py ..................\nnormandy/studies/tests/api/v2/test_serializers.py .\n\n====================================================================================== 351 passed, 1 xfailed in 30.48 seconds =======================================================================================", "labels": [], "number": 1204, "assignee": {"following_url": "https://api.github.com/users/peterbe/following{/other_user}", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "organizations_url": "https://api.github.com/users/peterbe/orgs", "url": "https://api.github.com/users/peterbe", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "html_url": "https://github.com/peterbe", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "repos_url": "https://api.github.com/users/peterbe/repos", "received_events_url": "https://api.github.com/users/peterbe/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "site_admin": false, "login": "peterbe", "type": "User", "id": 26739, "followers_url": "https://api.github.com/users/peterbe/followers"}, "repository_url": "https://api.github.com/repos/mozilla/normandy", "closed_at": "2018-03-14T17:23:46Z", "body_html": "<p>I don't know how else to test this. I started the server and clicked around a bit but I'm still not sure I know what I'm doing. At least the tests pass without and deprecation warnings <em>we</em> can immediately do something about:</p>\n<pre><code>\u25b6 PYTHONWARNINGS=d pytest\n/Users/peterbe/virtualenvs/recipe-server/bin/../lib/python3.6/site.py:165: DeprecationWarning: 'U' mode is deprecated\n  f = open(fullname, \"rU\")\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/importlib/_bootstrap_external.py:426: ImportWarning: Not importing directory /Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/sphinxcontrib: missing __init__\n  _warnings.warn(msg.format(portions[0]), ImportWarning)\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/importlib/_bootstrap_external.py:426: ImportWarning: Not importing directory /Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/backports: missing __init__\n  _warnings.warn(msg.format(portions[0]), ImportWarning)\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/_pytest/assertion/rewrite.py:7: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\n  import imp\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_testrail/conftest.py:3: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .plugin import TestRailPlugin\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_testrail/conftest.py:4: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .testrail_api import APIClient\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:17: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .django_compat import is_django_unittest\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:18: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .fixtures import (_django_db_setup, _live_server_helper, admin_client,\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:10: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from . import live_server_helper\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/live_server_helper.py:3: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .lazy_django import get_django_version\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:11: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .db_reuse import (monkey_patch_creation_for_db_reuse,\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:13: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .django_compat import is_django_unittest\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:14: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .lazy_django import get_django_version, skip_if_no_django\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:22: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .lazy_django import django_settings_is_configured, skip_if_no_django\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:50: DeprecationWarning: type argument to addoption() is a string 'string'. For parsearg this should be a type. (options: ('--ds',))\n  help='Set DJANGO_SETTINGS_MODULE.')\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:53: DeprecationWarning: type argument to addoption() is a string 'string'. For parsearg this should be a type. (options: ('--dc',))\n  help='Set DJANGO_CONFIGURATION.')\n================================================================================================ test session starts ================================================================================================\nplatform darwin -- Python 3.6.4, pytest-3.0.2, py-1.4.31, pluggy-0.3.1\ndjango settings: normandy.settings (from ini file)\nrootdir: /Users/peterbe/dev/MOZILLA/NORMANDY/normandy/recipe-server, inifile: pytest.ini\nplugins: testrail-0.0.11, mock-0.11.0, django-2.9.1\ncollected 352 items\n\nnormandy/base/tests/test_api.py ....x..............\nnormandy/base/tests/test_auth_backends.py ...\nnormandy/base/tests/test_decorators.py ...\nnormandy/base/tests/test_middleware.py ....\nnormandy/base/tests/test_renderers.py .\nnormandy/base/tests/test_storage.py .....\nnormandy/base/tests/test_templatetags.py ..\nnormandy/base/tests/test_urls.py .\nnormandy/base/tests/test_utils.py ........\nnormandy/base/tests/test_views.py ..\nnormandy/control/tests/test_templatetags.py ..\nnormandy/health/tests/test_api.py ........\nnormandy/recipes/tests/test_admin.py ..\nnormandy/recipes/tests/test_checks.py ....\nnormandy/recipes/tests/test_commands.py ....................\nnormandy/recipes/tests/test_factories.py ...\nnormandy/recipes/tests/test_geolocation.py ....\nnormandy/recipes/tests/test_models.py ................................................\nnormandy/recipes/tests/test_signing.py ......................\nnormandy/recipes/tests/test_storage.py .\nnormandy/recipes/tests/test_utils.py .......\nnormandy/recipes/tests/test_validators.py .\nnormandy/recipes/tests/api/v1/test_api.py .........................................................................\nnormandy/recipes/tests/api/v1/test_serializers.py ..........\nnormandy/recipes/tests/api/v2/test_api.py ..................................................................\nnormandy/recipes/tests/api/v2/test_serializers.py ......\nnormandy/recipes/tests/api/v2/test_shield_identicon.py ...\nnormandy/selfrepair/tests/test_views.py ....\nnormandy/studies/tests/test_models.py .\nnormandy/studies/tests/api/v2/test_api.py ..................\nnormandy/studies/tests/api/v2/test_serializers.py .\n\n====================================================================================== 351 passed, 1 xfailed in 30.48 seconds =======================================================================================\n</code></pre>", "id": 303255976, "title": "Django 1.11.11", "pull_request": {"url": "https://api.github.com/repos/mozilla/normandy/pulls/1204", "diff_url": "https://github.com/mozilla/normandy/pull/1204.diff", "html_url": "https://github.com/mozilla/normandy/pull/1204", "patch_url": "https://github.com/mozilla/normandy/pull/1204.patch"}, "comments": 11, "state": "closed", "body": "I don't know how else to test this. I started the server and clicked around a bit but I'm still not sure I know what I'm doing. At least the tests pass without and deprecation warnings *we* can immediately do something about:\r\n\r\n```\r\n\u25b6 PYTHONWARNINGS=d pytest\r\n/Users/peterbe/virtualenvs/recipe-server/bin/../lib/python3.6/site.py:165: DeprecationWarning: 'U' mode is deprecated\r\n  f = open(fullname, \"rU\")\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/importlib/_bootstrap_external.py:426: ImportWarning: Not importing directory /Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/sphinxcontrib: missing __init__\r\n  _warnings.warn(msg.format(portions[0]), ImportWarning)\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/importlib/_bootstrap_external.py:426: ImportWarning: Not importing directory /Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/backports: missing __init__\r\n  _warnings.warn(msg.format(portions[0]), ImportWarning)\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/_pytest/assertion/rewrite.py:7: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_testrail/conftest.py:3: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\r\n  from .plugin import TestRailPlugin\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_testrail/conftest.py:4: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\r\n  from .testrail_api import APIClient\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:17: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\r\n  from .django_compat import is_django_unittest\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:18: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\r\n  from .fixtures import (_django_db_setup, _live_server_helper, admin_client,\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:10: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\r\n  from . import live_server_helper\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/live_server_helper.py:3: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\r\n  from .lazy_django import get_django_version\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:11: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\r\n  from .db_reuse import (monkey_patch_creation_for_db_reuse,\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:13: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\r\n  from .django_compat import is_django_unittest\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:14: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\r\n  from .lazy_django import get_django_version, skip_if_no_django\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:22: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\r\n  from .lazy_django import django_settings_is_configured, skip_if_no_django\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:50: DeprecationWarning: type argument to addoption() is a string 'string'. For parsearg this should be a type. (options: ('--ds',))\r\n  help='Set DJANGO_SETTINGS_MODULE.')\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:53: DeprecationWarning: type argument to addoption() is a string 'string'. For parsearg this should be a type. (options: ('--dc',))\r\n  help='Set DJANGO_CONFIGURATION.')\r\n================================================================================================ test session starts ================================================================================================\r\nplatform darwin -- Python 3.6.4, pytest-3.0.2, py-1.4.31, pluggy-0.3.1\r\ndjango settings: normandy.settings (from ini file)\r\nrootdir: /Users/peterbe/dev/MOZILLA/NORMANDY/normandy/recipe-server, inifile: pytest.ini\r\nplugins: testrail-0.0.11, mock-0.11.0, django-2.9.1\r\ncollected 352 items\r\n\r\nnormandy/base/tests/test_api.py ....x..............\r\nnormandy/base/tests/test_auth_backends.py ...\r\nnormandy/base/tests/test_decorators.py ...\r\nnormandy/base/tests/test_middleware.py ....\r\nnormandy/base/tests/test_renderers.py .\r\nnormandy/base/tests/test_storage.py .....\r\nnormandy/base/tests/test_templatetags.py ..\r\nnormandy/base/tests/test_urls.py .\r\nnormandy/base/tests/test_utils.py ........\r\nnormandy/base/tests/test_views.py ..\r\nnormandy/control/tests/test_templatetags.py ..\r\nnormandy/health/tests/test_api.py ........\r\nnormandy/recipes/tests/test_admin.py ..\r\nnormandy/recipes/tests/test_checks.py ....\r\nnormandy/recipes/tests/test_commands.py ....................\r\nnormandy/recipes/tests/test_factories.py ...\r\nnormandy/recipes/tests/test_geolocation.py ....\r\nnormandy/recipes/tests/test_models.py ................................................\r\nnormandy/recipes/tests/test_signing.py ......................\r\nnormandy/recipes/tests/test_storage.py .\r\nnormandy/recipes/tests/test_utils.py .......\r\nnormandy/recipes/tests/test_validators.py .\r\nnormandy/recipes/tests/api/v1/test_api.py .........................................................................\r\nnormandy/recipes/tests/api/v1/test_serializers.py ..........\r\nnormandy/recipes/tests/api/v2/test_api.py ..................................................................\r\nnormandy/recipes/tests/api/v2/test_serializers.py ......\r\nnormandy/recipes/tests/api/v2/test_shield_identicon.py ...\r\nnormandy/selfrepair/tests/test_views.py ....\r\nnormandy/studies/tests/test_models.py .\r\nnormandy/studies/tests/api/v2/test_api.py ..................\r\nnormandy/studies/tests/api/v2/test_serializers.py .\r\n\r\n====================================================================================== 351 passed, 1 xfailed in 30.48 seconds =======================================================================================\r\n```", "events_url": "https://api.github.com/repos/mozilla/normandy/issues/1204/events", "labels_url": "https://api.github.com/repos/mozilla/normandy/issues/1204/labels{/name}", "author_association": "CONTRIBUTOR", "comments_url": "https://api.github.com/repos/mozilla/normandy/issues/1204/comments", "html_url": "https://github.com/mozilla/normandy/pull/1204", "updated_at": "2018-03-14T18:44:47Z", "user": {"following_url": "https://api.github.com/users/peterbe/following{/other_user}", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "organizations_url": "https://api.github.com/users/peterbe/orgs", "url": "https://api.github.com/users/peterbe", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "html_url": "https://github.com/peterbe", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "repos_url": "https://api.github.com/users/peterbe/repos", "received_events_url": "https://api.github.com/users/peterbe/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "site_admin": false, "login": "peterbe", "type": "User", "id": 26739, "followers_url": "https://api.github.com/users/peterbe/followers"}, "milestone": null, "locked": false, "url": "https://api.github.com/repos/mozilla/normandy/issues/1204", "created_at": "2018-03-07T20:55:53Z", "assignees": [{"following_url": "https://api.github.com/users/peterbe/following{/other_user}", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "organizations_url": "https://api.github.com/users/peterbe/orgs", "url": "https://api.github.com/users/peterbe", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "html_url": "https://github.com/peterbe", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "repos_url": "https://api.github.com/users/peterbe/repos", "received_events_url": "https://api.github.com/users/peterbe/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "site_admin": false, "login": "peterbe", "type": "User", "id": 26739, "followers_url": "https://api.github.com/users/peterbe/followers"}]}