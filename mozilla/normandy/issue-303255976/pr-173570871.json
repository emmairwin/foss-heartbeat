{"deletions": 22, "merge_commit_sha": "508c5f37beb4d4402902d7c7175c1d1956e027ae", "additions": 33, "labels": [], "number": 1204, "assignee": {"following_url": "https://api.github.com/users/peterbe/following{/other_user}", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "organizations_url": "https://api.github.com/users/peterbe/orgs", "url": "https://api.github.com/users/peterbe", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "html_url": "https://github.com/peterbe", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "repos_url": "https://api.github.com/users/peterbe/repos", "received_events_url": "https://api.github.com/users/peterbe/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "site_admin": false, "login": "peterbe", "type": "User", "id": 26739, "followers_url": "https://api.github.com/users/peterbe/followers"}, "mergeable": null, "closed_at": "2018-03-14T17:23:46Z", "requested_reviewers": [], "statuses_url": "https://api.github.com/repos/mozilla/normandy/statuses/508c5f37beb4d4402902d7c7175c1d1956e027ae", "id": 173570871, "maintainer_can_modify": false, "title": "Django 1.11.11", "body_text": "I don't know how else to test this. I started the server and clicked around a bit but I'm still not sure I know what I'm doing. At least the tests pass without and deprecation warnings we can immediately do something about:\n\u25b6 PYTHONWARNINGS=d pytest\n/Users/peterbe/virtualenvs/recipe-server/bin/../lib/python3.6/site.py:165: DeprecationWarning: 'U' mode is deprecated\n  f = open(fullname, \"rU\")\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/importlib/_bootstrap_external.py:426: ImportWarning: Not importing directory /Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/sphinxcontrib: missing __init__\n  _warnings.warn(msg.format(portions[0]), ImportWarning)\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/importlib/_bootstrap_external.py:426: ImportWarning: Not importing directory /Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/backports: missing __init__\n  _warnings.warn(msg.format(portions[0]), ImportWarning)\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/_pytest/assertion/rewrite.py:7: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\n  import imp\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_testrail/conftest.py:3: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .plugin import TestRailPlugin\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_testrail/conftest.py:4: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .testrail_api import APIClient\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:17: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .django_compat import is_django_unittest\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:18: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .fixtures import (_django_db_setup, _live_server_helper, admin_client,\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:10: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from . import live_server_helper\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/live_server_helper.py:3: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .lazy_django import get_django_version\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:11: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .db_reuse import (monkey_patch_creation_for_db_reuse,\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:13: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .django_compat import is_django_unittest\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:14: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .lazy_django import get_django_version, skip_if_no_django\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:22: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .lazy_django import django_settings_is_configured, skip_if_no_django\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:50: DeprecationWarning: type argument to addoption() is a string 'string'. For parsearg this should be a type. (options: ('--ds',))\n  help='Set DJANGO_SETTINGS_MODULE.')\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:53: DeprecationWarning: type argument to addoption() is a string 'string'. For parsearg this should be a type. (options: ('--dc',))\n  help='Set DJANGO_CONFIGURATION.')\n================================================================================================ test session starts ================================================================================================\nplatform darwin -- Python 3.6.4, pytest-3.0.2, py-1.4.31, pluggy-0.3.1\ndjango settings: normandy.settings (from ini file)\nrootdir: /Users/peterbe/dev/MOZILLA/NORMANDY/normandy/recipe-server, inifile: pytest.ini\nplugins: testrail-0.0.11, mock-0.11.0, django-2.9.1\ncollected 352 items\n\nnormandy/base/tests/test_api.py ....x..............\nnormandy/base/tests/test_auth_backends.py ...\nnormandy/base/tests/test_decorators.py ...\nnormandy/base/tests/test_middleware.py ....\nnormandy/base/tests/test_renderers.py .\nnormandy/base/tests/test_storage.py .....\nnormandy/base/tests/test_templatetags.py ..\nnormandy/base/tests/test_urls.py .\nnormandy/base/tests/test_utils.py ........\nnormandy/base/tests/test_views.py ..\nnormandy/control/tests/test_templatetags.py ..\nnormandy/health/tests/test_api.py ........\nnormandy/recipes/tests/test_admin.py ..\nnormandy/recipes/tests/test_checks.py ....\nnormandy/recipes/tests/test_commands.py ....................\nnormandy/recipes/tests/test_factories.py ...\nnormandy/recipes/tests/test_geolocation.py ....\nnormandy/recipes/tests/test_models.py ................................................\nnormandy/recipes/tests/test_signing.py ......................\nnormandy/recipes/tests/test_storage.py .\nnormandy/recipes/tests/test_utils.py .......\nnormandy/recipes/tests/test_validators.py .\nnormandy/recipes/tests/api/v1/test_api.py .........................................................................\nnormandy/recipes/tests/api/v1/test_serializers.py ..........\nnormandy/recipes/tests/api/v2/test_api.py ..................................................................\nnormandy/recipes/tests/api/v2/test_serializers.py ......\nnormandy/recipes/tests/api/v2/test_shield_identicon.py ...\nnormandy/selfrepair/tests/test_views.py ....\nnormandy/studies/tests/test_models.py .\nnormandy/studies/tests/api/v2/test_api.py ..................\nnormandy/studies/tests/api/v2/test_serializers.py .\n\n====================================================================================== 351 passed, 1 xfailed in 30.48 seconds =======================================================================================", "comments": 11, "merged_at": "2018-03-14T17:23:46Z", "state": "closed", "_links": {"review_comment": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments{/number}"}, "commits": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/1204/commits"}, "self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/1204"}, "review_comments": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/1204/comments"}, "html": {"href": "https://github.com/mozilla/normandy/pull/1204"}, "comments": {"href": "https://api.github.com/repos/mozilla/normandy/issues/1204/comments"}, "issue": {"href": "https://api.github.com/repos/mozilla/normandy/issues/1204"}, "statuses": {"href": "https://api.github.com/repos/mozilla/normandy/statuses/508c5f37beb4d4402902d7c7175c1d1956e027ae"}}, "changed_files": 9, "diff_url": "https://github.com/mozilla/normandy/pull/1204.diff", "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/1204", "body": "I don't know how else to test this. I started the server and clicked around a bit but I'm still not sure I know what I'm doing. At least the tests pass without and deprecation warnings *we* can immediately do something about:\r\n\r\n```\r\n\u25b6 PYTHONWARNINGS=d pytest\r\n/Users/peterbe/virtualenvs/recipe-server/bin/../lib/python3.6/site.py:165: DeprecationWarning: 'U' mode is deprecated\r\n  f = open(fullname, \"rU\")\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/importlib/_bootstrap_external.py:426: ImportWarning: Not importing directory /Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/sphinxcontrib: missing __init__\r\n  _warnings.warn(msg.format(portions[0]), ImportWarning)\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/importlib/_bootstrap_external.py:426: ImportWarning: Not importing directory /Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/backports: missing __init__\r\n  _warnings.warn(msg.format(portions[0]), ImportWarning)\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/_pytest/assertion/rewrite.py:7: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_testrail/conftest.py:3: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\r\n  from .plugin import TestRailPlugin\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_testrail/conftest.py:4: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\r\n  from .testrail_api import APIClient\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:17: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\r\n  from .django_compat import is_django_unittest\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:18: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\r\n  from .fixtures import (_django_db_setup, _live_server_helper, admin_client,\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:10: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\r\n  from . import live_server_helper\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/live_server_helper.py:3: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\r\n  from .lazy_django import get_django_version\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:11: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\r\n  from .db_reuse import (monkey_patch_creation_for_db_reuse,\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:13: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\r\n  from .django_compat import is_django_unittest\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:14: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\r\n  from .lazy_django import get_django_version, skip_if_no_django\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:22: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\r\n  from .lazy_django import django_settings_is_configured, skip_if_no_django\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:50: DeprecationWarning: type argument to addoption() is a string 'string'. For parsearg this should be a type. (options: ('--ds',))\r\n  help='Set DJANGO_SETTINGS_MODULE.')\r\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:53: DeprecationWarning: type argument to addoption() is a string 'string'. For parsearg this should be a type. (options: ('--dc',))\r\n  help='Set DJANGO_CONFIGURATION.')\r\n================================================================================================ test session starts ================================================================================================\r\nplatform darwin -- Python 3.6.4, pytest-3.0.2, py-1.4.31, pluggy-0.3.1\r\ndjango settings: normandy.settings (from ini file)\r\nrootdir: /Users/peterbe/dev/MOZILLA/NORMANDY/normandy/recipe-server, inifile: pytest.ini\r\nplugins: testrail-0.0.11, mock-0.11.0, django-2.9.1\r\ncollected 352 items\r\n\r\nnormandy/base/tests/test_api.py ....x..............\r\nnormandy/base/tests/test_auth_backends.py ...\r\nnormandy/base/tests/test_decorators.py ...\r\nnormandy/base/tests/test_middleware.py ....\r\nnormandy/base/tests/test_renderers.py .\r\nnormandy/base/tests/test_storage.py .....\r\nnormandy/base/tests/test_templatetags.py ..\r\nnormandy/base/tests/test_urls.py .\r\nnormandy/base/tests/test_utils.py ........\r\nnormandy/base/tests/test_views.py ..\r\nnormandy/control/tests/test_templatetags.py ..\r\nnormandy/health/tests/test_api.py ........\r\nnormandy/recipes/tests/test_admin.py ..\r\nnormandy/recipes/tests/test_checks.py ....\r\nnormandy/recipes/tests/test_commands.py ....................\r\nnormandy/recipes/tests/test_factories.py ...\r\nnormandy/recipes/tests/test_geolocation.py ....\r\nnormandy/recipes/tests/test_models.py ................................................\r\nnormandy/recipes/tests/test_signing.py ......................\r\nnormandy/recipes/tests/test_storage.py .\r\nnormandy/recipes/tests/test_utils.py .......\r\nnormandy/recipes/tests/test_validators.py .\r\nnormandy/recipes/tests/api/v1/test_api.py .........................................................................\r\nnormandy/recipes/tests/api/v1/test_serializers.py ..........\r\nnormandy/recipes/tests/api/v2/test_api.py ..................................................................\r\nnormandy/recipes/tests/api/v2/test_serializers.py ......\r\nnormandy/recipes/tests/api/v2/test_shield_identicon.py ...\r\nnormandy/selfrepair/tests/test_views.py ....\r\nnormandy/studies/tests/test_models.py .\r\nnormandy/studies/tests/api/v2/test_api.py ..................\r\nnormandy/studies/tests/api/v2/test_serializers.py .\r\n\r\n====================================================================================== 351 passed, 1 xfailed in 30.48 seconds =======================================================================================\r\n```", "head": {"repo": {"issues_url": "https://api.github.com/repos/peterbe/normandy/issues{/number}", "deployments_url": "https://api.github.com/repos/peterbe/normandy/deployments", "stargazers_count": 0, "forks_url": "https://api.github.com/repos/peterbe/normandy/forks", "mirror_url": null, "subscription_url": "https://api.github.com/repos/peterbe/normandy/subscription", "notifications_url": "https://api.github.com/repos/peterbe/normandy/notifications{?since,all,participating}", "collaborators_url": "https://api.github.com/repos/peterbe/normandy/collaborators{/collaborator}", "updated_at": "2018-02-08T20:32:17Z", "private": false, "pulls_url": "https://api.github.com/repos/peterbe/normandy/pulls{/number}", "issue_comment_url": "https://api.github.com/repos/peterbe/normandy/issues/comments{/number}", "labels_url": "https://api.github.com/repos/peterbe/normandy/labels{/name}", "has_wiki": false, "full_name": "peterbe/normandy", "owner": {"following_url": "https://api.github.com/users/peterbe/following{/other_user}", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "organizations_url": "https://api.github.com/users/peterbe/orgs", "url": "https://api.github.com/users/peterbe", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "html_url": "https://github.com/peterbe", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "repos_url": "https://api.github.com/users/peterbe/repos", "received_events_url": "https://api.github.com/users/peterbe/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "site_admin": false, "login": "peterbe", "type": "User", "id": 26739, "followers_url": "https://api.github.com/users/peterbe/followers"}, "statuses_url": "https://api.github.com/repos/peterbe/normandy/statuses/{sha}", "id": 120814443, "keys_url": "https://api.github.com/repos/peterbe/normandy/keys{/key_id}", "description": "Firefox recipe server", "tags_url": "https://api.github.com/repos/peterbe/normandy/tags", "archived": false, "downloads_url": "https://api.github.com/repos/peterbe/normandy/downloads", "assignees_url": "https://api.github.com/repos/peterbe/normandy/assignees{/user}", "contents_url": "https://api.github.com/repos/peterbe/normandy/contents/{+path}", "has_pages": false, "git_refs_url": "https://api.github.com/repos/peterbe/normandy/git/refs{/sha}", "open_issues_count": 0, "has_projects": true, "clone_url": "https://github.com/peterbe/normandy.git", "watchers_count": 0, "git_tags_url": "https://api.github.com/repos/peterbe/normandy/git/tags{/sha}", "milestones_url": "https://api.github.com/repos/peterbe/normandy/milestones{/number}", "languages_url": "https://api.github.com/repos/peterbe/normandy/languages", "size": 5995, "homepage": "https://wiki.mozilla.org/Firefox/Recipe_Server", "fork": true, "commits_url": "https://api.github.com/repos/peterbe/normandy/commits{/sha}", "releases_url": "https://api.github.com/repos/peterbe/normandy/releases{/id}", "issue_events_url": "https://api.github.com/repos/peterbe/normandy/issues/events{/number}", "archive_url": "https://api.github.com/repos/peterbe/normandy/{archive_format}{/ref}", "comments_url": "https://api.github.com/repos/peterbe/normandy/comments{/number}", "events_url": "https://api.github.com/repos/peterbe/normandy/events", "contributors_url": "https://api.github.com/repos/peterbe/normandy/contributors", "html_url": "https://github.com/peterbe/normandy", "forks": 0, "compare_url": "https://api.github.com/repos/peterbe/normandy/compare/{base}...{head}", "open_issues": 0, "watchers": 0, "git_url": "git://github.com/peterbe/normandy.git", "svn_url": "https://github.com/peterbe/normandy", "merges_url": "https://api.github.com/repos/peterbe/normandy/merges", "has_issues": false, "ssh_url": "git@github.com:peterbe/normandy.git", "blobs_url": "https://api.github.com/repos/peterbe/normandy/git/blobs{/sha}", "git_commits_url": "https://api.github.com/repos/peterbe/normandy/git/commits{/sha}", "hooks_url": "https://api.github.com/repos/peterbe/normandy/hooks", "has_downloads": true, "license": null, "name": "normandy", "language": "Python", "url": "https://api.github.com/repos/peterbe/normandy", "created_at": "2018-02-08T20:32:14Z", "pushed_at": "2018-03-14T18:44:47Z", "forks_count": 0, "default_branch": "master", "teams_url": "https://api.github.com/repos/peterbe/normandy/teams", "trees_url": "https://api.github.com/repos/peterbe/normandy/git/trees{/sha}", "branches_url": "https://api.github.com/repos/peterbe/normandy/branches{/branch}", "subscribers_url": "https://api.github.com/repos/peterbe/normandy/subscribers", "stargazers_url": "https://api.github.com/repos/peterbe/normandy/stargazers"}, "sha": "508c5f37beb4d4402902d7c7175c1d1956e027ae", "ref": "ddjango-11111", "user": {"following_url": "https://api.github.com/users/peterbe/following{/other_user}", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "organizations_url": "https://api.github.com/users/peterbe/orgs", "url": "https://api.github.com/users/peterbe", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "html_url": "https://github.com/peterbe", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "repos_url": "https://api.github.com/users/peterbe/repos", "received_events_url": "https://api.github.com/users/peterbe/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "site_admin": false, "login": "peterbe", "type": "User", "id": 26739, "followers_url": "https://api.github.com/users/peterbe/followers"}, "label": "peterbe:ddjango-11111"}, "commits_url": "https://api.github.com/repos/mozilla/normandy/pulls/1204/commits", "commits": 4, "author_association": "CONTRIBUTOR", "comments_url": "https://api.github.com/repos/mozilla/normandy/issues/1204/comments", "html_url": "https://github.com/mozilla/normandy/pull/1204", "rebaseable": null, "updated_at": "2018-03-14T18:44:47Z", "base": {"repo": {"issues_url": "https://api.github.com/repos/mozilla/normandy/issues{/number}", "deployments_url": "https://api.github.com/repos/mozilla/normandy/deployments", "stargazers_count": 24, "forks_url": "https://api.github.com/repos/mozilla/normandy/forks", "mirror_url": null, "subscription_url": "https://api.github.com/repos/mozilla/normandy/subscription", "notifications_url": "https://api.github.com/repos/mozilla/normandy/notifications{?since,all,participating}", "collaborators_url": "https://api.github.com/repos/mozilla/normandy/collaborators{/collaborator}", "updated_at": "2018-03-14T22:20:49Z", "private": false, "pulls_url": "https://api.github.com/repos/mozilla/normandy/pulls{/number}", "issue_comment_url": "https://api.github.com/repos/mozilla/normandy/issues/comments{/number}", "labels_url": "https://api.github.com/repos/mozilla/normandy/labels{/name}", "has_wiki": false, "full_name": "mozilla/normandy", "owner": {"following_url": "https://api.github.com/users/mozilla/following{/other_user}", "events_url": "https://api.github.com/users/mozilla/events{/privacy}", "organizations_url": "https://api.github.com/users/mozilla/orgs", "url": "https://api.github.com/users/mozilla", "gists_url": "https://api.github.com/users/mozilla/gists{/gist_id}", "html_url": "https://github.com/mozilla", "subscriptions_url": "https://api.github.com/users/mozilla/subscriptions", "avatar_url": "https://avatars2.githubusercontent.com/u/131524?v=4", "repos_url": "https://api.github.com/users/mozilla/repos", "received_events_url": "https://api.github.com/users/mozilla/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mozilla/starred{/owner}{/repo}", "site_admin": false, "login": "mozilla", "type": "Organization", "id": 131524, "followers_url": "https://api.github.com/users/mozilla/followers"}, "statuses_url": "https://api.github.com/repos/mozilla/normandy/statuses/{sha}", "id": 48456638, "keys_url": "https://api.github.com/repos/mozilla/normandy/keys{/key_id}", "description": "Firefox recipe server", "tags_url": "https://api.github.com/repos/mozilla/normandy/tags", "archived": false, "downloads_url": "https://api.github.com/repos/mozilla/normandy/downloads", "assignees_url": "https://api.github.com/repos/mozilla/normandy/assignees{/user}", "contents_url": "https://api.github.com/repos/mozilla/normandy/contents/{+path}", "has_pages": false, "git_refs_url": "https://api.github.com/repos/mozilla/normandy/git/refs{/sha}", "open_issues_count": 73, "has_projects": true, "clone_url": "https://github.com/mozilla/normandy.git", "watchers_count": 24, "git_tags_url": "https://api.github.com/repos/mozilla/normandy/git/tags{/sha}", "milestones_url": "https://api.github.com/repos/mozilla/normandy/milestones{/number}", "languages_url": "https://api.github.com/repos/mozilla/normandy/languages", "size": 6015, "homepage": "https://wiki.mozilla.org/Firefox/Recipe_Server", "fork": false, "commits_url": "https://api.github.com/repos/mozilla/normandy/commits{/sha}", "releases_url": "https://api.github.com/repos/mozilla/normandy/releases{/id}", "issue_events_url": "https://api.github.com/repos/mozilla/normandy/issues/events{/number}", "archive_url": "https://api.github.com/repos/mozilla/normandy/{archive_format}{/ref}", "comments_url": "https://api.github.com/repos/mozilla/normandy/comments{/number}", "events_url": "https://api.github.com/repos/mozilla/normandy/events", "contributors_url": "https://api.github.com/repos/mozilla/normandy/contributors", "html_url": "https://github.com/mozilla/normandy", "forks": 39, "compare_url": "https://api.github.com/repos/mozilla/normandy/compare/{base}...{head}", "open_issues": 73, "watchers": 24, "git_url": "git://github.com/mozilla/normandy.git", "svn_url": "https://github.com/mozilla/normandy", "merges_url": "https://api.github.com/repos/mozilla/normandy/merges", "has_issues": true, "ssh_url": "git@github.com:mozilla/normandy.git", "blobs_url": "https://api.github.com/repos/mozilla/normandy/git/blobs{/sha}", "git_commits_url": "https://api.github.com/repos/mozilla/normandy/git/commits{/sha}", "hooks_url": "https://api.github.com/repos/mozilla/normandy/hooks", "has_downloads": true, "license": null, "name": "normandy", "language": "Python", "url": "https://api.github.com/repos/mozilla/normandy", "created_at": "2015-12-22T22:18:19Z", "pushed_at": "2018-03-14T22:20:47Z", "forks_count": 39, "default_branch": "master", "teams_url": "https://api.github.com/repos/mozilla/normandy/teams", "trees_url": "https://api.github.com/repos/mozilla/normandy/git/trees{/sha}", "branches_url": "https://api.github.com/repos/mozilla/normandy/branches{/branch}", "subscribers_url": "https://api.github.com/repos/mozilla/normandy/subscribers", "stargazers_url": "https://api.github.com/repos/mozilla/normandy/stargazers"}, "sha": "1f51f6d7af21814e9ac60e7411306ddd22adda20", "ref": "master", "user": {"following_url": "https://api.github.com/users/mozilla/following{/other_user}", "events_url": "https://api.github.com/users/mozilla/events{/privacy}", "organizations_url": "https://api.github.com/users/mozilla/orgs", "url": "https://api.github.com/users/mozilla", "gists_url": "https://api.github.com/users/mozilla/gists{/gist_id}", "html_url": "https://github.com/mozilla", "subscriptions_url": "https://api.github.com/users/mozilla/subscriptions", "avatar_url": "https://avatars2.githubusercontent.com/u/131524?v=4", "repos_url": "https://api.github.com/users/mozilla/repos", "received_events_url": "https://api.github.com/users/mozilla/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mozilla/starred{/owner}{/repo}", "site_admin": false, "login": "mozilla", "type": "Organization", "id": 131524, "followers_url": "https://api.github.com/users/mozilla/followers"}, "label": "mozilla:master"}, "user": {"following_url": "https://api.github.com/users/peterbe/following{/other_user}", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "organizations_url": "https://api.github.com/users/peterbe/orgs", "url": "https://api.github.com/users/peterbe", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "html_url": "https://github.com/peterbe", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "repos_url": "https://api.github.com/users/peterbe/repos", "received_events_url": "https://api.github.com/users/peterbe/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "site_admin": false, "login": "peterbe", "type": "User", "id": 26739, "followers_url": "https://api.github.com/users/peterbe/followers"}, "milestone": null, "requested_teams": [], "locked": false, "merged_by": {"following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "url": "https://api.github.com/users/bors%5Bbot%5D", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "html_url": "https://github.com/apps/bors", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/in/1847?v=4", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "site_admin": false, "login": "bors[bot]", "type": "Bot", "id": 26634292, "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers"}, "url": "https://api.github.com/repos/mozilla/normandy/pulls/1204", "mergeable_state": "unknown", "created_at": "2018-03-07T20:55:53Z", "merged": true, "review_comments_url": "https://api.github.com/repos/mozilla/normandy/pulls/1204/comments", "review_comments": 0, "assignees": [{"following_url": "https://api.github.com/users/peterbe/following{/other_user}", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "organizations_url": "https://api.github.com/users/peterbe/orgs", "url": "https://api.github.com/users/peterbe", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "html_url": "https://github.com/peterbe", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "repos_url": "https://api.github.com/users/peterbe/repos", "received_events_url": "https://api.github.com/users/peterbe/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "site_admin": false, "login": "peterbe", "type": "User", "id": 26739, "followers_url": "https://api.github.com/users/peterbe/followers"}], "review_comment_url": "https://api.github.com/repos/mozilla/normandy/pulls/comments{/number}", "patch_url": "https://github.com/mozilla/normandy/pull/1204.patch", "body_html": "<p>I don't know how else to test this. I started the server and clicked around a bit but I'm still not sure I know what I'm doing. At least the tests pass without and deprecation warnings <em>we</em> can immediately do something about:</p>\n<pre><code>\u25b6 PYTHONWARNINGS=d pytest\n/Users/peterbe/virtualenvs/recipe-server/bin/../lib/python3.6/site.py:165: DeprecationWarning: 'U' mode is deprecated\n  f = open(fullname, \"rU\")\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/importlib/_bootstrap_external.py:426: ImportWarning: Not importing directory /Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/sphinxcontrib: missing __init__\n  _warnings.warn(msg.format(portions[0]), ImportWarning)\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/importlib/_bootstrap_external.py:426: ImportWarning: Not importing directory /Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/backports: missing __init__\n  _warnings.warn(msg.format(portions[0]), ImportWarning)\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/_pytest/assertion/rewrite.py:7: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\n  import imp\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_testrail/conftest.py:3: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .plugin import TestRailPlugin\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_testrail/conftest.py:4: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .testrail_api import APIClient\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:17: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .django_compat import is_django_unittest\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:18: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .fixtures import (_django_db_setup, _live_server_helper, admin_client,\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:10: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from . import live_server_helper\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/live_server_helper.py:3: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .lazy_django import get_django_version\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:11: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .db_reuse import (monkey_patch_creation_for_db_reuse,\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:13: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .django_compat import is_django_unittest\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/fixtures.py:14: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .lazy_django import get_django_version, skip_if_no_django\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:22: ImportWarning: can't resolve package from __spec__ or __package__, falling back on __name__ and __path__\n  from .lazy_django import django_settings_is_configured, skip_if_no_django\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:50: DeprecationWarning: type argument to addoption() is a string 'string'. For parsearg this should be a type. (options: ('--ds',))\n  help='Set DJANGO_SETTINGS_MODULE.')\n/Users/peterbe/virtualenvs/recipe-server/lib/python3.6/site-packages/pytest_django/plugin.py:53: DeprecationWarning: type argument to addoption() is a string 'string'. For parsearg this should be a type. (options: ('--dc',))\n  help='Set DJANGO_CONFIGURATION.')\n================================================================================================ test session starts ================================================================================================\nplatform darwin -- Python 3.6.4, pytest-3.0.2, py-1.4.31, pluggy-0.3.1\ndjango settings: normandy.settings (from ini file)\nrootdir: /Users/peterbe/dev/MOZILLA/NORMANDY/normandy/recipe-server, inifile: pytest.ini\nplugins: testrail-0.0.11, mock-0.11.0, django-2.9.1\ncollected 352 items\n\nnormandy/base/tests/test_api.py ....x..............\nnormandy/base/tests/test_auth_backends.py ...\nnormandy/base/tests/test_decorators.py ...\nnormandy/base/tests/test_middleware.py ....\nnormandy/base/tests/test_renderers.py .\nnormandy/base/tests/test_storage.py .....\nnormandy/base/tests/test_templatetags.py ..\nnormandy/base/tests/test_urls.py .\nnormandy/base/tests/test_utils.py ........\nnormandy/base/tests/test_views.py ..\nnormandy/control/tests/test_templatetags.py ..\nnormandy/health/tests/test_api.py ........\nnormandy/recipes/tests/test_admin.py ..\nnormandy/recipes/tests/test_checks.py ....\nnormandy/recipes/tests/test_commands.py ....................\nnormandy/recipes/tests/test_factories.py ...\nnormandy/recipes/tests/test_geolocation.py ....\nnormandy/recipes/tests/test_models.py ................................................\nnormandy/recipes/tests/test_signing.py ......................\nnormandy/recipes/tests/test_storage.py .\nnormandy/recipes/tests/test_utils.py .......\nnormandy/recipes/tests/test_validators.py .\nnormandy/recipes/tests/api/v1/test_api.py .........................................................................\nnormandy/recipes/tests/api/v1/test_serializers.py ..........\nnormandy/recipes/tests/api/v2/test_api.py ..................................................................\nnormandy/recipes/tests/api/v2/test_serializers.py ......\nnormandy/recipes/tests/api/v2/test_shield_identicon.py ...\nnormandy/selfrepair/tests/test_views.py ....\nnormandy/studies/tests/test_models.py .\nnormandy/studies/tests/api/v2/test_api.py ..................\nnormandy/studies/tests/api/v2/test_serializers.py .\n\n====================================================================================== 351 passed, 1 xfailed in 30.48 seconds =======================================================================================\n</code></pre>"}