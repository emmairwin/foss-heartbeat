{"original_position": 58, "diff_hunk": "@@ -373,6 +393,52 @@ def save(self, *args, **kwargs):\n         self.implementation_hash = self.compute_implementation_hash()\n         super().save(update_fields=['implementation_hash'])\n \n+    def validate_arguments(self, arguments, old_arguments=None):\n+        \"\"\"\n+        Test if `arguments` follows all action-specific rules.\n+\n+        If there is a previous version of the arguments, they should\n+        be passed as `old_arguments`. Some validation rules depend on\n+        the history of the arguments.", "body_text": "We can't use the dirty mixin because Recipe doesn't store any data. All the data is in revisions, which don't change over time. Given that, it made more sense for Action instances to validate their own arguments.", "in_reply_to_id": 109982361, "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/651", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/109987088", "created_at": "2017-04-05T18:04:56Z", "author_association": "MEMBER", "body": "We can't use the dirty mixin because `Recipe` doesn't store any data. All the data is in revisions, which don't change over time. Given that, it made more sense for `Action` instances to validate their own arguments. ", "updated_at": "2017-04-05T19:18:07Z", "html_url": "https://github.com/mozilla/normandy/pull/651#discussion_r109987088", "pull_request_review_id": 31125518, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/109987088"}, "html": {"href": "https://github.com/mozilla/normandy/pull/651#discussion_r109987088"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/651"}}, "commit_id": "4ed398312e1e920bb331944c0d17a5a6bfe0f7cb", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "position": 58, "path": "recipe-server/normandy/recipes/models.py", "body_html": "<p>We can't use the dirty mixin because <code>Recipe</code> doesn't store any data. All the data is in revisions, which don't change over time. Given that, it made more sense for <code>Action</code> instances to validate their own arguments.</p>", "original_commit_id": "3156262a8a71d5325f513b187bfe89c032f2490d", "id": 109987088}