{"original_position": 31, "diff_hunk": "@@ -0,0 +1,52 @@\n+import pytest\n+\n+from normandy.base.templatetags.normandy_webpack_loader import render_bundle\n+\n+\n+class TestRenderBundle(object):\n+    @pytest.fixture\n+    def js_file(self, tmpdir):\n+        js_file = tmpdir.join('file.js')\n+        js_file.write('console.log(\"test\");')\n+        return js_file\n+\n+    @pytest.fixture\n+    def css_file(self, tmpdir):\n+        css_file = tmpdir.join('file.css')\n+        css_file.write('html { padding: 10px; }')\n+        return css_file\n+\n+    @pytest.fixture\n+    def mock_get_files(self, mocker, js_file, css_file):\n+        get_files = mocker.patch('normandy.base.templatetags.normandy_webpack_loader.get_files')\n+        get_files.return_value = [\n+            {'path': js_file.strpath, 'name': 'file.js', 'url': 'file.js'},\n+            {'path': css_file.strpath, 'name': 'file.css', 'url': 'file.css'},\n+        ]\n+        return get_files\n+\n+    @pytest.fixture\n+    def mock_sri_hash(self, mocker):\n+        sri_hash = mocker.patch('normandy.base.templatetags.normandy_webpack_loader.sri_hash')\n+        sri_hash.return_value = 'mock-hash'", "body_text": "Definitely agree with @mythmon here.", "in_reply_to_id": 100927485, "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/511", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/101046324", "created_at": "2017-02-14T14:31:10Z", "author_association": "CONTRIBUTOR", "body": "Definitely agree with @mythmon here.", "updated_at": "2017-03-01T04:25:09Z", "html_url": "https://github.com/mozilla/normandy/pull/511#discussion_r101046324", "pull_request_review_id": 21764562, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/101046324"}, "html": {"href": "https://github.com/mozilla/normandy/pull/511#discussion_r101046324"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/511"}}, "commit_id": "c5c692270b79fec4d334f8154b237826011b9307", "user": {"following_url": "https://api.github.com/users/chartjes/following{/other_user}", "events_url": "https://api.github.com/users/chartjes/events{/privacy}", "organizations_url": "https://api.github.com/users/chartjes/orgs", "url": "https://api.github.com/users/chartjes", "gists_url": "https://api.github.com/users/chartjes/gists{/gist_id}", "html_url": "https://github.com/chartjes", "subscriptions_url": "https://api.github.com/users/chartjes/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/28321?v=4", "repos_url": "https://api.github.com/users/chartjes/repos", "received_events_url": "https://api.github.com/users/chartjes/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/chartjes/starred{/owner}{/repo}", "site_admin": false, "login": "chartjes", "type": "User", "id": 28321, "followers_url": "https://api.github.com/users/chartjes/followers"}, "position": null, "path": "recipe-server/normandy/base/tests/test_templatetags.py", "body_html": "<p>Definitely agree with <a class=\"user-mention\" href=\"https://github.com/mythmon\">@mythmon</a> here.</p>", "original_commit_id": "af6cb1eb663c174f8cfac0fcf6761f1d8014d21b", "id": 101046324}