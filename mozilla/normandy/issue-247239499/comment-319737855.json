{"body": "> Looks good, but for my sanity, can you explain in a comment on the github PR why the original test didn't fail? Naively, that looks like it was calling studies.get from inside the sandbox, which I would expect to fail?\r\n\r\nIt's `AddonStudies.start` that had the binding bug, since it calls `this.downloadAddonToTemporaryFile`. And that's what we weren't calling in the test. `AddonStudies.get` doesn't use `this` at all.", "body_text": "Looks good, but for my sanity, can you explain in a comment on the github PR why the original test didn't fail? Naively, that looks like it was calling studies.get from inside the sandbox, which I would expect to fail?\n\nIt's AddonStudies.start that had the binding bug, since it calls this.downloadAddonToTemporaryFile. And that's what we weren't calling in the test. AddonStudies.get doesn't use this at all.", "url": "https://api.github.com/repos/mozilla/normandy/issues/comments/319737855", "created_at": "2017-08-02T17:13:28Z", "author_association": "MEMBER", "html_url": "https://github.com/mozilla/normandy/pull/948#issuecomment-319737855", "updated_at": "2017-08-02T17:13:53Z", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "body_html": "<blockquote>\n<p>Looks good, but for my sanity, can you explain in a comment on the github PR why the original test didn't fail? Naively, that looks like it was calling studies.get from inside the sandbox, which I would expect to fail?</p>\n</blockquote>\n<p>It's <code>AddonStudies.start</code> that had the binding bug, since it calls <code>this.downloadAddonToTemporaryFile</code>. And that's what we weren't calling in the test. <code>AddonStudies.get</code> doesn't use <code>this</code> at all.</p>", "id": 319737855, "issue_url": "https://api.github.com/repos/mozilla/normandy/issues/948"}