{"body_text": "Checks generally need to be resilient to the DB being down so that the heartbeat page works when the DB is down. This makes the migration check do that.\nWhen we figure out how to run the checks in CI, we should make them test this case too.\n@Osmose r?", "labels": [], "number": 71, "assignee": null, "repository_url": "https://api.github.com/repos/mozilla/normandy", "closed_at": "2016-03-14T19:52:19Z", "body_html": "<p>Checks generally need to be resilient to the DB being down so that the heartbeat page works when the DB is down. This makes the migration check do that.</p>\n<p>When we figure out how to run the checks in CI, we should make them test this case too.</p>\n<p><a class=\"user-mention\" href=\"https://github.com/osmose\">@Osmose</a> r?</p>", "id": 140743645, "title": "Make migration check catch db errors", "pull_request": {"url": "https://api.github.com/repos/mozilla/normandy/pulls/71", "diff_url": "https://github.com/mozilla/normandy/pull/71.diff", "html_url": "https://github.com/mozilla/normandy/pull/71", "patch_url": "https://github.com/mozilla/normandy/pull/71.patch"}, "comments": 1, "state": "closed", "body": "Checks generally need to be resilient to the DB being down so that the heartbeat page works when the DB is down. This makes the migration check do that.\n\nWhen we figure out how to run the checks in CI, we should make them test this case too.\n\n@Osmose r?\n", "events_url": "https://api.github.com/repos/mozilla/normandy/issues/71/events", "labels_url": "https://api.github.com/repos/mozilla/normandy/issues/71/labels{/name}", "author_association": "MEMBER", "comments_url": "https://api.github.com/repos/mozilla/normandy/issues/71/comments", "html_url": "https://github.com/mozilla/normandy/pull/71", "updated_at": "2016-03-14T19:52:19Z", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "milestone": null, "locked": false, "url": "https://api.github.com/repos/mozilla/normandy/issues/71", "created_at": "2016-03-14T17:36:47Z", "assignees": []}