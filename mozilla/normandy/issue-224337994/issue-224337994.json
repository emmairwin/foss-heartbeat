{"body_text": "A try build of master synced to mozilla-central failed with this message in the logs:\n[task 2017-04-26T02:30:53.854588Z] 02:30:53     INFO -  ERROR: The following duplicated files are not allowed:\n[task 2017-04-26T02:30:53.854756Z] 02:30:53     INFO -  browser/features/shield-recipe-client@mozilla.org/bootstrap.js\n[task 2017-04-26T02:30:53.854935Z] 02:30:53     INFO -  browser/features/shield-recipe-client@mozilla.org/chrome/content/bootstrap.js\n[task 2017-04-26T02:30:53.855123Z] 02:30:53     INFO -  /home/worker/workspace/build/src/toolkit/mozapps/installer/packager.mk:39: recipe for target 'stage-package' failed\n[task 2017-04-26T02:30:53.855274Z] 02:30:53     INFO -  gmake[7]: *** [stage-package] Error 1\n\nLooks like this is related to my changes to jar.mn. I made that change so that bootstrap.js could be imported during tests. Apparently the step that finds and eliminates duplicates isn't being run during our TC builds; I can't find anything about it in the logs.\n@gijsk Tomorrow I'm going to try and read up on the build system so I can understand what jar.mn actually does (I get that it helps build a jarfile, but I dunno what that jarfile is used for, or how it relates to system add-ons). If you have any links to useful docs, or any ideas on how to fix this failure, I'd appreciate it. :D", "labels": [{"url": "https://api.github.com/repos/mozilla/normandy/labels/bug", "color": "b60205", "default": true, "id": 482996638, "name": "bug"}], "number": 718, "assignee": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "repository_url": "https://api.github.com/repos/mozilla/normandy", "closed_at": "2017-04-27T18:14:44Z", "body_html": "<p>A <a href=\"https://treeherder.mozilla.org/#/jobs?repo=try&amp;revision=cf86a39cdddd3f8915d4fcbf4f185b453e2c2275&amp;selectedJob=94368141\" rel=\"nofollow\">try build</a> of master synced to mozilla-central failed with this message in the logs:</p>\n<pre><code>[task 2017-04-26T02:30:53.854588Z] 02:30:53     INFO -  ERROR: The following duplicated files are not allowed:\n[task 2017-04-26T02:30:53.854756Z] 02:30:53     INFO -  browser/features/shield-recipe-client@mozilla.org/bootstrap.js\n[task 2017-04-26T02:30:53.854935Z] 02:30:53     INFO -  browser/features/shield-recipe-client@mozilla.org/chrome/content/bootstrap.js\n[task 2017-04-26T02:30:53.855123Z] 02:30:53     INFO -  /home/worker/workspace/build/src/toolkit/mozapps/installer/packager.mk:39: recipe for target 'stage-package' failed\n[task 2017-04-26T02:30:53.855274Z] 02:30:53     INFO -  gmake[7]: *** [stage-package] Error 1\n</code></pre>\n<p>Looks like this is related to <a href=\"https://github.com/mozilla/normandy/commit/3e09dcea8fbeb336e1590b6d0fcd3f78348e3535#diff-7f782ee3d7cb6ae1101b946a214af6fc\">my changes to jar.mn</a>. I made that change so that <code>bootstrap.js</code> could be imported during tests. Apparently the step that finds and eliminates duplicates isn't being run during our TC builds; I can't find anything about it in the logs.</p>\n<p><a class=\"user-mention\" href=\"https://github.com/gijsk\">@gijsk</a> Tomorrow I'm going to try and read up on the build system so I can understand what jar.mn actually does (I get that it helps build a jarfile, but I dunno what that jarfile is used for, or how it relates to system add-ons). If you have any links to useful docs, or any ideas on how to fix this failure, I'd appreciate it. :D</p>", "id": 224337994, "title": "Try build fails due to duplicate bootstrap.js", "comments": 1, "state": "closed", "body": "A [try build](https://treeherder.mozilla.org/#/jobs?repo=try&revision=cf86a39cdddd3f8915d4fcbf4f185b453e2c2275&selectedJob=94368141) of master synced to mozilla-central failed with this message in the logs:\r\n\r\n```\r\n[task 2017-04-26T02:30:53.854588Z] 02:30:53     INFO -  ERROR: The following duplicated files are not allowed:\r\n[task 2017-04-26T02:30:53.854756Z] 02:30:53     INFO -  browser/features/shield-recipe-client@mozilla.org/bootstrap.js\r\n[task 2017-04-26T02:30:53.854935Z] 02:30:53     INFO -  browser/features/shield-recipe-client@mozilla.org/chrome/content/bootstrap.js\r\n[task 2017-04-26T02:30:53.855123Z] 02:30:53     INFO -  /home/worker/workspace/build/src/toolkit/mozapps/installer/packager.mk:39: recipe for target 'stage-package' failed\r\n[task 2017-04-26T02:30:53.855274Z] 02:30:53     INFO -  gmake[7]: *** [stage-package] Error 1\r\n```\r\n\r\nLooks like this is related to [my changes to jar.mn](https://github.com/mozilla/normandy/commit/3e09dcea8fbeb336e1590b6d0fcd3f78348e3535#diff-7f782ee3d7cb6ae1101b946a214af6fc). I made that change so that `bootstrap.js` could be imported during tests. Apparently the step that finds and eliminates duplicates isn't being run during our TC builds; I can't find anything about it in the logs.\r\n\r\n@gijsk Tomorrow I'm going to try and read up on the build system so I can understand what jar.mn actually does (I get that it helps build a jarfile, but I dunno what that jarfile is used for, or how it relates to system add-ons). If you have any links to useful docs, or any ideas on how to fix this failure, I'd appreciate it. :D", "events_url": "https://api.github.com/repos/mozilla/normandy/issues/718/events", "labels_url": "https://api.github.com/repos/mozilla/normandy/issues/718/labels{/name}", "author_association": "MEMBER", "comments_url": "https://api.github.com/repos/mozilla/normandy/issues/718/comments", "html_url": "https://github.com/mozilla/normandy/issues/718", "updated_at": "2018-01-30T17:40:34Z", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "milestone": null, "locked": false, "url": "https://api.github.com/repos/mozilla/normandy/issues/718", "created_at": "2017-04-26T04:06:41Z", "assignees": [{"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}]}