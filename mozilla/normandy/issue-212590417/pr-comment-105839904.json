{"original_position": 55, "diff_hunk": "@@ -0,0 +1,234 @@\n+import React, { PropTypes as pt } from 'react';\n+\n+export default class MultiPicker extends React.Component {\n+  static propTypes = {\n+    unit: pt.string.isRequired,\n+    plural: pt.string.isRequired,\n+    options: pt.array,\n+    // from redux-form\n+    value: pt.oneOfType([pt.array, pt.string]),\n+    onChange: pt.func,\n+  };\n+\n+  static getActiveSelectOptions({ options }) {\n+    if (!options) {\n+      return [];\n+    }\n+\n+    const selected = [];\n+    for (let i = 0; i < options.length; i++) {\n+      if (options[i].selected) {\n+        selected.push(options[i].value);\n+      }\n+    }\n+\n+    return selected.filter(x => x);\n+  }\n+\n+  constructor(props) {\n+    super(props);\n+    this.state = {\n+      filterText: null,\n+    };\n+\n+    this.handleApplyOption = ::this.handleApplyOption;\n+    this.handleRemoveOption = ::this.handleRemoveOption;\n+    this.onTextChange = ::this.onTextChange;\n+    this.convertValueToObj = ::this.convertValueToObj;\n+  }\n+\n+  onTextChange(event) {\n+    const { value } = event.target;\n+\n+    this.setState({\n+      filterText: value,\n+    });\n+  }\n+\n+  getDisplayedOptions() {\n+    const {\n+      options = [],\n+      value,\n+    } = this.props;\n+\n+    const selectedOptions = options.filter(option =>\n+      value.indexOf(option.value) === -1);", "body_text": "It's a bit hard for me to read some of these lines that are split like this (the functions, the variable unpacking, etc.). I think our eslint config uses 100 characters for the line length, so we should have plenty of room to keep this on one line.\nAlternatively, we could split up the line like this:\nconst selectedOptions = options.filter(\n  option => value.indexOf(option.value) === -1\n);", "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/595", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/105839904", "created_at": "2017-03-14T07:19:58Z", "author_association": "MEMBER", "body": "It's a bit hard for me to read some of these lines that are split like this (the functions, the variable unpacking, etc.). I think our eslint config uses 100 characters for the line length, so we should have plenty of room to keep this on one line.\r\n\r\nAlternatively, we could split up the line like this:\r\n\r\n```js\r\nconst selectedOptions = options.filter(\r\n  option => value.indexOf(option.value) === -1\r\n);\r\n```", "updated_at": "2017-04-17T18:39:15Z", "html_url": "https://github.com/mozilla/normandy/pull/595#discussion_r105839904", "pull_request_review_id": 26681945, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/105839904"}, "html": {"href": "https://github.com/mozilla/normandy/pull/595#discussion_r105839904"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/595"}}, "commit_id": "4fa35e564b9c52cef07a720371a94f5cd0e1de76", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "position": null, "path": "recipe-server/client/control/components/MultiPicker.js", "body_html": "<p>It's a bit hard for me to read some of these lines that are split like this (the functions, the variable unpacking, etc.). I think our eslint config uses 100 characters for the line length, so we should have plenty of room to keep this on one line.</p>\n<p>Alternatively, we could split up the line like this:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-c1\">selectedOptions</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">options</span>.<span class=\"pl-en\">filter</span>(\n  <span class=\"pl-smi\">option</span> <span class=\"pl-k\">=&gt;</span> <span class=\"pl-smi\">value</span>.<span class=\"pl-c1\">indexOf</span>(<span class=\"pl-smi\">option</span>.<span class=\"pl-c1\">value</span>) <span class=\"pl-k\">===</span> <span class=\"pl-k\">-</span><span class=\"pl-c1\">1</span>\n);</pre></div>", "original_commit_id": "06e1a003b7df1c373c774e52b1bb31eaeb7234ed", "id": 105839904}