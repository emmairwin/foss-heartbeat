{"original_position": 40, "diff_hunk": "@@ -128,3 +127,38 @@ export const getAvailableFilters = state =>\n  */\n export const isFilteringActive = state =>\n   getActiveFilterOptions(state).length > 0;\n+\n+/**\n+ * Given a specific filter slug, returns only that\n+ * filter group.\n+ *\n+ * @param  {Array<Object>} groups All filter groups\n+ * @param  {String}        slug   Slug of specific group to pull\n+ * @return {Object}               Found group object (or `undefined`)\n+ */\n+export const getFilterGroup = (groups, slug) =>\n+  [].concat(groups)\n+    .map(group => ({ ...group }))\n+    .filter(group => group.value === slug).pop();\n+\n+/**\n+ * Get all filters as an object keyed on their slug\n+ *\n+ * @param  {Array<Object>} groups All filter groups\n+ * @return {Object}               Object of filters keyed by their slug\n+ */\n+export const getFilterObject = groups => {", "body_text": "Turning an array into an object is a great opportunity to use reduce:\ngroups.reduce((optionsMap, group) => { \n  optionsMap[group.value] = group.options; \n  return optionsMap; \n}, {}); \nThis also avoids copying the objects from the state, which I don't think we need to do here either.", "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/595", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/105827146", "created_at": "2017-03-14T04:44:33Z", "author_association": "MEMBER", "body": "Turning an array into an object is a great opportunity to use reduce:\r\n\r\n```js\r\ngroups.reduce((optionsMap, group) => { \r\n  optionsMap[group.value] = group.options; \r\n  return optionsMap; \r\n}, {}); \r\n```\r\n\r\nThis also avoids copying the objects from the state, which I don't think we need to do here either.", "updated_at": "2017-04-17T18:39:15Z", "html_url": "https://github.com/mozilla/normandy/pull/595#discussion_r105827146", "pull_request_review_id": 26681945, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/105827146"}, "html": {"href": "https://github.com/mozilla/normandy/pull/595#discussion_r105827146"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/595"}}, "commit_id": "4fa35e564b9c52cef07a720371a94f5cd0e1de76", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "position": null, "path": "recipe-server/client/control/selectors/FiltersSelector.js", "body_html": "<p>Turning an array into an object is a great opportunity to use reduce:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">groups</span>.<span class=\"pl-en\">reduce</span>((<span class=\"pl-smi\">optionsMap</span>, <span class=\"pl-smi\">group</span>) <span class=\"pl-k\">=&gt;</span> { \n  optionsMap[<span class=\"pl-smi\">group</span>.<span class=\"pl-c1\">value</span>] <span class=\"pl-k\">=</span> <span class=\"pl-smi\">group</span>.<span class=\"pl-c1\">options</span>; \n  <span class=\"pl-k\">return</span> optionsMap; \n}, {}); </pre></div>\n<p>This also avoids copying the objects from the state, which I don't think we need to do here either.</p>", "original_commit_id": "06e1a003b7df1c373c774e52b1bb31eaeb7234ed", "id": 105827146}