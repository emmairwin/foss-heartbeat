{"original_position": 15, "diff_hunk": "@@ -0,0 +1,49 @@\n+import pytest\n+\n+from normandy.base.utils import Whatever\n+from normandy.recipes.tests import RecipeActionFactory, RecipeFactory\n+\n+@pytest.mark.django_db\n+class TestFetchBundleAPI(object):\n+\n+    def test_it_works(self, client):\n+        res = client.post('/api/v1/fetch_bundle/')\n+        assert res.status_code == 200\n+        assert res.data == {'recipes': []}\n+\n+    def test_it_serves_recipes(self, client):\n+        recipe_action = RecipeActionFactory(arguments={'foo': 'bar'})", "body_text": "Huh, I swear it used to used the build strategy by default.\nWhat I was trying to convey was a suggestion to call RecipeActionFactory.create instead of just RecipeActionFactory, so that it's obvious whether you're creating it in the database or not regardless of what you set the default strategy to be.", "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/12", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/50614990", "created_at": "2016-01-23T03:24:47Z", "author_association": "MEMBER", "body": "Huh, I swear it used to used the [build strategy](http://factoryboy.readthedocs.org/en/latest/reference.html#factory.BUILD_STRATEGY) by default. \n\nWhat I was trying to convey was a suggestion to call `RecipeActionFactory.create` instead of just `RecipeActionFactory`, so that it's obvious whether you're creating it in the database or not regardless of what you set the default strategy to be.\n", "updated_at": "2016-01-25T17:23:36Z", "html_url": "https://github.com/mozilla/normandy/pull/12#discussion_r50614990", "pull_request_review_id": null, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/50614990"}, "html": {"href": "https://github.com/mozilla/normandy/pull/12#discussion_r50614990"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/12"}}, "commit_id": "f7dd9510c1b88503835e3934ea031dea85685516", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "position": 16, "path": "normandy/classifier/tests/test_api.py", "body_html": "<p>Huh, I swear it used to used the <a href=\"http://factoryboy.readthedocs.org/en/latest/reference.html#factory.BUILD_STRATEGY\" rel=\"nofollow\">build strategy</a> by default.</p>\n<p>What I was trying to convey was a suggestion to call <code>RecipeActionFactory.create</code> instead of just <code>RecipeActionFactory</code>, so that it's obvious whether you're creating it in the database or not regardless of what you set the default strategy to be.</p>", "original_commit_id": "385567b0f418e4a68348bb51841a4a0d7a7544dc", "id": 50614990}