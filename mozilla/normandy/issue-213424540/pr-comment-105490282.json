{"original_position": 11, "diff_hunk": "@@ -4,11 +4,14 @@\n from django.shortcuts import render\n from django.views.decorators.cache import cache_control\n \n+from csp.decorators import csp_replace\n from rest_framework.reverse import reverse\n \n from normandy.base.decorators import short_circuit_middlewares\n \n \n+# This page is primarily used by a hidden iframe in Firefox, so allow framing.\n+@csp_replace(FRAME_SRC='*', FRAME_ANCESTORS='*')", "body_text": "I'm not sure what the origin should be. We aren't being iframed in the traditional sense, but we are being loaded in a \"hidden browser\". I'd be happy to restrict the origin to only that, if we can figure out what it is.", "in_reply_to_id": 105474861, "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/604", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/105490282", "created_at": "2017-03-10T21:15:05Z", "author_association": "MEMBER", "body": "I'm not sure what the origin should be. We aren't being iframed in the traditional sense, but we are being [loaded in a \"hidden browser\"](https://dxr.mozilla.org/mozilla-central/source/browser/modules/SelfSupportBackend.jsm?q=path%3Aself+ext%3Ajsm&redirect_type=single#255-269). I'd be happy to restrict the origin to only that, if we can figure out what it is.", "updated_at": "2017-03-14T17:38:28Z", "html_url": "https://github.com/mozilla/normandy/pull/604#discussion_r105490282", "pull_request_review_id": 26378616, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/105490282"}, "html": {"href": "https://github.com/mozilla/normandy/pull/604#discussion_r105490282"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/604"}}, "commit_id": "1348521deb365b6756fff6764eb89af69a56cf40", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "position": null, "path": "recipe-server/normandy/selfrepair/views.py", "body_html": "<p>I'm not sure what the origin should be. We aren't being iframed in the traditional sense, but we are being <a href=\"https://dxr.mozilla.org/mozilla-central/source/browser/modules/SelfSupportBackend.jsm?q=path%3Aself+ext%3Ajsm&amp;redirect_type=single#255-269\" rel=\"nofollow\">loaded in a \"hidden browser\"</a>. I'd be happy to restrict the origin to only that, if we can figure out what it is.</p>", "original_commit_id": "f2c63acc83008f88fb64a60888809507c501a82d", "id": 105490282}