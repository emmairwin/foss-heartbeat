{"original_position": 57, "diff_hunk": "@@ -70,79 +74,84 @@ describe('controlApp Actions', () => {\n     const expectedAction = { type: actionTypes.RECIPES_RECEIVED, recipes: fixtureRecipes }\n     spyOn(window, 'fetch').and.returnValue(successPromise(fixtureRecipes));\n \n-    return store.dispatch(controlActions.makeApiRequest('fetchAllRecipes')).then(() => {\n+    return store.dispatch(actionTypes.makeApiRequest('fetchAllRecipes'))\n+    .then((response) => {\n+      store.dispatch(actionTypes.recipesReceived(response));", "body_text": "The test description says that we're testing that this action is dispatched on a successful fetch, but you've changed the API so that this action isn't automatically dispatched. Manually dispatching it in the test and then asserting below that is was dispatched doesn't test anything.\nAt this point this test is about testing that the makeApiRequest action calls window.fetch with the proper arguments. The description should be updated and the other assertions removed.", "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/171", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/68302107", "created_at": "2016-06-23T19:46:42Z", "author_association": "MEMBER", "body": "The test description says that we're testing that this action is dispatched on a successful fetch, but you've changed the API so that this action isn't automatically dispatched. Manually dispatching it in the test and then asserting below that is was dispatched doesn't test anything.\n\nAt this point this test is about testing that the `makeApiRequest` action calls `window.fetch` with the proper arguments. The description should be updated and the other assertions removed.\n", "updated_at": "2016-06-29T19:03:17Z", "html_url": "https://github.com/mozilla/normandy/pull/171#discussion_r68302107", "pull_request_review_id": null, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/68302107"}, "html": {"href": "https://github.com/mozilla/normandy/pull/171#discussion_r68302107"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/171"}}, "commit_id": "eccf53d0106764be093f2baebd03f9dd2896165f", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "position": null, "path": "normandy/control/tests/actions/controlActions.js", "body_html": "<p>The test description says that we're testing that this action is dispatched on a successful fetch, but you've changed the API so that this action isn't automatically dispatched. Manually dispatching it in the test and then asserting below that is was dispatched doesn't test anything.</p>\n<p>At this point this test is about testing that the <code>makeApiRequest</code> action calls <code>window.fetch</code> with the proper arguments. The description should be updated and the other assertions removed.</p>", "original_commit_id": "e0953fd4f1bbdd71eaf1f941bac4f51ba4253807", "id": 68302107}