{"original_position": 26, "diff_hunk": "@@ -0,0 +1,48 @@\n+/* This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n+\n+\"use strict\";\n+\n+const {utils: Cu} = Components;\n+Cu.import(\"resource://gre/modules/XPCOMUtils.jsm\");\n+\n+XPCOMUtils.defineLazyModuleGetter(\n+  this, \"UptakeTelemetry\", \"resource://services-common/uptake-telemetry.js\");\n+\n+this.EXPORTED_SYMBOLS = [\"Uptake\"];\n+\n+const SOURCE_PREFIX = \"shield-recipe-client\";\n+\n+this.Uptake = {\n+  // Action uptake\n+  ACTION_NETWORK_ERROR: UptakeTelemetry.STATUS.NETWORK_ERROR,\n+  ACTION_PRE_EXECUTION_ERROR: UptakeTelemetry.STATUS.CUSTOM_1_ERROR,\n+  ACTION_POST_EXECUTION_ERROR: UptakeTelemetry.STATUS.CUSTOM_2_ERROR,\n+  ACTION_SERVER_ERROR: UptakeTelemetry.STATUS.SERVER_ERROR,\n+  ACTION_SUCCESS: UptakeTelemetry.STATUS.SUCCESS,\n+\n+  // Per-recipe uptake\n+  RECIPE_ACTION_DISABLED: UptakeTelemetry.STATUS.CUSTOM_1_ERROR,", "body_text": "DISABLED here doesn't mean that the user disabled anything, but rather than an error in executing part of the action code caused us to disable running any recipes using that action. Actions have pre- and post-execution hooks, and if the pre-execution hook fails, we don't run recipes using that action since they may rely on state that hasn't been initialized.\nI could find any statuses that reflected this kind of partial execution error, so I went with the custom one (thank heavens for the custom ones!).", "in_reply_to_id": 124351384, "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/818", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/128807015", "created_at": "2017-07-21T16:41:43Z", "author_association": "MEMBER", "body": "`DISABLED` here doesn't mean that the user disabled anything, but rather than an error in executing part of the action code caused us to disable running any recipes using that action. Actions have pre- and post-execution hooks, and if the pre-execution hook fails, we don't run recipes using that action since they may rely on state that hasn't been initialized.\r\n\r\nI could find any statuses that reflected this kind of partial execution error, so I went with the custom one (thank heavens for the custom ones!).", "updated_at": "2017-07-21T16:50:57Z", "html_url": "https://github.com/mozilla/normandy/pull/818#discussion_r128807015", "pull_request_review_id": 51525091, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/128807015"}, "html": {"href": "https://github.com/mozilla/normandy/pull/818#discussion_r128807015"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/818"}}, "commit_id": "93c2a45d817d55211a5aa0ea6379d3d9f8800a8b", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "position": 26, "path": "recipe-client-addon/lib/Uptake.jsm", "body_html": "<p><code>DISABLED</code> here doesn't mean that the user disabled anything, but rather than an error in executing part of the action code caused us to disable running any recipes using that action. Actions have pre- and post-execution hooks, and if the pre-execution hook fails, we don't run recipes using that action since they may rely on state that hasn't been initialized.</p>\n<p>I could find any statuses that reflected this kind of partial execution error, so I went with the custom one (thank heavens for the custom ones!).</p>", "original_commit_id": "e72a924a538fd828b3d00b957e588c7fddd1d0ea", "id": 128807015}