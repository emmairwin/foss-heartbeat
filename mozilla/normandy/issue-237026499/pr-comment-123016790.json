{"original_position": 93, "diff_hunk": "@@ -174,13 +199,17 @@ this.RecipeRunner = {\n \n       try {\n         await manager.runAsyncCallback(\"postExecution\");\n+        Uptake.reportAction(actionName, Uptake.ACTION_SUCCESS);\n       } catch (err) {\n         log.info(`Could not run post-execution hook for ${actionName}:`, err.message);\n+        Uptake.reportAction(actionName, Uptake.ACTION_POST_EXECUTION_ERROR);\n       }\n     }\n \n     // Nuke sandboxes\n     Object.values(actionSandboxManagers).forEach(manager => manager.removeHold(\"recipeRunner\"));\n+\n+    Uptake.reportRunner(Uptake.RUNNER_SUCCESS);", "body_text": "Yes. Runner status is meant to track whether the runner as a whole was successful, vs things that stop the runner entirely (like errors fetching the recipes, or uncaught exceptions). This would allow, for example, us to see what percentage of all recipe runs are affected by a fetch problem, even if, at the same time, an action is also throwing an error.", "in_reply_to_id": 122926975, "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/818", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/123016790", "created_at": "2017-06-20T15:49:53Z", "author_association": "MEMBER", "body": "Yes. Runner status is meant to track whether the runner as a whole was successful, vs things that stop the runner entirely (like errors fetching the recipes, or uncaught exceptions). This would allow, for example, us to see what percentage of all recipe runs are affected by a fetch problem, even if, at the same time, an action is also throwing an error.", "updated_at": "2017-07-21T16:50:57Z", "html_url": "https://github.com/mozilla/normandy/pull/818#discussion_r123016790", "pull_request_review_id": 45181872, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/123016790"}, "html": {"href": "https://github.com/mozilla/normandy/pull/818#discussion_r123016790"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/818"}}, "commit_id": "93c2a45d817d55211a5aa0ea6379d3d9f8800a8b", "user": {"following_url": "https://api.github.com/users/Osmose/following{/other_user}", "events_url": "https://api.github.com/users/Osmose/events{/privacy}", "organizations_url": "https://api.github.com/users/Osmose/orgs", "url": "https://api.github.com/users/Osmose", "gists_url": "https://api.github.com/users/Osmose/gists{/gist_id}", "html_url": "https://github.com/Osmose", "subscriptions_url": "https://api.github.com/users/Osmose/subscriptions", "avatar_url": "https://avatars1.githubusercontent.com/u/193106?v=4", "repos_url": "https://api.github.com/users/Osmose/repos", "received_events_url": "https://api.github.com/users/Osmose/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/Osmose/starred{/owner}{/repo}", "site_admin": false, "login": "Osmose", "type": "User", "id": 193106, "followers_url": "https://api.github.com/users/Osmose/followers"}, "position": null, "path": "recipe-client-addon/lib/RecipeRunner.jsm", "body_html": "<p>Yes. Runner status is meant to track whether the runner as a whole was successful, vs things that stop the runner entirely (like errors fetching the recipes, or uncaught exceptions). This would allow, for example, us to see what percentage of all recipe runs are affected by a fetch problem, even if, at the same time, an action is also throwing an error.</p>", "original_commit_id": "260749b2fb00e039a207680482c91bc975ee972d", "id": 123016790}