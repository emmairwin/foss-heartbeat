{"original_position": 23, "diff_hunk": "@@ -57,6 +57,10 @@ export default class RecipeForm extends React.PureComponent {\n     'opt-out-study': OptOutStudyFields,\n   };\n \n+  componentDidMount() {\n+    this.defaultIdenticonSeed = this.defaultIdenticonSeed || IdenticonField.generateSeed();", "body_text": "I guess I'm still not getting something. Why do we store a default at all? Couldn't we leave the initialValue of the form item empty, and let it sort itself out? This seems like complexity that IdenticonField should be handling.\nAlso, if we keep it this way, the this.defaultIdenticonSeed will always be undefined in the constructor, so the set-if-not-exists dance isn't useful there.", "in_reply_to_id": 144089297, "pull_request_url": "https://api.github.com/repos/mozilla/normandy/pulls/1103", "url": "https://api.github.com/repos/mozilla/normandy/pulls/comments/144989314", "created_at": "2017-10-16T22:48:09Z", "author_association": "MEMBER", "body": "I guess I'm still not getting something. Why do we store a default at all? Couldn't we leave the `initialValue` of the form item empty, and let it sort itself out? This seems like complexity that `IdenticonField` should be handling.\r\n\r\nAlso, if we keep it this way, the `this.defaultIdenticonSeed` will always be undefined in the constructor, so the set-if-not-exists dance isn't useful there.", "updated_at": "2017-10-18T16:35:27Z", "html_url": "https://github.com/mozilla/normandy/pull/1103#discussion_r144989314", "pull_request_review_id": 69723395, "_links": {"self": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/comments/144989314"}, "html": {"href": "https://github.com/mozilla/normandy/pull/1103#discussion_r144989314"}, "pull_request": {"href": "https://api.github.com/repos/mozilla/normandy/pulls/1103"}}, "commit_id": "1a10f6dda6963db629ca356e154a50c70692bbf9", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "position": null, "path": "recipe-server/client/control/components/recipes/RecipeForm.js", "body_html": "<p>I guess I'm still not getting something. Why do we store a default at all? Couldn't we leave the <code>initialValue</code> of the form item empty, and let it sort itself out? This seems like complexity that <code>IdenticonField</code> should be handling.</p>\n<p>Also, if we keep it this way, the <code>this.defaultIdenticonSeed</code> will always be undefined in the constructor, so the set-if-not-exists dance isn't useful there.</p>", "original_commit_id": "66246d7d7d6540357806b6bd9e6d180097dea86f", "id": 144989314}