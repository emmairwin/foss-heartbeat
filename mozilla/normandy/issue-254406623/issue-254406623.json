{"body_text": "This depends on #1012. The first unique commit is 9ee2382.\n@Osmose and I had previously talked about adding an independent middleware, and not modifying SecurityMiddleware. I started implementing this, and in the end it was pretty much a complete reimplementation of SecurityMiddleware.processRequest. Instead of duplicating that code, I instead subclassed it. When the original middleware returns a 301, the new middleware logs it and adds cache headers.", "labels": [], "number": 1018, "assignee": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "repository_url": "https://api.github.com/repos/mozilla/normandy", "closed_at": "2017-09-05T19:22:04Z", "body_html": "<p>This depends on <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load issue title\" data-id=\"253816576\" data-permission-text=\"Issue title is private\" data-url=\"https://github.com/mozilla/normandy/issues/1012\" href=\"https://github.com/mozilla/normandy/pull/1012\">#1012</a>. The first unique commit is <a class=\"commit-link\" href=\"https://github.com/mozilla/normandy/commit/9ee2382b0407756d5d047a59ef594adb9921d042\"><tt>9ee2382</tt></a>.</p>\n<p><a class=\"user-mention\" href=\"https://github.com/osmose\">@Osmose</a> and I had previously talked about adding an independent middleware, and not modifying <code>SecurityMiddleware</code>. I started implementing this, and in the end it was pretty much a complete reimplementation of <code>SecurityMiddleware.processRequest</code>. Instead of duplicating that code, I instead subclassed it. When the original middleware returns a 301, the new middleware logs it and adds cache headers.</p>", "id": 254406623, "title": "Fix #1013 - Log HTTP to HTTPS redirects, and add cache headers.", "pull_request": {"url": "https://api.github.com/repos/mozilla/normandy/pulls/1018", "diff_url": "https://github.com/mozilla/normandy/pull/1018.diff", "html_url": "https://github.com/mozilla/normandy/pull/1018", "patch_url": "https://github.com/mozilla/normandy/pull/1018.patch"}, "comments": 4, "state": "closed", "body": "This depends on #1012. The first unique commit is 9ee2382.\r\n\r\n@Osmose and I had previously talked about adding an independent middleware, and not modifying `SecurityMiddleware`. I started implementing this, and in the end it was pretty much a complete reimplementation of `SecurityMiddleware.processRequest`. Instead of duplicating that code, I instead subclassed it. When the original middleware returns a 301, the new middleware logs it and adds cache headers.", "events_url": "https://api.github.com/repos/mozilla/normandy/issues/1018/events", "labels_url": "https://api.github.com/repos/mozilla/normandy/issues/1018/labels{/name}", "author_association": "MEMBER", "comments_url": "https://api.github.com/repos/mozilla/normandy/issues/1018/comments", "html_url": "https://github.com/mozilla/normandy/pull/1018", "updated_at": "2017-09-05T19:22:08Z", "user": {"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}, "milestone": null, "locked": false, "url": "https://api.github.com/repos/mozilla/normandy/issues/1018", "created_at": "2017-08-31T17:13:20Z", "assignees": [{"following_url": "https://api.github.com/users/mythmon/following{/other_user}", "events_url": "https://api.github.com/users/mythmon/events{/privacy}", "organizations_url": "https://api.github.com/users/mythmon/orgs", "url": "https://api.github.com/users/mythmon", "gists_url": "https://api.github.com/users/mythmon/gists{/gist_id}", "html_url": "https://github.com/mythmon", "subscriptions_url": "https://api.github.com/users/mythmon/subscriptions", "avatar_url": "https://avatars3.githubusercontent.com/u/305049?v=4", "repos_url": "https://api.github.com/users/mythmon/repos", "received_events_url": "https://api.github.com/users/mythmon/received_events", "gravatar_id": "", "starred_url": "https://api.github.com/users/mythmon/starred{/owner}{/repo}", "site_admin": false, "login": "mythmon", "type": "User", "id": 305049, "followers_url": "https://api.github.com/users/mythmon/followers"}]}